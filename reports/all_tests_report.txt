PHPUnit 11.5.24 by Sebastian Bergmann and contributors.

Runtime:       PHP 8.2.10
Configuration: D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\phpunit.xml


   PASS  Tests\Unit\ExampleTest
  ✓ that true is true                                                                                           0.02s  

   PASS  Tests\Feature\AdministrativeManagementTest
  ✓ guest can view school list                                                                                  0.73s  
  ✓ guest can view medical list                                                                                 0.08s  
  ✓ guest can view center list                                                                                  0.06s  
  ✓ authenticated user can view create school form                                                              0.15s  
  ✓ authenticated user can view create medical form                                                             0.09s  
  ✓ authenticated user can view create center form                                                              0.15s  
  ✓ authenticated user can create new school                                                                    0.18s  
  ✓ authenticated user can create new medical                                                                   0.04s  
  ✓ authenticated user can create new center                                                                    0.04s  
  ✓ cannot create administrative with duplicate name                                                            0.06s  
  ✓ authenticated user can view edit school form                                                                0.05s  
  ✓ authenticated user can update school                                                                        0.05s  
  ✓ authenticated user can delete school                                                                        0.04s  
  ✓ authenticated user can delete multiple schools                                                              0.04s  
  ✓ school list can be searched                                                                                 0.05s  
  ✓ guest cannot access create school form                                                                      0.03s  
  ✓ guest cannot access create medical form                                                                     0.03s  
  ✓ guest cannot access create center form                                                                      0.04s  

   PASS  Tests\Feature\AuthTest
  ✓ user can view login page                                                                                    0.04s  
  ✓ user can login with valid credentials                                                                       0.04s  
  ✓ user cannot login with invalid credentials                                                                  0.23s  
  ✓ user can logout                                                                                             0.04s  
  ✓ user can view edit profile page                                                                             0.06s  
  ✓ user can update profile                                                                                     0.05s  
  ✓ user cannot update profile with duplicate username                                                          0.03s  

   PASS  Tests\Feature\Auth\AuthenticationTest
  ✓ login screen can be rendered                                                                                0.03s  
  ✓ users can authenticate using the login screen                                                               0.03s  
  ✓ users can not authenticate with invalid password                                                            0.23s  
  ✓ users can logout                                                                                            0.03s  

   PASS  Tests\Feature\BasicTest
  ✓ homepage works                                                                                              0.09s  
  ✓ login page works                                                                                            0.03s  
  ✓ user can login                                                                                              0.05s  
  ✓ user can logout                                                                                             0.04s  
  ✓ city management works                                                                                       0.11s  
  ✓ user management works                                                                                       0.08s  
  ✓ incident report works                                                                                       0.07s  
  ✓ chat functionality works                                                                                    0.04s  
  ✓ guest can subscribe to disaster alerts                                                                      0.03s  
  ✓ basic factories work                                                                                        0.03s  
  ✓ public pages are accessible                                                                                 0.29s  

   FAIL  Tests\Feature\CalamityManagementTest
  ⨯ guest can view flooding calamity list                                                                       0.82s  
  ⨯ guest can view storm calamity list                                                                          0.85s  
  ⨯ guest can view river bank calamity list                                                                     0.71s  
  ✓ authenticated user can view create flooding calamity form                                                   0.08s  
  ✓ authenticated user can view create storm calamity form                                                      0.05s  
  ✓ authenticated user can view create river bank calamity form                                                 0.05s  
  ⨯ authenticated user can create new flooding calamity                                                         0.62s  
  ⨯ authenticated user can create new storm calamity                                                            0.61s  
  ⨯ authenticated user can create new river bank calamity                                                       0.67s  
  ✓ authenticated user can view edit flooding calamity form                                                     0.07s  
  ⨯ authenticated user can update flooding calamity                                                             0.57s  
  ⨯ authenticated user can delete flooding calamity                                                             0.04s  
  ✓ authenticated user can delete multiple flooding calamities                                                  0.03s  
  ⨯ flooding calamity list can be searched                                                                      0.49s  
  ✓ guest cannot access create flooding calamity form                                                           0.03s  
  ✓ guest cannot access create storm calamity form                                                              0.03s  
  ✓ guest cannot access create river bank calamity form                                                         0.03s  

   PASS  Tests\Feature\CityManagementTest
  ✓ guest can view city list                                                                                    0.07s  
  ✓ authenticated user can view create city form                                                                0.04s  
  ✓ authenticated user can create new city                                                                      0.03s  
  ✓ cannot create city with duplicate name                                                                      0.03s  
  ✓ cannot create city with duplicate code                                                                      0.03s  
  ✓ authenticated user can view edit city form                                                                  0.04s  
  ✓ authenticated user can update city                                                                          0.03s  
  ✓ authenticated user can delete city                                                                          0.03s  
  ✓ authenticated user can delete multiple cities                                                               0.03s  
  ✓ city list can be searched                                                                                   0.05s  
  ✓ guest cannot access create city form                                                                        0.03s  

   PASS  Tests\Feature\CommuneManagementTest
  ✓ guest can view commune list                                                                                 0.05s  
  ✓ authenticated user can view create commune form                                                             0.04s  
  ✓ authenticated user can create new commune                                                                   0.03s  
  ✓ cannot create commune with duplicate name                                                                   0.03s  
  ✓ cannot create commune with duplicate code                                                                   0.03s  
  ✓ authenticated user can view edit commune form                                                               0.05s  
  ✓ authenticated user can update commune                                                                       0.03s  
  ✓ authenticated user can delete commune                                                                       0.03s  
  ✓ authenticated user can delete multiple communes                                                             0.03s  
  ✓ commune list can be searched                                                                                0.05s  
  ✓ can get communes by district                                                                                0.03s  
  ✓ guest cannot access create commune form                                                                     0.03s  

   PASS  Tests\Feature\DistrictManagementTest
  ✓ guest can view district list                                                                                0.06s  
  ✓ authenticated user can view create district form                                                            0.04s  
  ✓ authenticated user can create new district                                                                  0.03s  
  ✓ cannot create district with duplicate name                                                                  0.03s  
  ✓ cannot create district with duplicate code                                                                  0.03s  
  ✓ authenticated user can view edit district form                                                              0.04s  
  ✓ authenticated user can update district                                                                      0.03s  
  ✓ authenticated user can delete district                                                                      0.03s  
  ✓ authenticated user can delete multiple districts                                                            0.03s  
  ✓ district list can be searched                                                                               0.07s  
  ✓ guest cannot access create district form                                                                    0.03s  

   FAIL  Tests\Feature\ExampleTest
  ⨯ the application returns a successful response                                                               0.57s  

   FAIL  Tests\Feature\IncidentReportTest
  ✓ guest can view incident report page                                                                         0.04s  
  ✓ guest can view create incident report page                                                                  0.04s  
  ✓ guest can create incident report                                                                            0.03s  
  ✓ incident report requires required fields                                                                    0.03s  
  ✓ authenticated user can delete incident report                                                               0.03s  
  ⨯ authenticated user can delete multiple incident reports                                                     0.03s  
  ✓ can get sub type of calamities                                                                              0.04s  
  ✓ can get communes by district                                                                                0.03s  
  ✓ incident report list displays data                                                                          0.04s  
  ✓ guest cannot delete incident reports                                                                        0.03s  

   FAIL  Tests\Feature\IntegrationTest
  ⨯ complete workflow from login to calamity management                                                         0.07s  
  ✓ guest can access public features                                                                            0.11s  
  ✓ authentication flow                                                                                         0.04s  
  ✓ data relationships work correctly                                                                           0.03s  
  ✓ search functionality                                                                                        0.05s  
  ✓ bulk operations                                                                                             0.03s  

   PASS  Tests\Feature\SimpleTest
  ✓ basic authentication                                                                                        0.03s  
  ✓ user can logout                                                                                             0.03s  
  ✓ guest can access public pages                                                                               0.03s  

   WARN  Tests\Feature\TypeOfCalamityManagementTest
  ✓ guest can view type of calamity list                                                                        0.06s  
  ✓ authenticated user can view create type of calamity form                                                    0.04s  
  ✓ authenticated user can create new type of calamity                                                          0.03s  
  - cannot create type of calamity with duplicate name → Validation for duplicate name not working properly     0.02s  
  ✓ authenticated user can view edit type of calamity form                                                      0.04s  
  - authenticated user can update type of calamity → Update route not properly configured                       0.02s  
  ✓ authenticated user can delete type of calamity                                                              0.03s  
  ✓ authenticated user can delete multiple type of calamities                                                   0.03s  
  ✓ type of calamity list can be searched                                                                       0.05s  
  ✓ guest cannot access create type of calamity form                                                            0.03s  

   FAIL  Tests\Feature\UserManagementTest
  ✓ authenticated user can view user list                                                                       0.07s  
  ✓ authenticated user can view create user form                                                                0.05s  
  ⨯ authenticated user can create new user                                                                      0.04s  
  ✓ cannot create user with duplicate user name                                                                 0.04s  
  ✓ cannot create user with duplicate email                                                                     0.04s  
  ✓ authenticated user can view edit user form                                                                  0.07s  
  ⨯ authenticated user can update user                                                                          0.04s  
  ✓ authenticated user can delete user                                                                          0.03s  
  ✓ authenticated user can delete multiple users                                                                0.03s  
  ⨯ user list can be searched                                                                                   0.07s  
  ✓ guest cannot access user management                                                                         0.03s  
  ✓ guest cannot access create user form                                                                        0.03s  
  ───────────────────────────────────────────────────────────────────────────────────────────────────────────────────  
   FAILED  Tests\Feature\CalamityManagementTest > guest can view flooding calamity list                                
  Expected response status code [200] but received 500.
Failed asserting that 500 is identical to 200.

The following exception occurred during the last request:

PDOException: SQLSTATE[HY000]: General error: 1 no such function: YEAR in D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Connection.php:404
Stack trace:
#0 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Connection.php(404): PDO->prepare()
#1 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Connection.php(809): Illuminate\Database\Connection->Illuminate\Database\{closure}()
#2 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Connection.php(776): Illuminate\Database\Connection->runQueryCallback()
#3 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Connection.php(395): Illuminate\Database\Connection->run()
#4 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Query\Builder.php(3131): Illuminate\Database\Connection->select()
#5 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Query\Builder.php(3389): Illuminate\Database\Query\Builder->runSelect()
#6 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Query\Builder.php(3706): Illuminate\Database\Query\Builder->Illuminate\Database\Query\{closure}()
#7 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Query\Builder.php(3385): Illuminate\Database\Query\Builder->onceWithColumns()
#8 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Eloquent\Builder.php(1052): Illuminate\Database\Query\Builder->pluck()
#9 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\app\Http\Controllers\Calamities\FloodingCalamityController.php(82): Illuminate\Database\Eloquent\Builder->pluck()
#10 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Routing\Controller.php(54): App\Http\Controllers\Calamities\FloodingCalamityController->index()
#11 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Routing\ControllerDispatcher.php(43): Illuminate\Routing\Controller->callAction()
#12 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Routing\Route.php(265): Illuminate\Routing\ControllerDispatcher->dispatch()
#13 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Routing\Route.php(211): Illuminate\Routing\Route->runController()
#14 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Routing\Router.php(808): Illuminate\Routing\Route->run()
#15 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(169): Illuminate\Routing\Router->Illuminate\Routing\{closure}()
#16 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Routing\Middleware\SubstituteBindings.php(50): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#17 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Routing\Middleware\SubstituteBindings->handle()
#18 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\VerifyCsrfToken.php(87): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#19 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Foundation\Http\Middleware\VerifyCsrfToken->handle()
#20 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\View\Middleware\ShareErrorsFromSession.php(48): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#21 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\View\Middleware\ShareErrorsFromSession->handle()
#22 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Session\Middleware\StartSession.php(120): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#23 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Session\Middleware\StartSession.php(63): Illuminate\Session\Middleware\StartSession->handleStatefulRequest()
#24 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Session\Middleware\StartSession->handle()
#25 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Cookie\Middleware\AddQueuedCookiesToResponse.php(36): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#26 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Cookie\Middleware\AddQueuedCookiesToResponse->handle()
#27 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Cookie\Middleware\EncryptCookies.php(74): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#28 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Cookie\Middleware\EncryptCookies->handle()
#29 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(126): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#30 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Routing\Router.php(807): Illuminate\Pipeline\Pipeline->then()
#31 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Routing\Router.php(786): Illuminate\Routing\Router->runRouteWithinStack()
#32 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Routing\Router.php(750): Illuminate\Routing\Router->runRoute()
#33 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Routing\Router.php(739): Illuminate\Routing\Router->dispatchToRoute()
#34 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Http\Kernel.php(200): Illuminate\Routing\Router->dispatch()
#35 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(169): Illuminate\Foundation\Http\Kernel->Illuminate\Foundation\Http\{closure}()
#36 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#37 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\ConvertEmptyStringsToNull.php(31): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
#38 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Foundation\Http\Middleware\ConvertEmptyStringsToNull->handle()
#39 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#40 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\TrimStrings.php(51): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
#41 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Foundation\Http\Middleware\TrimStrings->handle()
#42 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Http\Middleware\ValidatePostSize.php(27): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#43 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Http\Middleware\ValidatePostSize->handle()
#44 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\PreventRequestsDuringMaintenance.php(109): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#45 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Foundation\Http\Middleware\PreventRequestsDuringMaintenance->handle()
#46 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Http\Middleware\HandleCors.php(48): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#47 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Http\Middleware\HandleCors->handle()
#48 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Http\Middleware\TrustProxies.php(58): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#49 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Http\Middleware\TrustProxies->handle()
#50 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\InvokeDeferredCallbacks.php(22): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#51 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Foundation\Http\Middleware\InvokeDeferredCallbacks->handle()
#52 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Http\Middleware\ValidatePathEncoding.php(26): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#53 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Http\Middleware\ValidatePathEncoding->handle()
#54 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(126): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#55 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Http\Kernel.php(175): Illuminate\Pipeline\Pipeline->then()
#56 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Http\Kernel.php(144): Illuminate\Foundation\Http\Kernel->sendRequestThroughRouter()
#57 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Testing\Concerns\MakesHttpRequests.php(607): Illuminate\Foundation\Http\Kernel->handle()
#58 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Testing\Concerns\MakesHttpRequests.php(368): Illuminate\Foundation\Testing\TestCase->call()
#59 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\tests\Feature\CalamityManagementTest.php(22): Illuminate\Foundation\Testing\TestCase->get()
#60 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\phpunit\phpunit\src\Framework\TestCase.php(1656): Tests\Feature\CalamityManagementTest->test_guest_can_view_flooding_calamity_list()
#61 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\phpunit\phpunit\src\Framework\TestCase.php(514): PHPUnit\Framework\TestCase->runTest()
#62 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\phpunit\phpunit\src\Framework\TestRunner\TestRunner.php(87): PHPUnit\Framework\TestCase->runBare()
#63 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\phpunit\phpunit\src\Framework\TestCase.php(361): PHPUnit\Framework\TestRunner->run()
#64 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\phpunit\phpunit\src\Framework\TestSuite.php(369): PHPUnit\Framework\TestCase->run()
#65 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\phpunit\phpunit\src\Framework\TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
#66 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\phpunit\phpunit\src\Framework\TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
#67 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\phpunit\phpunit\src\TextUI\TestRunner.php(64): PHPUnit\Framework\TestSuite->run()
#68 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\phpunit\phpunit\src\TextUI\Application.php(210): PHPUnit\TextUI\TestRunner->run()
#69 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\phpunit\phpunit\phpunit(104): PHPUnit\TextUI\Application->run()
#70 {main}

Next Illuminate\Database\QueryException: SQLSTATE[HY000]: General error: 1 no such function: YEAR (Connection: sqlite, SQL: select distinct YEAR(time_start) as year from "calamities" where exists (select * from "risk_levels" where "calamities"."risk_level_id" = "risk_levels"."id" and exists (select * from "type_of_calamities" where "risk_levels"."type_of_calamity_id" = "type_of_calamities"."id" and "slug" = ngap-lut)) order by "year" desc) in D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Connection.php:822
Stack trace:
#0 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Connection.php(776): Illuminate\Database\Connection->runQueryCallback()
#1 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Connection.php(395): Illuminate\Database\Connection->run()
#2 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Query\Builder.php(3131): Illuminate\Database\Connection->select()
#3 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Query\Builder.php(3389): Illuminate\Database\Query\Builder->runSelect()
#4 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Query\Builder.php(3706): Illuminate\Database\Query\Builder->Illuminate\Database\Query\{closure}()
#5 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Query\Builder.php(3385): Illuminate\Database\Query\Builder->onceWithColumns()
#6 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Eloquent\Builder.php(1052): Illuminate\Database\Query\Builder->pluck()
#7 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\app\Http\Controllers\Calamities\FloodingCalamityController.php(82): Illuminate\Database\Eloquent\Builder->pluck()
#8 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Routing\Controller.php(54): App\Http\Controllers\Calamities\FloodingCalamityController->index()
#9 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Routing\ControllerDispatcher.php(43): Illuminate\Routing\Controller->callAction()
#10 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Routing\Route.php(265): Illuminate\Routing\ControllerDispatcher->dispatch()
#11 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Routing\Route.php(211): Illuminate\Routing\Route->runController()
#12 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Routing\Router.php(808): Illuminate\Routing\Route->run()
#13 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(169): Illuminate\Routing\Router->Illuminate\Routing\{closure}()
#14 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Routing\Middleware\SubstituteBindings.php(50): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#15 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Routing\Middleware\SubstituteBindings->handle()
#16 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\VerifyCsrfToken.php(87): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#17 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Foundation\Http\Middleware\VerifyCsrfToken->handle()
#18 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\View\Middleware\ShareErrorsFromSession.php(48): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#19 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\View\Middleware\ShareErrorsFromSession->handle()
#20 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Session\Middleware\StartSession.php(120): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#21 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Session\Middleware\StartSession.php(63): Illuminate\Session\Middleware\StartSession->handleStatefulRequest()
#22 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Session\Middleware\StartSession->handle()
#23 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Cookie\Middleware\AddQueuedCookiesToResponse.php(36): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#24 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Cookie\Middleware\AddQueuedCookiesToResponse->handle()
#25 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Cookie\Middleware\EncryptCookies.php(74): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#26 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Cookie\Middleware\EncryptCookies->handle()
#27 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(126): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#28 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Routing\Router.php(807): Illuminate\Pipeline\Pipeline->then()
#29 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Routing\Router.php(786): Illuminate\Routing\Router->runRouteWithinStack()
#30 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Routing\Router.php(750): Illuminate\Routing\Router->runRoute()
#31 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Routing\Router.php(739): Illuminate\Routing\Router->dispatchToRoute()
#32 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Http\Kernel.php(200): Illuminate\Routing\Router->dispatch()
#33 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(169): Illuminate\Foundation\Http\Kernel->Illuminate\Foundation\Http\{closure}()
#34 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#35 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\ConvertEmptyStringsToNull.php(31): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
#36 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Foundation\Http\Middleware\ConvertEmptyStringsToNull->handle()
#37 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#38 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\TrimStrings.php(51): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
#39 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Foundation\Http\Middleware\TrimStrings->handle()
#40 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Http\Middleware\ValidatePostSize.php(27): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#41 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Http\Middleware\ValidatePostSize->handle()
#42 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\PreventRequestsDuringMaintenance.php(109): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#43 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Foundation\Http\Middleware\PreventRequestsDuringMaintenance->handle()
#44 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Http\Middleware\HandleCors.php(48): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#45 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Http\Middleware\HandleCors->handle()
#46 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Http\Middleware\TrustProxies.php(58): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#47 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Http\Middleware\TrustProxies->handle()
#48 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\InvokeDeferredCallbacks.php(22): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#49 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Foundation\Http\Middleware\InvokeDeferredCallbacks->handle()
#50 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Http\Middleware\ValidatePathEncoding.php(26): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#51 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Http\Middleware\ValidatePathEncoding->handle()
#52 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(126): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#53 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Http\Kernel.php(175): Illuminate\Pipeline\Pipeline->then()
#54 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Http\Kernel.php(144): Illuminate\Foundation\Http\Kernel->sendRequestThroughRouter()
#55 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Testing\Concerns\MakesHttpRequests.php(607): Illuminate\Foundation\Http\Kernel->handle()
#56 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Testing\Concerns\MakesHttpRequests.php(368): Illuminate\Foundation\Testing\TestCase->call()
#57 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\tests\Feature\CalamityManagementTest.php(22): Illuminate\Foundation\Testing\TestCase->get()
#58 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\phpunit\phpunit\src\Framework\TestCase.php(1656): Tests\Feature\CalamityManagementTest->test_guest_can_view_flooding_calamity_list()
#59 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\phpunit\phpunit\src\Framework\TestCase.php(514): PHPUnit\Framework\TestCase->runTest()
#60 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\phpunit\phpunit\src\Framework\TestRunner\TestRunner.php(87): PHPUnit\Framework\TestCase->runBare()
#61 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\phpunit\phpunit\src\Framework\TestCase.php(361): PHPUnit\Framework\TestRunner->run()
#62 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\phpunit\phpunit\src\Framework\TestSuite.php(369): PHPUnit\Framework\TestCase->run()
#63 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\phpunit\phpunit\src\Framework\TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
#64 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\phpunit\phpunit\src\Framework\TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
#65 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\phpunit\phpunit\src\TextUI\TestRunner.php(64): PHPUnit\Framework\TestSuite->run()
#66 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\phpunit\phpunit\src\TextUI\Application.php(210): PHPUnit\TextUI\TestRunner->run()
#67 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\phpunit\phpunit\phpunit(104): PHPUnit\TextUI\Application->run()
#68 {main}

----------------------------------------------------------------------------------

SQLSTATE[HY000]: General error: 1 no such function: YEAR (Connection: sqlite, SQL: select distinct YEAR(time_start) as year from "calamities" where exists (select * from "risk_levels" where "calamities"."risk_level_id" = "risk_levels"."id" and exists (select * from "type_of_calamities" where "risk_levels"."type_of_calamity_id" = "type_of_calamities"."id" and "slug" = ngap-lut)) order by "year" desc)

  at tests\Feature\CalamityManagementTest.php:23
     19▕ 
     20▕     public function test_guest_can_view_flooding_calamity_list(): void
     21▕     {
     22▕         $response = $this->get('/calamity/list-flooding');
  ➜  23▕         $response->assertStatus(200);
     24▕     }
     25▕ 
     26▕     public function test_guest_can_view_storm_calamity_list(): void
     27▕     {

  ───────────────────────────────────────────────────────────────────────────────────────────────────────────────────  
   FAILED  Tests\Feature\CalamityManagementTest > guest can view storm calamity list                                   
  Expected response status code [200] but received 500.
Failed asserting that 500 is identical to 200.

The following exception occurred during the last request:

PDOException: SQLSTATE[HY000]: General error: 1 no such function: YEAR in D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Connection.php:404
Stack trace:
#0 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Connection.php(404): PDO->prepare()
#1 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Connection.php(809): Illuminate\Database\Connection->Illuminate\Database\{closure}()
#2 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Connection.php(776): Illuminate\Database\Connection->runQueryCallback()
#3 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Connection.php(395): Illuminate\Database\Connection->run()
#4 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Query\Builder.php(3131): Illuminate\Database\Connection->select()
#5 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Query\Builder.php(3389): Illuminate\Database\Query\Builder->runSelect()
#6 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Query\Builder.php(3706): Illuminate\Database\Query\Builder->Illuminate\Database\Query\{closure}()
#7 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Query\Builder.php(3385): Illuminate\Database\Query\Builder->onceWithColumns()
#8 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Eloquent\Builder.php(1052): Illuminate\Database\Query\Builder->pluck()
#9 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\app\Http\Controllers\Calamities\StormCalamityController.php(83): Illuminate\Database\Eloquent\Builder->pluck()
#10 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Routing\Controller.php(54): App\Http\Controllers\Calamities\StormCalamityController->index()
#11 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Routing\ControllerDispatcher.php(43): Illuminate\Routing\Controller->callAction()
#12 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Routing\Route.php(265): Illuminate\Routing\ControllerDispatcher->dispatch()
#13 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Routing\Route.php(211): Illuminate\Routing\Route->runController()
#14 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Routing\Router.php(808): Illuminate\Routing\Route->run()
#15 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(169): Illuminate\Routing\Router->Illuminate\Routing\{closure}()
#16 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Routing\Middleware\SubstituteBindings.php(50): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#17 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Routing\Middleware\SubstituteBindings->handle()
#18 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\VerifyCsrfToken.php(87): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#19 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Foundation\Http\Middleware\VerifyCsrfToken->handle()
#20 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\View\Middleware\ShareErrorsFromSession.php(48): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#21 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\View\Middleware\ShareErrorsFromSession->handle()
#22 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Session\Middleware\StartSession.php(120): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#23 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Session\Middleware\StartSession.php(63): Illuminate\Session\Middleware\StartSession->handleStatefulRequest()
#24 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Session\Middleware\StartSession->handle()
#25 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Cookie\Middleware\AddQueuedCookiesToResponse.php(36): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#26 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Cookie\Middleware\AddQueuedCookiesToResponse->handle()
#27 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Cookie\Middleware\EncryptCookies.php(74): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#28 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Cookie\Middleware\EncryptCookies->handle()
#29 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(126): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#30 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Routing\Router.php(807): Illuminate\Pipeline\Pipeline->then()
#31 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Routing\Router.php(786): Illuminate\Routing\Router->runRouteWithinStack()
#32 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Routing\Router.php(750): Illuminate\Routing\Router->runRoute()
#33 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Routing\Router.php(739): Illuminate\Routing\Router->dispatchToRoute()
#34 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Http\Kernel.php(200): Illuminate\Routing\Router->dispatch()
#35 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(169): Illuminate\Foundation\Http\Kernel->Illuminate\Foundation\Http\{closure}()
#36 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#37 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\ConvertEmptyStringsToNull.php(31): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
#38 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Foundation\Http\Middleware\ConvertEmptyStringsToNull->handle()
#39 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#40 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\TrimStrings.php(51): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
#41 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Foundation\Http\Middleware\TrimStrings->handle()
#42 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Http\Middleware\ValidatePostSize.php(27): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#43 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Http\Middleware\ValidatePostSize->handle()
#44 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\PreventRequestsDuringMaintenance.php(109): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#45 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Foundation\Http\Middleware\PreventRequestsDuringMaintenance->handle()
#46 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Http\Middleware\HandleCors.php(48): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#47 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Http\Middleware\HandleCors->handle()
#48 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Http\Middleware\TrustProxies.php(58): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#49 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Http\Middleware\TrustProxies->handle()
#50 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\InvokeDeferredCallbacks.php(22): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#51 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Foundation\Http\Middleware\InvokeDeferredCallbacks->handle()
#52 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Http\Middleware\ValidatePathEncoding.php(26): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#53 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Http\Middleware\ValidatePathEncoding->handle()
#54 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(126): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#55 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Http\Kernel.php(175): Illuminate\Pipeline\Pipeline->then()
#56 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Http\Kernel.php(144): Illuminate\Foundation\Http\Kernel->sendRequestThroughRouter()
#57 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Testing\Concerns\MakesHttpRequests.php(607): Illuminate\Foundation\Http\Kernel->handle()
#58 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Testing\Concerns\MakesHttpRequests.php(368): Illuminate\Foundation\Testing\TestCase->call()
#59 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\tests\Feature\CalamityManagementTest.php(28): Illuminate\Foundation\Testing\TestCase->get()
#60 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\phpunit\phpunit\src\Framework\TestCase.php(1656): Tests\Feature\CalamityManagementTest->test_guest_can_view_storm_calamity_list()
#61 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\phpunit\phpunit\src\Framework\TestCase.php(514): PHPUnit\Framework\TestCase->runTest()
#62 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\phpunit\phpunit\src\Framework\TestRunner\TestRunner.php(87): PHPUnit\Framework\TestCase->runBare()
#63 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\phpunit\phpunit\src\Framework\TestCase.php(361): PHPUnit\Framework\TestRunner->run()
#64 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\phpunit\phpunit\src\Framework\TestSuite.php(369): PHPUnit\Framework\TestCase->run()
#65 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\phpunit\phpunit\src\Framework\TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
#66 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\phpunit\phpunit\src\Framework\TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
#67 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\phpunit\phpunit\src\TextUI\TestRunner.php(64): PHPUnit\Framework\TestSuite->run()
#68 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\phpunit\phpunit\src\TextUI\Application.php(210): PHPUnit\TextUI\TestRunner->run()
#69 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\phpunit\phpunit\phpunit(104): PHPUnit\TextUI\Application->run()
#70 {main}

Next Illuminate\Database\QueryException: SQLSTATE[HY000]: General error: 1 no such function: YEAR (Connection: sqlite, SQL: select distinct YEAR(time_start) as year from "calamities" where exists (select * from "risk_levels" where "calamities"."risk_level_id" = "risk_levels"."id" and exists (select * from "type_of_calamities" where "risk_levels"."type_of_calamity_id" = "type_of_calamities"."id" and "slug" = bao-ap-thap-nhiet-doi)) order by "year" desc) in D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Connection.php:822
Stack trace:
#0 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Connection.php(776): Illuminate\Database\Connection->runQueryCallback()
#1 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Connection.php(395): Illuminate\Database\Connection->run()
#2 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Query\Builder.php(3131): Illuminate\Database\Connection->select()
#3 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Query\Builder.php(3389): Illuminate\Database\Query\Builder->runSelect()
#4 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Query\Builder.php(3706): Illuminate\Database\Query\Builder->Illuminate\Database\Query\{closure}()
#5 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Query\Builder.php(3385): Illuminate\Database\Query\Builder->onceWithColumns()
#6 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Eloquent\Builder.php(1052): Illuminate\Database\Query\Builder->pluck()
#7 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\app\Http\Controllers\Calamities\StormCalamityController.php(83): Illuminate\Database\Eloquent\Builder->pluck()
#8 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Routing\Controller.php(54): App\Http\Controllers\Calamities\StormCalamityController->index()
#9 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Routing\ControllerDispatcher.php(43): Illuminate\Routing\Controller->callAction()
#10 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Routing\Route.php(265): Illuminate\Routing\ControllerDispatcher->dispatch()
#11 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Routing\Route.php(211): Illuminate\Routing\Route->runController()
#12 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Routing\Router.php(808): Illuminate\Routing\Route->run()
#13 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(169): Illuminate\Routing\Router->Illuminate\Routing\{closure}()
#14 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Routing\Middleware\SubstituteBindings.php(50): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#15 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Routing\Middleware\SubstituteBindings->handle()
#16 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\VerifyCsrfToken.php(87): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#17 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Foundation\Http\Middleware\VerifyCsrfToken->handle()
#18 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\View\Middleware\ShareErrorsFromSession.php(48): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#19 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\View\Middleware\ShareErrorsFromSession->handle()
#20 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Session\Middleware\StartSession.php(120): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#21 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Session\Middleware\StartSession.php(63): Illuminate\Session\Middleware\StartSession->handleStatefulRequest()
#22 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Session\Middleware\StartSession->handle()
#23 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Cookie\Middleware\AddQueuedCookiesToResponse.php(36): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#24 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Cookie\Middleware\AddQueuedCookiesToResponse->handle()
#25 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Cookie\Middleware\EncryptCookies.php(74): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#26 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Cookie\Middleware\EncryptCookies->handle()
#27 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(126): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#28 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Routing\Router.php(807): Illuminate\Pipeline\Pipeline->then()
#29 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Routing\Router.php(786): Illuminate\Routing\Router->runRouteWithinStack()
#30 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Routing\Router.php(750): Illuminate\Routing\Router->runRoute()
#31 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Routing\Router.php(739): Illuminate\Routing\Router->dispatchToRoute()
#32 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Http\Kernel.php(200): Illuminate\Routing\Router->dispatch()
#33 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(169): Illuminate\Foundation\Http\Kernel->Illuminate\Foundation\Http\{closure}()
#34 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#35 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\ConvertEmptyStringsToNull.php(31): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
#36 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Foundation\Http\Middleware\ConvertEmptyStringsToNull->handle()
#37 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#38 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\TrimStrings.php(51): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
#39 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Foundation\Http\Middleware\TrimStrings->handle()
#40 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Http\Middleware\ValidatePostSize.php(27): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#41 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Http\Middleware\ValidatePostSize->handle()
#42 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\PreventRequestsDuringMaintenance.php(109): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#43 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Foundation\Http\Middleware\PreventRequestsDuringMaintenance->handle()
#44 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Http\Middleware\HandleCors.php(48): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#45 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Http\Middleware\HandleCors->handle()
#46 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Http\Middleware\TrustProxies.php(58): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#47 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Http\Middleware\TrustProxies->handle()
#48 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\InvokeDeferredCallbacks.php(22): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#49 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Foundation\Http\Middleware\InvokeDeferredCallbacks->handle()
#50 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Http\Middleware\ValidatePathEncoding.php(26): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#51 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Http\Middleware\ValidatePathEncoding->handle()
#52 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(126): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#53 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Http\Kernel.php(175): Illuminate\Pipeline\Pipeline->then()
#54 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Http\Kernel.php(144): Illuminate\Foundation\Http\Kernel->sendRequestThroughRouter()
#55 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Testing\Concerns\MakesHttpRequests.php(607): Illuminate\Foundation\Http\Kernel->handle()
#56 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Testing\Concerns\MakesHttpRequests.php(368): Illuminate\Foundation\Testing\TestCase->call()
#57 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\tests\Feature\CalamityManagementTest.php(28): Illuminate\Foundation\Testing\TestCase->get()
#58 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\phpunit\phpunit\src\Framework\TestCase.php(1656): Tests\Feature\CalamityManagementTest->test_guest_can_view_storm_calamity_list()
#59 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\phpunit\phpunit\src\Framework\TestCase.php(514): PHPUnit\Framework\TestCase->runTest()
#60 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\phpunit\phpunit\src\Framework\TestRunner\TestRunner.php(87): PHPUnit\Framework\TestCase->runBare()
#61 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\phpunit\phpunit\src\Framework\TestCase.php(361): PHPUnit\Framework\TestRunner->run()
#62 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\phpunit\phpunit\src\Framework\TestSuite.php(369): PHPUnit\Framework\TestCase->run()
#63 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\phpunit\phpunit\src\Framework\TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
#64 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\phpunit\phpunit\src\Framework\TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
#65 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\phpunit\phpunit\src\TextUI\TestRunner.php(64): PHPUnit\Framework\TestSuite->run()
#66 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\phpunit\phpunit\src\TextUI\Application.php(210): PHPUnit\TextUI\TestRunner->run()
#67 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\phpunit\phpunit\phpunit(104): PHPUnit\TextUI\Application->run()
#68 {main}

----------------------------------------------------------------------------------

SQLSTATE[HY000]: General error: 1 no such function: YEAR (Connection: sqlite, SQL: select distinct YEAR(time_start) as year from "calamities" where exists (select * from "risk_levels" where "calamities"."risk_level_id" = "risk_levels"."id" and exists (select * from "type_of_calamities" where "risk_levels"."type_of_calamity_id" = "type_of_calamities"."id" and "slug" = bao-ap-thap-nhiet-doi)) order by "year" desc)

  at tests\Feature\CalamityManagementTest.php:29
     25▕ 
     26▕     public function test_guest_can_view_storm_calamity_list(): void
     27▕     {
     28▕         $response = $this->get('/calamity/list-storm');
  ➜  29▕         $response->assertStatus(200);
     30▕     }
     31▕ 
     32▕     public function test_guest_can_view_river_bank_calamity_list(): void
     33▕     {

  ───────────────────────────────────────────────────────────────────────────────────────────────────────────────────  
   FAILED  Tests\Feature\CalamityManagementTest > guest can view river bank calamity list                              
  Expected response status code [200] but received 500.
Failed asserting that 500 is identical to 200.

The following exception occurred during the last request:

PDOException: SQLSTATE[HY000]: General error: 1 no such function: YEAR in D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Connection.php:404
Stack trace:
#0 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Connection.php(404): PDO->prepare()
#1 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Connection.php(809): Illuminate\Database\Connection->Illuminate\Database\{closure}()
#2 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Connection.php(776): Illuminate\Database\Connection->runQueryCallback()
#3 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Connection.php(395): Illuminate\Database\Connection->run()
#4 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Query\Builder.php(3131): Illuminate\Database\Connection->select()
#5 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Query\Builder.php(3389): Illuminate\Database\Query\Builder->runSelect()
#6 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Query\Builder.php(3706): Illuminate\Database\Query\Builder->Illuminate\Database\Query\{closure}()
#7 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Query\Builder.php(3385): Illuminate\Database\Query\Builder->onceWithColumns()
#8 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Eloquent\Builder.php(1052): Illuminate\Database\Query\Builder->pluck()
#9 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\app\Http\Controllers\Calamities\RiverBankCalamityController.php(81): Illuminate\Database\Eloquent\Builder->pluck()
#10 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Routing\Controller.php(54): App\Http\Controllers\Calamities\RiverBankCalamityController->index()
#11 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Routing\ControllerDispatcher.php(43): Illuminate\Routing\Controller->callAction()
#12 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Routing\Route.php(265): Illuminate\Routing\ControllerDispatcher->dispatch()
#13 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Routing\Route.php(211): Illuminate\Routing\Route->runController()
#14 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Routing\Router.php(808): Illuminate\Routing\Route->run()
#15 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(169): Illuminate\Routing\Router->Illuminate\Routing\{closure}()
#16 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Routing\Middleware\SubstituteBindings.php(50): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#17 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Routing\Middleware\SubstituteBindings->handle()
#18 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\VerifyCsrfToken.php(87): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#19 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Foundation\Http\Middleware\VerifyCsrfToken->handle()
#20 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\View\Middleware\ShareErrorsFromSession.php(48): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#21 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\View\Middleware\ShareErrorsFromSession->handle()
#22 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Session\Middleware\StartSession.php(120): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#23 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Session\Middleware\StartSession.php(63): Illuminate\Session\Middleware\StartSession->handleStatefulRequest()
#24 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Session\Middleware\StartSession->handle()
#25 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Cookie\Middleware\AddQueuedCookiesToResponse.php(36): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#26 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Cookie\Middleware\AddQueuedCookiesToResponse->handle()
#27 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Cookie\Middleware\EncryptCookies.php(74): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#28 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Cookie\Middleware\EncryptCookies->handle()
#29 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(126): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#30 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Routing\Router.php(807): Illuminate\Pipeline\Pipeline->then()
#31 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Routing\Router.php(786): Illuminate\Routing\Router->runRouteWithinStack()
#32 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Routing\Router.php(750): Illuminate\Routing\Router->runRoute()
#33 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Routing\Router.php(739): Illuminate\Routing\Router->dispatchToRoute()
#34 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Http\Kernel.php(200): Illuminate\Routing\Router->dispatch()
#35 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(169): Illuminate\Foundation\Http\Kernel->Illuminate\Foundation\Http\{closure}()
#36 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#37 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\ConvertEmptyStringsToNull.php(31): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
#38 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Foundation\Http\Middleware\ConvertEmptyStringsToNull->handle()
#39 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#40 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\TrimStrings.php(51): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
#41 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Foundation\Http\Middleware\TrimStrings->handle()
#42 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Http\Middleware\ValidatePostSize.php(27): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#43 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Http\Middleware\ValidatePostSize->handle()
#44 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\PreventRequestsDuringMaintenance.php(109): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#45 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Foundation\Http\Middleware\PreventRequestsDuringMaintenance->handle()
#46 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Http\Middleware\HandleCors.php(48): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#47 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Http\Middleware\HandleCors->handle()
#48 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Http\Middleware\TrustProxies.php(58): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#49 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Http\Middleware\TrustProxies->handle()
#50 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\InvokeDeferredCallbacks.php(22): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#51 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Foundation\Http\Middleware\InvokeDeferredCallbacks->handle()
#52 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Http\Middleware\ValidatePathEncoding.php(26): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#53 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Http\Middleware\ValidatePathEncoding->handle()
#54 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(126): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#55 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Http\Kernel.php(175): Illuminate\Pipeline\Pipeline->then()
#56 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Http\Kernel.php(144): Illuminate\Foundation\Http\Kernel->sendRequestThroughRouter()
#57 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Testing\Concerns\MakesHttpRequests.php(607): Illuminate\Foundation\Http\Kernel->handle()
#58 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Testing\Concerns\MakesHttpRequests.php(368): Illuminate\Foundation\Testing\TestCase->call()
#59 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\tests\Feature\CalamityManagementTest.php(34): Illuminate\Foundation\Testing\TestCase->get()
#60 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\phpunit\phpunit\src\Framework\TestCase.php(1656): Tests\Feature\CalamityManagementTest->test_guest_can_view_river_bank_calamity_list()
#61 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\phpunit\phpunit\src\Framework\TestCase.php(514): PHPUnit\Framework\TestCase->runTest()
#62 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\phpunit\phpunit\src\Framework\TestRunner\TestRunner.php(87): PHPUnit\Framework\TestCase->runBare()
#63 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\phpunit\phpunit\src\Framework\TestCase.php(361): PHPUnit\Framework\TestRunner->run()
#64 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\phpunit\phpunit\src\Framework\TestSuite.php(369): PHPUnit\Framework\TestCase->run()
#65 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\phpunit\phpunit\src\Framework\TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
#66 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\phpunit\phpunit\src\Framework\TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
#67 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\phpunit\phpunit\src\TextUI\TestRunner.php(64): PHPUnit\Framework\TestSuite->run()
#68 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\phpunit\phpunit\src\TextUI\Application.php(210): PHPUnit\TextUI\TestRunner->run()
#69 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\phpunit\phpunit\phpunit(104): PHPUnit\TextUI\Application->run()
#70 {main}

Next Illuminate\Database\QueryException: SQLSTATE[HY000]: General error: 1 no such function: YEAR (Connection: sqlite, SQL: select distinct YEAR(time) as year from "calamities" where exists (select * from "risk_levels" where "calamities"."risk_level_id" = "risk_levels"."id" and exists (select * from "type_of_calamities" where "risk_levels"."type_of_calamity_id" = "type_of_calamities"."id" and "slug" = sat-lo-bo-song-bo-bien)) order by "year" desc) in D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Connection.php:822
Stack trace:
#0 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Connection.php(776): Illuminate\Database\Connection->runQueryCallback()
#1 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Connection.php(395): Illuminate\Database\Connection->run()
#2 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Query\Builder.php(3131): Illuminate\Database\Connection->select()
#3 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Query\Builder.php(3389): Illuminate\Database\Query\Builder->runSelect()
#4 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Query\Builder.php(3706): Illuminate\Database\Query\Builder->Illuminate\Database\Query\{closure}()
#5 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Query\Builder.php(3385): Illuminate\Database\Query\Builder->onceWithColumns()
#6 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Eloquent\Builder.php(1052): Illuminate\Database\Query\Builder->pluck()
#7 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\app\Http\Controllers\Calamities\RiverBankCalamityController.php(81): Illuminate\Database\Eloquent\Builder->pluck()
#8 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Routing\Controller.php(54): App\Http\Controllers\Calamities\RiverBankCalamityController->index()
#9 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Routing\ControllerDispatcher.php(43): Illuminate\Routing\Controller->callAction()
#10 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Routing\Route.php(265): Illuminate\Routing\ControllerDispatcher->dispatch()
#11 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Routing\Route.php(211): Illuminate\Routing\Route->runController()
#12 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Routing\Router.php(808): Illuminate\Routing\Route->run()
#13 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(169): Illuminate\Routing\Router->Illuminate\Routing\{closure}()
#14 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Routing\Middleware\SubstituteBindings.php(50): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#15 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Routing\Middleware\SubstituteBindings->handle()
#16 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\VerifyCsrfToken.php(87): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#17 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Foundation\Http\Middleware\VerifyCsrfToken->handle()
#18 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\View\Middleware\ShareErrorsFromSession.php(48): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#19 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\View\Middleware\ShareErrorsFromSession->handle()
#20 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Session\Middleware\StartSession.php(120): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#21 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Session\Middleware\StartSession.php(63): Illuminate\Session\Middleware\StartSession->handleStatefulRequest()
#22 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Session\Middleware\StartSession->handle()
#23 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Cookie\Middleware\AddQueuedCookiesToResponse.php(36): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#24 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Cookie\Middleware\AddQueuedCookiesToResponse->handle()
#25 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Cookie\Middleware\EncryptCookies.php(74): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#26 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Cookie\Middleware\EncryptCookies->handle()
#27 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(126): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#28 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Routing\Router.php(807): Illuminate\Pipeline\Pipeline->then()
#29 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Routing\Router.php(786): Illuminate\Routing\Router->runRouteWithinStack()
#30 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Routing\Router.php(750): Illuminate\Routing\Router->runRoute()
#31 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Routing\Router.php(739): Illuminate\Routing\Router->dispatchToRoute()
#32 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Http\Kernel.php(200): Illuminate\Routing\Router->dispatch()
#33 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(169): Illuminate\Foundation\Http\Kernel->Illuminate\Foundation\Http\{closure}()
#34 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#35 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\ConvertEmptyStringsToNull.php(31): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
#36 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Foundation\Http\Middleware\ConvertEmptyStringsToNull->handle()
#37 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#38 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\TrimStrings.php(51): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
#39 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Foundation\Http\Middleware\TrimStrings->handle()
#40 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Http\Middleware\ValidatePostSize.php(27): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#41 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Http\Middleware\ValidatePostSize->handle()
#42 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\PreventRequestsDuringMaintenance.php(109): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#43 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Foundation\Http\Middleware\PreventRequestsDuringMaintenance->handle()
#44 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Http\Middleware\HandleCors.php(48): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#45 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Http\Middleware\HandleCors->handle()
#46 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Http\Middleware\TrustProxies.php(58): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#47 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Http\Middleware\TrustProxies->handle()
#48 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\InvokeDeferredCallbacks.php(22): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#49 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Foundation\Http\Middleware\InvokeDeferredCallbacks->handle()
#50 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Http\Middleware\ValidatePathEncoding.php(26): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#51 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Http\Middleware\ValidatePathEncoding->handle()
#52 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(126): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#53 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Http\Kernel.php(175): Illuminate\Pipeline\Pipeline->then()
#54 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Http\Kernel.php(144): Illuminate\Foundation\Http\Kernel->sendRequestThroughRouter()
#55 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Testing\Concerns\MakesHttpRequests.php(607): Illuminate\Foundation\Http\Kernel->handle()
#56 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Testing\Concerns\MakesHttpRequests.php(368): Illuminate\Foundation\Testing\TestCase->call()
#57 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\tests\Feature\CalamityManagementTest.php(34): Illuminate\Foundation\Testing\TestCase->get()
#58 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\phpunit\phpunit\src\Framework\TestCase.php(1656): Tests\Feature\CalamityManagementTest->test_guest_can_view_river_bank_calamity_list()
#59 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\phpunit\phpunit\src\Framework\TestCase.php(514): PHPUnit\Framework\TestCase->runTest()
#60 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\phpunit\phpunit\src\Framework\TestRunner\TestRunner.php(87): PHPUnit\Framework\TestCase->runBare()
#61 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\phpunit\phpunit\src\Framework\TestCase.php(361): PHPUnit\Framework\TestRunner->run()
#62 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\phpunit\phpunit\src\Framework\TestSuite.php(369): PHPUnit\Framework\TestCase->run()
#63 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\phpunit\phpunit\src\Framework\TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
#64 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\phpunit\phpunit\src\Framework\TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
#65 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\phpunit\phpunit\src\TextUI\TestRunner.php(64): PHPUnit\Framework\TestSuite->run()
#66 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\phpunit\phpunit\src\TextUI\Application.php(210): PHPUnit\TextUI\TestRunner->run()
#67 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\phpunit\phpunit\phpunit(104): PHPUnit\TextUI\Application->run()
#68 {main}

----------------------------------------------------------------------------------

SQLSTATE[HY000]: General error: 1 no such function: YEAR (Connection: sqlite, SQL: select distinct YEAR(time) as year from "calamities" where exists (select * from "risk_levels" where "calamities"."risk_level_id" = "risk_levels"."id" and exists (select * from "type_of_calamities" where "risk_levels"."type_of_calamity_id" = "type_of_calamities"."id" and "slug" = sat-lo-bo-song-bo-bien)) order by "year" desc)

  at tests\Feature\CalamityManagementTest.php:35
     31▕ 
     32▕     public function test_guest_can_view_river_bank_calamity_list(): void
     33▕     {
     34▕         $response = $this->get('/calamity/list-river-bank');
  ➜  35▕         $response->assertStatus(200);
     36▕     }
     37▕ 
     38▕     public function test_authenticated_user_can_view_create_flooding_calamity_form(): void
     39▕     {

  ───────────────────────────────────────────────────────────────────────────────────────────────────────────────────  
   FAILED  Tests\Feature\CalamityManagementTest > authenticated user can create new flooding calamity                  
  Expected response status code [201, 301, 302, 303, 307, 308] but received 500.
Failed asserting that false is true.

The following exception occurred during the last request:

PDOException: SQLSTATE[HY000]: General error: 1 table calamities has no column named created_by_user_id in D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Connection.php:562
Stack trace:
#0 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Connection.php(562): PDO->prepare()
#1 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Connection.php(809): Illuminate\Database\Connection->Illuminate\Database\{closure}()
#2 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Connection.php(776): Illuminate\Database\Connection->runQueryCallback()
#3 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Connection.php(557): Illuminate\Database\Connection->run()
#4 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Connection.php(521): Illuminate\Database\Connection->statement()
#5 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Query\Processors\Processor.php(32): Illuminate\Database\Connection->insert()
#6 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Query\Builder.php(3796): Illuminate\Database\Query\Processors\Processor->processInsertGetId()
#7 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Eloquent\Builder.php(2205): Illuminate\Database\Query\Builder->insertGetId()
#8 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Eloquent\Model.php(1410): Illuminate\Database\Eloquent\Builder->__call()
#9 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Eloquent\Model.php(1375): Illuminate\Database\Eloquent\Model->insertAndSetId()
#10 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Eloquent\Model.php(1214): Illuminate\Database\Eloquent\Model->performInsert()
#11 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Eloquent\Builder.php(1189): Illuminate\Database\Eloquent\Model->save()
#12 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Support\helpers.php(399): Illuminate\Database\Eloquent\Builder->Illuminate\Database\Eloquent\{closure}()
#13 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Eloquent\Builder.php(1188): tap()
#14 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Support\Traits\ForwardsCalls.php(23): Illuminate\Database\Eloquent\Builder->create()
#15 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Eloquent\Model.php(2496): Illuminate\Database\Eloquent\Model->forwardCallTo()
#16 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Eloquent\Model.php(2512): Illuminate\Database\Eloquent\Model->__call()
#17 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\app\Http\Controllers\Calamities\FloodingCalamityController.php(179): Illuminate\Database\Eloquent\Model::__callStatic()
#18 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Routing\Controller.php(54): App\Http\Controllers\Calamities\FloodingCalamityController->store()
#19 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Routing\ControllerDispatcher.php(43): Illuminate\Routing\Controller->callAction()
#20 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Routing\Route.php(265): Illuminate\Routing\ControllerDispatcher->dispatch()
#21 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Routing\Route.php(211): Illuminate\Routing\Route->runController()
#22 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Routing\Router.php(808): Illuminate\Routing\Route->run()
#23 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(169): Illuminate\Routing\Router->Illuminate\Routing\{closure}()
#24 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Routing\Middleware\SubstituteBindings.php(50): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#25 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Routing\Middleware\SubstituteBindings->handle()
#26 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Auth\Middleware\Authenticate.php(63): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#27 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Auth\Middleware\Authenticate->handle()
#28 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\VerifyCsrfToken.php(87): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#29 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Foundation\Http\Middleware\VerifyCsrfToken->handle()
#30 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\View\Middleware\ShareErrorsFromSession.php(48): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#31 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\View\Middleware\ShareErrorsFromSession->handle()
#32 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Session\Middleware\StartSession.php(120): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#33 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Session\Middleware\StartSession.php(63): Illuminate\Session\Middleware\StartSession->handleStatefulRequest()
#34 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Session\Middleware\StartSession->handle()
#35 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Cookie\Middleware\AddQueuedCookiesToResponse.php(36): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#36 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Cookie\Middleware\AddQueuedCookiesToResponse->handle()
#37 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Cookie\Middleware\EncryptCookies.php(74): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#38 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Cookie\Middleware\EncryptCookies->handle()
#39 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(126): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#40 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Routing\Router.php(807): Illuminate\Pipeline\Pipeline->then()
#41 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Routing\Router.php(786): Illuminate\Routing\Router->runRouteWithinStack()
#42 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Routing\Router.php(750): Illuminate\Routing\Router->runRoute()
#43 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Routing\Router.php(739): Illuminate\Routing\Router->dispatchToRoute()
#44 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Http\Kernel.php(200): Illuminate\Routing\Router->dispatch()
#45 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(169): Illuminate\Foundation\Http\Kernel->Illuminate\Foundation\Http\{closure}()
#46 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#47 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\ConvertEmptyStringsToNull.php(31): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
#48 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Foundation\Http\Middleware\ConvertEmptyStringsToNull->handle()
#49 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#50 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\TrimStrings.php(51): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
#51 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Foundation\Http\Middleware\TrimStrings->handle()
#52 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Http\Middleware\ValidatePostSize.php(27): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#53 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Http\Middleware\ValidatePostSize->handle()
#54 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\PreventRequestsDuringMaintenance.php(109): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#55 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Foundation\Http\Middleware\PreventRequestsDuringMaintenance->handle()
#56 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Http\Middleware\HandleCors.php(48): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#57 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Http\Middleware\HandleCors->handle()
#58 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Http\Middleware\TrustProxies.php(58): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#59 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Http\Middleware\TrustProxies->handle()
#60 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\InvokeDeferredCallbacks.php(22): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#61 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Foundation\Http\Middleware\InvokeDeferredCallbacks->handle()
#62 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Http\Middleware\ValidatePathEncoding.php(26): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#63 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Http\Middleware\ValidatePathEncoding->handle()
#64 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(126): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#65 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Http\Kernel.php(175): Illuminate\Pipeline\Pipeline->then()
#66 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Http\Kernel.php(144): Illuminate\Foundation\Http\Kernel->sendRequestThroughRouter()
#67 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Testing\Concerns\MakesHttpRequests.php(607): Illuminate\Foundation\Http\Kernel->handle()
#68 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Testing\Concerns\MakesHttpRequests.php(397): Illuminate\Foundation\Testing\TestCase->call()
#69 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\tests\Feature\CalamityManagementTest.php(79): Illuminate\Foundation\Testing\TestCase->post()
#70 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\phpunit\phpunit\src\Framework\TestCase.php(1656): Tests\Feature\CalamityManagementTest->test_authenticated_user_can_create_new_flooding_calamity()
#71 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\phpunit\phpunit\src\Framework\TestCase.php(514): PHPUnit\Framework\TestCase->runTest()
#72 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\phpunit\phpunit\src\Framework\TestRunner\TestRunner.php(87): PHPUnit\Framework\TestCase->runBare()
#73 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\phpunit\phpunit\src\Framework\TestCase.php(361): PHPUnit\Framework\TestRunner->run()
#74 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\phpunit\phpunit\src\Framework\TestSuite.php(369): PHPUnit\Framework\TestCase->run()
#75 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\phpunit\phpunit\src\Framework\TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
#76 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\phpunit\phpunit\src\Framework\TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
#77 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\phpunit\phpunit\src\TextUI\TestRunner.php(64): PHPUnit\Framework\TestSuite->run()
#78 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\phpunit\phpunit\src\TextUI\Application.php(210): PHPUnit\TextUI\TestRunner->run()
#79 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\phpunit\phpunit\phpunit(104): PHPUnit\TextUI\Application->run()
#80 {main}

Next Illuminate\Database\QueryException: SQLSTATE[HY000]: General error: 1 table calamities has no column named created_by_user_id (Connection: sqlite, SQL: insert into "calamities" ("risk_level_id", "name", "coordinates", "flood_level", "flood_range", "flooded_area", "time_start", "time_end", "sprint_time", "reason", "number_of_people_affected", "human_damage", "property_damage", "damaged_infrastructure", "mitigation_measures", "data_source", "created_by_user_id", "slug", "updated_at", "created_at") values (1, Test Flooding Calamity, 10.123,20.456, 2.5, 100m, 50, 2025-07-15, 2025-07-16, 24, Heavy rain, 100, None, Minor, Roads, Pumping, Local reports, 1, test-flooding-calamity, 2025-07-14 06:36:47, 2025-07-14 06:36:47)) in D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Connection.php:822
Stack trace:
#0 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Connection.php(776): Illuminate\Database\Connection->runQueryCallback()
#1 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Connection.php(557): Illuminate\Database\Connection->run()
#2 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Connection.php(521): Illuminate\Database\Connection->statement()
#3 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Query\Processors\Processor.php(32): Illuminate\Database\Connection->insert()
#4 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Query\Builder.php(3796): Illuminate\Database\Query\Processors\Processor->processInsertGetId()
#5 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Eloquent\Builder.php(2205): Illuminate\Database\Query\Builder->insertGetId()
#6 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Eloquent\Model.php(1410): Illuminate\Database\Eloquent\Builder->__call()
#7 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Eloquent\Model.php(1375): Illuminate\Database\Eloquent\Model->insertAndSetId()
#8 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Eloquent\Model.php(1214): Illuminate\Database\Eloquent\Model->performInsert()
#9 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Eloquent\Builder.php(1189): Illuminate\Database\Eloquent\Model->save()
#10 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Support\helpers.php(399): Illuminate\Database\Eloquent\Builder->Illuminate\Database\Eloquent\{closure}()
#11 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Eloquent\Builder.php(1188): tap()
#12 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Support\Traits\ForwardsCalls.php(23): Illuminate\Database\Eloquent\Builder->create()
#13 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Eloquent\Model.php(2496): Illuminate\Database\Eloquent\Model->forwardCallTo()
#14 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Eloquent\Model.php(2512): Illuminate\Database\Eloquent\Model->__call()
#15 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\app\Http\Controllers\Calamities\FloodingCalamityController.php(179): Illuminate\Database\Eloquent\Model::__callStatic()
#16 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Routing\Controller.php(54): App\Http\Controllers\Calamities\FloodingCalamityController->store()
#17 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Routing\ControllerDispatcher.php(43): Illuminate\Routing\Controller->callAction()
#18 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Routing\Route.php(265): Illuminate\Routing\ControllerDispatcher->dispatch()
#19 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Routing\Route.php(211): Illuminate\Routing\Route->runController()
#20 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Routing\Router.php(808): Illuminate\Routing\Route->run()
#21 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(169): Illuminate\Routing\Router->Illuminate\Routing\{closure}()
#22 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Routing\Middleware\SubstituteBindings.php(50): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#23 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Routing\Middleware\SubstituteBindings->handle()
#24 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Auth\Middleware\Authenticate.php(63): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#25 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Auth\Middleware\Authenticate->handle()
#26 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\VerifyCsrfToken.php(87): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#27 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Foundation\Http\Middleware\VerifyCsrfToken->handle()
#28 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\View\Middleware\ShareErrorsFromSession.php(48): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#29 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\View\Middleware\ShareErrorsFromSession->handle()
#30 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Session\Middleware\StartSession.php(120): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#31 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Session\Middleware\StartSession.php(63): Illuminate\Session\Middleware\StartSession->handleStatefulRequest()
#32 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Session\Middleware\StartSession->handle()
#33 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Cookie\Middleware\AddQueuedCookiesToResponse.php(36): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#34 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Cookie\Middleware\AddQueuedCookiesToResponse->handle()
#35 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Cookie\Middleware\EncryptCookies.php(74): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#36 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Cookie\Middleware\EncryptCookies->handle()
#37 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(126): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#38 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Routing\Router.php(807): Illuminate\Pipeline\Pipeline->then()
#39 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Routing\Router.php(786): Illuminate\Routing\Router->runRouteWithinStack()
#40 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Routing\Router.php(750): Illuminate\Routing\Router->runRoute()
#41 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Routing\Router.php(739): Illuminate\Routing\Router->dispatchToRoute()
#42 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Http\Kernel.php(200): Illuminate\Routing\Router->dispatch()
#43 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(169): Illuminate\Foundation\Http\Kernel->Illuminate\Foundation\Http\{closure}()
#44 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#45 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\ConvertEmptyStringsToNull.php(31): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
#46 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Foundation\Http\Middleware\ConvertEmptyStringsToNull->handle()
#47 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#48 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\TrimStrings.php(51): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
#49 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Foundation\Http\Middleware\TrimStrings->handle()
#50 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Http\Middleware\ValidatePostSize.php(27): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#51 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Http\Middleware\ValidatePostSize->handle()
#52 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\PreventRequestsDuringMaintenance.php(109): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#53 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Foundation\Http\Middleware\PreventRequestsDuringMaintenance->handle()
#54 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Http\Middleware\HandleCors.php(48): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#55 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Http\Middleware\HandleCors->handle()
#56 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Http\Middleware\TrustProxies.php(58): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#57 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Http\Middleware\TrustProxies->handle()
#58 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\InvokeDeferredCallbacks.php(22): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#59 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Foundation\Http\Middleware\InvokeDeferredCallbacks->handle()
#60 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Http\Middleware\ValidatePathEncoding.php(26): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#61 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Http\Middleware\ValidatePathEncoding->handle()
#62 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(126): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#63 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Http\Kernel.php(175): Illuminate\Pipeline\Pipeline->then()
#64 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Http\Kernel.php(144): Illuminate\Foundation\Http\Kernel->sendRequestThroughRouter()
#65 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Testing\Concerns\MakesHttpRequests.php(607): Illuminate\Foundation\Http\Kernel->handle()
#66 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Testing\Concerns\MakesHttpRequests.php(397): Illuminate\Foundation\Testing\TestCase->call()
#67 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\tests\Feature\CalamityManagementTest.php(79): Illuminate\Foundation\Testing\TestCase->post()
#68 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\phpunit\phpunit\src\Framework\TestCase.php(1656): Tests\Feature\CalamityManagementTest->test_authenticated_user_can_create_new_flooding_calamity()
#69 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\phpunit\phpunit\src\Framework\TestCase.php(514): PHPUnit\Framework\TestCase->runTest()
#70 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\phpunit\phpunit\src\Framework\TestRunner\TestRunner.php(87): PHPUnit\Framework\TestCase->runBare()
#71 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\phpunit\phpunit\src\Framework\TestCase.php(361): PHPUnit\Framework\TestRunner->run()
#72 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\phpunit\phpunit\src\Framework\TestSuite.php(369): PHPUnit\Framework\TestCase->run()
#73 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\phpunit\phpunit\src\Framework\TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
#74 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\phpunit\phpunit\src\Framework\TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
#75 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\phpunit\phpunit\src\TextUI\TestRunner.php(64): PHPUnit\Framework\TestSuite->run()
#76 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\phpunit\phpunit\src\TextUI\Application.php(210): PHPUnit\TextUI\TestRunner->run()
#77 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\phpunit\phpunit\phpunit(104): PHPUnit\TextUI\Application->run()
#78 {main}

----------------------------------------------------------------------------------

SQLSTATE[HY000]: General error: 1 table calamities has no column named created_by_user_id (Connection: sqlite, SQL: insert into "calamities" ("risk_level_id", "name", "coordinates", "flood_level", "flood_range", "flooded_area", "time_start", "time_end", "sprint_time", "reason", "number_of_people_affected", "human_damage", "property_damage", "damaged_infrastructure", "mitigation_measures", "data_source", "created_by_user_id", "slug", "updated_at", "created_at") values (1, Test Flooding Calamity, 10.123,20.456, 2.5, 100m, 50, 2025-07-15, 2025-07-16, 24, Heavy rain, 100, None, Minor, Roads, Pumping, Local reports, 1, test-flooding-calamity, 2025-07-14 06:36:47, 2025-07-14 06:36:47))

  at tests\Feature\CalamityManagementTest.php:101
     97▕                 'mitigation_measures' => 'Pumping',
     98▕                 'data_source' => 'Local reports',
     99▕             ]);
    100▕ 
  ➜ 101▕         $response->assertRedirect('/calamity/list-flooding');
    102▕         
    103▕         $this->assertDatabaseHas('calamities', [
    104▕             'type_of_calamity_id' => $typeOfCalamity->id,
    105▕             'risk_level_id' => $riskLevel->id,

  ───────────────────────────────────────────────────────────────────────────────────────────────────────────────────  
   FAILED  Tests\Feature\CalamityManagementTest > authenticated user can create new storm calamity                     
  Expected response status code [201, 301, 302, 303, 307, 308] but received 500.
Failed asserting that false is true.

The following exception occurred during the last request:

PDOException: SQLSTATE[HY000]: General error: 1 table calamities has no column named created_by_user_id in D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Connection.php:562
Stack trace:
#0 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Connection.php(562): PDO->prepare()
#1 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Connection.php(809): Illuminate\Database\Connection->Illuminate\Database\{closure}()
#2 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Connection.php(776): Illuminate\Database\Connection->runQueryCallback()
#3 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Connection.php(557): Illuminate\Database\Connection->run()
#4 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Connection.php(521): Illuminate\Database\Connection->statement()
#5 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Query\Processors\Processor.php(32): Illuminate\Database\Connection->insert()
#6 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Query\Builder.php(3796): Illuminate\Database\Query\Processors\Processor->processInsertGetId()
#7 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Eloquent\Builder.php(2205): Illuminate\Database\Query\Builder->insertGetId()
#8 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Eloquent\Model.php(1410): Illuminate\Database\Eloquent\Builder->__call()
#9 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Eloquent\Model.php(1375): Illuminate\Database\Eloquent\Model->insertAndSetId()
#10 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Eloquent\Model.php(1214): Illuminate\Database\Eloquent\Model->performInsert()
#11 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Eloquent\Builder.php(1189): Illuminate\Database\Eloquent\Model->save()
#12 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Support\helpers.php(399): Illuminate\Database\Eloquent\Builder->Illuminate\Database\Eloquent\{closure}()
#13 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Eloquent\Builder.php(1188): tap()
#14 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Support\Traits\ForwardsCalls.php(23): Illuminate\Database\Eloquent\Builder->create()
#15 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Eloquent\Model.php(2496): Illuminate\Database\Eloquent\Model->forwardCallTo()
#16 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Eloquent\Model.php(2512): Illuminate\Database\Eloquent\Model->__call()
#17 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\app\Http\Controllers\Calamities\StormCalamityController.php(173): Illuminate\Database\Eloquent\Model::__callStatic()
#18 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Routing\Controller.php(54): App\Http\Controllers\Calamities\StormCalamityController->store()
#19 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Routing\ControllerDispatcher.php(43): Illuminate\Routing\Controller->callAction()
#20 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Routing\Route.php(265): Illuminate\Routing\ControllerDispatcher->dispatch()
#21 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Routing\Route.php(211): Illuminate\Routing\Route->runController()
#22 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Routing\Router.php(808): Illuminate\Routing\Route->run()
#23 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(169): Illuminate\Routing\Router->Illuminate\Routing\{closure}()
#24 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Routing\Middleware\SubstituteBindings.php(50): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#25 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Routing\Middleware\SubstituteBindings->handle()
#26 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Auth\Middleware\Authenticate.php(63): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#27 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Auth\Middleware\Authenticate->handle()
#28 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\VerifyCsrfToken.php(87): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#29 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Foundation\Http\Middleware\VerifyCsrfToken->handle()
#30 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\View\Middleware\ShareErrorsFromSession.php(48): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#31 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\View\Middleware\ShareErrorsFromSession->handle()
#32 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Session\Middleware\StartSession.php(120): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#33 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Session\Middleware\StartSession.php(63): Illuminate\Session\Middleware\StartSession->handleStatefulRequest()
#34 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Session\Middleware\StartSession->handle()
#35 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Cookie\Middleware\AddQueuedCookiesToResponse.php(36): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#36 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Cookie\Middleware\AddQueuedCookiesToResponse->handle()
#37 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Cookie\Middleware\EncryptCookies.php(74): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#38 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Cookie\Middleware\EncryptCookies->handle()
#39 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(126): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#40 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Routing\Router.php(807): Illuminate\Pipeline\Pipeline->then()
#41 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Routing\Router.php(786): Illuminate\Routing\Router->runRouteWithinStack()
#42 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Routing\Router.php(750): Illuminate\Routing\Router->runRoute()
#43 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Routing\Router.php(739): Illuminate\Routing\Router->dispatchToRoute()
#44 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Http\Kernel.php(200): Illuminate\Routing\Router->dispatch()
#45 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(169): Illuminate\Foundation\Http\Kernel->Illuminate\Foundation\Http\{closure}()
#46 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#47 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\ConvertEmptyStringsToNull.php(31): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
#48 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Foundation\Http\Middleware\ConvertEmptyStringsToNull->handle()
#49 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#50 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\TrimStrings.php(51): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
#51 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Foundation\Http\Middleware\TrimStrings->handle()
#52 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Http\Middleware\ValidatePostSize.php(27): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#53 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Http\Middleware\ValidatePostSize->handle()
#54 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\PreventRequestsDuringMaintenance.php(109): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#55 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Foundation\Http\Middleware\PreventRequestsDuringMaintenance->handle()
#56 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Http\Middleware\HandleCors.php(48): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#57 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Http\Middleware\HandleCors->handle()
#58 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Http\Middleware\TrustProxies.php(58): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#59 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Http\Middleware\TrustProxies->handle()
#60 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\InvokeDeferredCallbacks.php(22): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#61 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Foundation\Http\Middleware\InvokeDeferredCallbacks->handle()
#62 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Http\Middleware\ValidatePathEncoding.php(26): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#63 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Http\Middleware\ValidatePathEncoding->handle()
#64 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(126): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#65 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Http\Kernel.php(175): Illuminate\Pipeline\Pipeline->then()
#66 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Http\Kernel.php(144): Illuminate\Foundation\Http\Kernel->sendRequestThroughRouter()
#67 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Testing\Concerns\MakesHttpRequests.php(607): Illuminate\Foundation\Http\Kernel->handle()
#68 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Testing\Concerns\MakesHttpRequests.php(397): Illuminate\Foundation\Testing\TestCase->call()
#69 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\tests\Feature\CalamityManagementTest.php(133): Illuminate\Foundation\Testing\TestCase->post()
#70 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\phpunit\phpunit\src\Framework\TestCase.php(1656): Tests\Feature\CalamityManagementTest->test_authenticated_user_can_create_new_storm_calamity()
#71 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\phpunit\phpunit\src\Framework\TestCase.php(514): PHPUnit\Framework\TestCase->runTest()
#72 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\phpunit\phpunit\src\Framework\TestRunner\TestRunner.php(87): PHPUnit\Framework\TestCase->runBare()
#73 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\phpunit\phpunit\src\Framework\TestCase.php(361): PHPUnit\Framework\TestRunner->run()
#74 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\phpunit\phpunit\src\Framework\TestSuite.php(369): PHPUnit\Framework\TestCase->run()
#75 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\phpunit\phpunit\src\Framework\TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
#76 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\phpunit\phpunit\src\Framework\TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
#77 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\phpunit\phpunit\src\TextUI\TestRunner.php(64): PHPUnit\Framework\TestSuite->run()
#78 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\phpunit\phpunit\src\TextUI\Application.php(210): PHPUnit\TextUI\TestRunner->run()
#79 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\phpunit\phpunit\phpunit(104): PHPUnit\TextUI\Application->run()
#80 {main}

Next Illuminate\Database\QueryException: SQLSTATE[HY000]: General error: 1 table calamities has no column named created_by_user_id (Connection: sqlite, SQL: insert into "calamities" ("risk_level_id", "name", "coordinates", "investment_level", "time_start", "time_end", "human_damage", "property_damage", "mitigation_measures", "created_by_user_id", "slug", "updated_at", "created_at") values (1, Test Storm Calamity, 10.123,20.456, High, 2025-07-15, 2025-07-16, None, Minor, Evacuation, 1, test-storm-calamity, 2025-07-14 06:36:48, 2025-07-14 06:36:48)) in D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Connection.php:822
Stack trace:
#0 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Connection.php(776): Illuminate\Database\Connection->runQueryCallback()
#1 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Connection.php(557): Illuminate\Database\Connection->run()
#2 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Connection.php(521): Illuminate\Database\Connection->statement()
#3 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Query\Processors\Processor.php(32): Illuminate\Database\Connection->insert()
#4 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Query\Builder.php(3796): Illuminate\Database\Query\Processors\Processor->processInsertGetId()
#5 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Eloquent\Builder.php(2205): Illuminate\Database\Query\Builder->insertGetId()
#6 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Eloquent\Model.php(1410): Illuminate\Database\Eloquent\Builder->__call()
#7 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Eloquent\Model.php(1375): Illuminate\Database\Eloquent\Model->insertAndSetId()
#8 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Eloquent\Model.php(1214): Illuminate\Database\Eloquent\Model->performInsert()
#9 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Eloquent\Builder.php(1189): Illuminate\Database\Eloquent\Model->save()
#10 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Support\helpers.php(399): Illuminate\Database\Eloquent\Builder->Illuminate\Database\Eloquent\{closure}()
#11 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Eloquent\Builder.php(1188): tap()
#12 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Support\Traits\ForwardsCalls.php(23): Illuminate\Database\Eloquent\Builder->create()
#13 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Eloquent\Model.php(2496): Illuminate\Database\Eloquent\Model->forwardCallTo()
#14 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Eloquent\Model.php(2512): Illuminate\Database\Eloquent\Model->__call()
#15 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\app\Http\Controllers\Calamities\StormCalamityController.php(173): Illuminate\Database\Eloquent\Model::__callStatic()
#16 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Routing\Controller.php(54): App\Http\Controllers\Calamities\StormCalamityController->store()
#17 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Routing\ControllerDispatcher.php(43): Illuminate\Routing\Controller->callAction()
#18 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Routing\Route.php(265): Illuminate\Routing\ControllerDispatcher->dispatch()
#19 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Routing\Route.php(211): Illuminate\Routing\Route->runController()
#20 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Routing\Router.php(808): Illuminate\Routing\Route->run()
#21 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(169): Illuminate\Routing\Router->Illuminate\Routing\{closure}()
#22 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Routing\Middleware\SubstituteBindings.php(50): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#23 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Routing\Middleware\SubstituteBindings->handle()
#24 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Auth\Middleware\Authenticate.php(63): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#25 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Auth\Middleware\Authenticate->handle()
#26 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\VerifyCsrfToken.php(87): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#27 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Foundation\Http\Middleware\VerifyCsrfToken->handle()
#28 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\View\Middleware\ShareErrorsFromSession.php(48): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#29 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\View\Middleware\ShareErrorsFromSession->handle()
#30 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Session\Middleware\StartSession.php(120): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#31 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Session\Middleware\StartSession.php(63): Illuminate\Session\Middleware\StartSession->handleStatefulRequest()
#32 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Session\Middleware\StartSession->handle()
#33 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Cookie\Middleware\AddQueuedCookiesToResponse.php(36): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#34 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Cookie\Middleware\AddQueuedCookiesToResponse->handle()
#35 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Cookie\Middleware\EncryptCookies.php(74): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#36 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Cookie\Middleware\EncryptCookies->handle()
#37 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(126): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#38 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Routing\Router.php(807): Illuminate\Pipeline\Pipeline->then()
#39 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Routing\Router.php(786): Illuminate\Routing\Router->runRouteWithinStack()
#40 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Routing\Router.php(750): Illuminate\Routing\Router->runRoute()
#41 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Routing\Router.php(739): Illuminate\Routing\Router->dispatchToRoute()
#42 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Http\Kernel.php(200): Illuminate\Routing\Router->dispatch()
#43 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(169): Illuminate\Foundation\Http\Kernel->Illuminate\Foundation\Http\{closure}()
#44 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#45 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\ConvertEmptyStringsToNull.php(31): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
#46 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Foundation\Http\Middleware\ConvertEmptyStringsToNull->handle()
#47 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#48 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\TrimStrings.php(51): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
#49 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Foundation\Http\Middleware\TrimStrings->handle()
#50 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Http\Middleware\ValidatePostSize.php(27): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#51 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Http\Middleware\ValidatePostSize->handle()
#52 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\PreventRequestsDuringMaintenance.php(109): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#53 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Foundation\Http\Middleware\PreventRequestsDuringMaintenance->handle()
#54 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Http\Middleware\HandleCors.php(48): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#55 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Http\Middleware\HandleCors->handle()
#56 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Http\Middleware\TrustProxies.php(58): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#57 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Http\Middleware\TrustProxies->handle()
#58 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\InvokeDeferredCallbacks.php(22): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#59 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Foundation\Http\Middleware\InvokeDeferredCallbacks->handle()
#60 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Http\Middleware\ValidatePathEncoding.php(26): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#61 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Http\Middleware\ValidatePathEncoding->handle()
#62 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(126): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#63 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Http\Kernel.php(175): Illuminate\Pipeline\Pipeline->then()
#64 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Http\Kernel.php(144): Illuminate\Foundation\Http\Kernel->sendRequestThroughRouter()
#65 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Testing\Concerns\MakesHttpRequests.php(607): Illuminate\Foundation\Http\Kernel->handle()
#66 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Testing\Concerns\MakesHttpRequests.php(397): Illuminate\Foundation\Testing\TestCase->call()
#67 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\tests\Feature\CalamityManagementTest.php(133): Illuminate\Foundation\Testing\TestCase->post()
#68 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\phpunit\phpunit\src\Framework\TestCase.php(1656): Tests\Feature\CalamityManagementTest->test_authenticated_user_can_create_new_storm_calamity()
#69 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\phpunit\phpunit\src\Framework\TestCase.php(514): PHPUnit\Framework\TestCase->runTest()
#70 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\phpunit\phpunit\src\Framework\TestRunner\TestRunner.php(87): PHPUnit\Framework\TestCase->runBare()
#71 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\phpunit\phpunit\src\Framework\TestCase.php(361): PHPUnit\Framework\TestRunner->run()
#72 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\phpunit\phpunit\src\Framework\TestSuite.php(369): PHPUnit\Framework\TestCase->run()
#73 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\phpunit\phpunit\src\Framework\TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
#74 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\phpunit\phpunit\src\Framework\TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
#75 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\phpunit\phpunit\src\TextUI\TestRunner.php(64): PHPUnit\Framework\TestSuite->run()
#76 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\phpunit\phpunit\src\TextUI\Application.php(210): PHPUnit\TextUI\TestRunner->run()
#77 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\phpunit\phpunit\phpunit(104): PHPUnit\TextUI\Application->run()
#78 {main}

----------------------------------------------------------------------------------

SQLSTATE[HY000]: General error: 1 table calamities has no column named created_by_user_id (Connection: sqlite, SQL: insert into "calamities" ("risk_level_id", "name", "coordinates", "investment_level", "time_start", "time_end", "human_damage", "property_damage", "mitigation_measures", "created_by_user_id", "slug", "updated_at", "created_at") values (1, Test Storm Calamity, 10.123,20.456, High, 2025-07-15, 2025-07-16, None, Minor, Evacuation, 1, test-storm-calamity, 2025-07-14 06:36:48, 2025-07-14 06:36:48))

  at tests\Feature\CalamityManagementTest.php:148
    144▕                 'property_damage' => 'Minor',
    145▕                 'mitigation_measures' => 'Evacuation',
    146▕             ]);
    147▕ 
  ➜ 148▕         $response->assertRedirect('/calamity/list-storm');
    149▕         
    150▕         $this->assertDatabaseHas('calamities', [
    151▕             'type_of_calamity_id' => $typeOfCalamity->id,
    152▕             'risk_level_id' => $riskLevel->id,

  ───────────────────────────────────────────────────────────────────────────────────────────────────────────────────  
   FAILED  Tests\Feature\CalamityManagementTest > authenticated user can create new river bank calamity                
  Expected response status code [201, 301, 302, 303, 307, 308] but received 500.
Failed asserting that false is true.

The following exception occurred during the last request:

PDOException: SQLSTATE[HY000]: General error: 1 table calamities has no column named created_by_user_id in D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Connection.php:562
Stack trace:
#0 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Connection.php(562): PDO->prepare()
#1 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Connection.php(809): Illuminate\Database\Connection->Illuminate\Database\{closure}()
#2 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Connection.php(776): Illuminate\Database\Connection->runQueryCallback()
#3 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Connection.php(557): Illuminate\Database\Connection->run()
#4 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Connection.php(521): Illuminate\Database\Connection->statement()
#5 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Query\Processors\Processor.php(32): Illuminate\Database\Connection->insert()
#6 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Query\Builder.php(3796): Illuminate\Database\Query\Processors\Processor->processInsertGetId()
#7 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Eloquent\Builder.php(2205): Illuminate\Database\Query\Builder->insertGetId()
#8 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Eloquent\Model.php(1410): Illuminate\Database\Eloquent\Builder->__call()
#9 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Eloquent\Model.php(1375): Illuminate\Database\Eloquent\Model->insertAndSetId()
#10 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Eloquent\Model.php(1214): Illuminate\Database\Eloquent\Model->performInsert()
#11 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Eloquent\Builder.php(1189): Illuminate\Database\Eloquent\Model->save()
#12 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Support\helpers.php(399): Illuminate\Database\Eloquent\Builder->Illuminate\Database\Eloquent\{closure}()
#13 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Eloquent\Builder.php(1188): tap()
#14 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Support\Traits\ForwardsCalls.php(23): Illuminate\Database\Eloquent\Builder->create()
#15 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Eloquent\Model.php(2496): Illuminate\Database\Eloquent\Model->forwardCallTo()
#16 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Eloquent\Model.php(2512): Illuminate\Database\Eloquent\Model->__call()
#17 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\app\Http\Controllers\Calamities\RiverBankCalamityController.php(175): Illuminate\Database\Eloquent\Model::__callStatic()
#18 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Routing\Controller.php(54): App\Http\Controllers\Calamities\RiverBankCalamityController->store()
#19 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Routing\ControllerDispatcher.php(43): Illuminate\Routing\Controller->callAction()
#20 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Routing\Route.php(265): Illuminate\Routing\ControllerDispatcher->dispatch()
#21 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Routing\Route.php(211): Illuminate\Routing\Route->runController()
#22 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Routing\Router.php(808): Illuminate\Routing\Route->run()
#23 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(169): Illuminate\Routing\Router->Illuminate\Routing\{closure}()
#24 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Routing\Middleware\SubstituteBindings.php(50): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#25 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Routing\Middleware\SubstituteBindings->handle()
#26 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Auth\Middleware\Authenticate.php(63): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#27 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Auth\Middleware\Authenticate->handle()
#28 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\VerifyCsrfToken.php(87): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#29 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Foundation\Http\Middleware\VerifyCsrfToken->handle()
#30 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\View\Middleware\ShareErrorsFromSession.php(48): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#31 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\View\Middleware\ShareErrorsFromSession->handle()
#32 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Session\Middleware\StartSession.php(120): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#33 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Session\Middleware\StartSession.php(63): Illuminate\Session\Middleware\StartSession->handleStatefulRequest()
#34 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Session\Middleware\StartSession->handle()
#35 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Cookie\Middleware\AddQueuedCookiesToResponse.php(36): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#36 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Cookie\Middleware\AddQueuedCookiesToResponse->handle()
#37 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Cookie\Middleware\EncryptCookies.php(74): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#38 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Cookie\Middleware\EncryptCookies->handle()
#39 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(126): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#40 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Routing\Router.php(807): Illuminate\Pipeline\Pipeline->then()
#41 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Routing\Router.php(786): Illuminate\Routing\Router->runRouteWithinStack()
#42 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Routing\Router.php(750): Illuminate\Routing\Router->runRoute()
#43 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Routing\Router.php(739): Illuminate\Routing\Router->dispatchToRoute()
#44 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Http\Kernel.php(200): Illuminate\Routing\Router->dispatch()
#45 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(169): Illuminate\Foundation\Http\Kernel->Illuminate\Foundation\Http\{closure}()
#46 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#47 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\ConvertEmptyStringsToNull.php(31): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
#48 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Foundation\Http\Middleware\ConvertEmptyStringsToNull->handle()
#49 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#50 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\TrimStrings.php(51): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
#51 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Foundation\Http\Middleware\TrimStrings->handle()
#52 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Http\Middleware\ValidatePostSize.php(27): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#53 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Http\Middleware\ValidatePostSize->handle()
#54 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\PreventRequestsDuringMaintenance.php(109): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#55 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Foundation\Http\Middleware\PreventRequestsDuringMaintenance->handle()
#56 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Http\Middleware\HandleCors.php(48): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#57 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Http\Middleware\HandleCors->handle()
#58 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Http\Middleware\TrustProxies.php(58): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#59 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Http\Middleware\TrustProxies->handle()
#60 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\InvokeDeferredCallbacks.php(22): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#61 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Foundation\Http\Middleware\InvokeDeferredCallbacks->handle()
#62 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Http\Middleware\ValidatePathEncoding.php(26): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#63 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Http\Middleware\ValidatePathEncoding->handle()
#64 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(126): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#65 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Http\Kernel.php(175): Illuminate\Pipeline\Pipeline->then()
#66 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Http\Kernel.php(144): Illuminate\Foundation\Http\Kernel->sendRequestThroughRouter()
#67 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Testing\Concerns\MakesHttpRequests.php(607): Illuminate\Foundation\Http\Kernel->handle()
#68 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Testing\Concerns\MakesHttpRequests.php(397): Illuminate\Foundation\Testing\TestCase->call()
#69 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\tests\Feature\CalamityManagementTest.php(173): Illuminate\Foundation\Testing\TestCase->post()
#70 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\phpunit\phpunit\src\Framework\TestCase.php(1656): Tests\Feature\CalamityManagementTest->test_authenticated_user_can_create_new_river_bank_calamity()
#71 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\phpunit\phpunit\src\Framework\TestCase.php(514): PHPUnit\Framework\TestCase->runTest()
#72 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\phpunit\phpunit\src\Framework\TestRunner\TestRunner.php(87): PHPUnit\Framework\TestCase->runBare()
#73 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\phpunit\phpunit\src\Framework\TestCase.php(361): PHPUnit\Framework\TestRunner->run()
#74 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\phpunit\phpunit\src\Framework\TestSuite.php(369): PHPUnit\Framework\TestCase->run()
#75 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\phpunit\phpunit\src\Framework\TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
#76 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\phpunit\phpunit\src\Framework\TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
#77 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\phpunit\phpunit\src\TextUI\TestRunner.php(64): PHPUnit\Framework\TestSuite->run()
#78 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\phpunit\phpunit\src\TextUI\Application.php(210): PHPUnit\TextUI\TestRunner->run()
#79 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\phpunit\phpunit\phpunit(104): PHPUnit\TextUI\Application->run()
#80 {main}

Next Illuminate\Database\QueryException: SQLSTATE[HY000]: General error: 1 table calamities has no column named created_by_user_id (Connection: sqlite, SQL: insert into "calamities" ("risk_level_id", "name", "address", "length", "width", "acreage", "coordinates", "time", "reason", "geology", "watermark_points", "human_damage", "property_damage", "investment_level", "mitigation_measures", "support_policy", "created_by_user_id", "slug", "updated_at", "created_at") values (1, Test River Bank Calamity, Test Address, 150, 75, 50, 10.123,20.456, 2025-07-15, Soil erosion, Clay soil, High water level, None, Minor, Medium, Reinforcement, Government support, 1, test-river-bank-calamity, 2025-07-14 06:36:48, 2025-07-14 06:36:48)) in D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Connection.php:822
Stack trace:
#0 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Connection.php(776): Illuminate\Database\Connection->runQueryCallback()
#1 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Connection.php(557): Illuminate\Database\Connection->run()
#2 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Connection.php(521): Illuminate\Database\Connection->statement()
#3 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Query\Processors\Processor.php(32): Illuminate\Database\Connection->insert()
#4 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Query\Builder.php(3796): Illuminate\Database\Query\Processors\Processor->processInsertGetId()
#5 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Eloquent\Builder.php(2205): Illuminate\Database\Query\Builder->insertGetId()
#6 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Eloquent\Model.php(1410): Illuminate\Database\Eloquent\Builder->__call()
#7 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Eloquent\Model.php(1375): Illuminate\Database\Eloquent\Model->insertAndSetId()
#8 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Eloquent\Model.php(1214): Illuminate\Database\Eloquent\Model->performInsert()
#9 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Eloquent\Builder.php(1189): Illuminate\Database\Eloquent\Model->save()
#10 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Support\helpers.php(399): Illuminate\Database\Eloquent\Builder->Illuminate\Database\Eloquent\{closure}()
#11 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Eloquent\Builder.php(1188): tap()
#12 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Support\Traits\ForwardsCalls.php(23): Illuminate\Database\Eloquent\Builder->create()
#13 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Eloquent\Model.php(2496): Illuminate\Database\Eloquent\Model->forwardCallTo()
#14 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Eloquent\Model.php(2512): Illuminate\Database\Eloquent\Model->__call()
#15 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\app\Http\Controllers\Calamities\RiverBankCalamityController.php(175): Illuminate\Database\Eloquent\Model::__callStatic()
#16 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Routing\Controller.php(54): App\Http\Controllers\Calamities\RiverBankCalamityController->store()
#17 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Routing\ControllerDispatcher.php(43): Illuminate\Routing\Controller->callAction()
#18 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Routing\Route.php(265): Illuminate\Routing\ControllerDispatcher->dispatch()
#19 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Routing\Route.php(211): Illuminate\Routing\Route->runController()
#20 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Routing\Router.php(808): Illuminate\Routing\Route->run()
#21 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(169): Illuminate\Routing\Router->Illuminate\Routing\{closure}()
#22 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Routing\Middleware\SubstituteBindings.php(50): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#23 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Routing\Middleware\SubstituteBindings->handle()
#24 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Auth\Middleware\Authenticate.php(63): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#25 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Auth\Middleware\Authenticate->handle()
#26 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\VerifyCsrfToken.php(87): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#27 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Foundation\Http\Middleware\VerifyCsrfToken->handle()
#28 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\View\Middleware\ShareErrorsFromSession.php(48): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#29 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\View\Middleware\ShareErrorsFromSession->handle()
#30 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Session\Middleware\StartSession.php(120): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#31 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Session\Middleware\StartSession.php(63): Illuminate\Session\Middleware\StartSession->handleStatefulRequest()
#32 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Session\Middleware\StartSession->handle()
#33 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Cookie\Middleware\AddQueuedCookiesToResponse.php(36): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#34 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Cookie\Middleware\AddQueuedCookiesToResponse->handle()
#35 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Cookie\Middleware\EncryptCookies.php(74): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#36 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Cookie\Middleware\EncryptCookies->handle()
#37 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(126): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#38 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Routing\Router.php(807): Illuminate\Pipeline\Pipeline->then()
#39 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Routing\Router.php(786): Illuminate\Routing\Router->runRouteWithinStack()
#40 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Routing\Router.php(750): Illuminate\Routing\Router->runRoute()
#41 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Routing\Router.php(739): Illuminate\Routing\Router->dispatchToRoute()
#42 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Http\Kernel.php(200): Illuminate\Routing\Router->dispatch()
#43 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(169): Illuminate\Foundation\Http\Kernel->Illuminate\Foundation\Http\{closure}()
#44 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#45 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\ConvertEmptyStringsToNull.php(31): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
#46 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Foundation\Http\Middleware\ConvertEmptyStringsToNull->handle()
#47 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#48 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\TrimStrings.php(51): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
#49 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Foundation\Http\Middleware\TrimStrings->handle()
#50 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Http\Middleware\ValidatePostSize.php(27): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#51 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Http\Middleware\ValidatePostSize->handle()
#52 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\PreventRequestsDuringMaintenance.php(109): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#53 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Foundation\Http\Middleware\PreventRequestsDuringMaintenance->handle()
#54 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Http\Middleware\HandleCors.php(48): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#55 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Http\Middleware\HandleCors->handle()
#56 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Http\Middleware\TrustProxies.php(58): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#57 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Http\Middleware\TrustProxies->handle()
#58 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\InvokeDeferredCallbacks.php(22): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#59 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Foundation\Http\Middleware\InvokeDeferredCallbacks->handle()
#60 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Http\Middleware\ValidatePathEncoding.php(26): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#61 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Http\Middleware\ValidatePathEncoding->handle()
#62 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(126): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#63 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Http\Kernel.php(175): Illuminate\Pipeline\Pipeline->then()
#64 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Http\Kernel.php(144): Illuminate\Foundation\Http\Kernel->sendRequestThroughRouter()
#65 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Testing\Concerns\MakesHttpRequests.php(607): Illuminate\Foundation\Http\Kernel->handle()
#66 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Testing\Concerns\MakesHttpRequests.php(397): Illuminate\Foundation\Testing\TestCase->call()
#67 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\tests\Feature\CalamityManagementTest.php(173): Illuminate\Foundation\Testing\TestCase->post()
#68 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\phpunit\phpunit\src\Framework\TestCase.php(1656): Tests\Feature\CalamityManagementTest->test_authenticated_user_can_create_new_river_bank_calamity()
#69 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\phpunit\phpunit\src\Framework\TestCase.php(514): PHPUnit\Framework\TestCase->runTest()
#70 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\phpunit\phpunit\src\Framework\TestRunner\TestRunner.php(87): PHPUnit\Framework\TestCase->runBare()
#71 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\phpunit\phpunit\src\Framework\TestCase.php(361): PHPUnit\Framework\TestRunner->run()
#72 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\phpunit\phpunit\src\Framework\TestSuite.php(369): PHPUnit\Framework\TestCase->run()
#73 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\phpunit\phpunit\src\Framework\TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
#74 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\phpunit\phpunit\src\Framework\TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
#75 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\phpunit\phpunit\src\TextUI\TestRunner.php(64): PHPUnit\Framework\TestSuite->run()
#76 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\phpunit\phpunit\src\TextUI\Application.php(210): PHPUnit\TextUI\TestRunner->run()
#77 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\phpunit\phpunit\phpunit(104): PHPUnit\TextUI\Application->run()
#78 {main}

----------------------------------------------------------------------------------

SQLSTATE[HY000]: General error: 1 table calamities has no column named created_by_user_id (Connection: sqlite, SQL: insert into "calamities" ("risk_level_id", "name", "address", "length", "width", "acreage", "coordinates", "time", "reason", "geology", "watermark_points", "human_damage", "property_damage", "investment_level", "mitigation_measures", "support_policy", "created_by_user_id", "slug", "updated_at", "created_at") values (1, Test River Bank Calamity, Test Address, 150, 75, 50, 10.123,20.456, 2025-07-15, Soil erosion, Clay soil, High water level, None, Minor, Medium, Reinforcement, Government support, 1, test-river-bank-calamity, 2025-07-14 06:36:48, 2025-07-14 06:36:48))

  at tests\Feature\CalamityManagementTest.php:194
    190▕                 'commune_id' => [$commune->id],
    191▕                 'sub_type_of_calamity_id' => [$subTypeOfCalamity->id],
    192▕             ]);
    193▕ 
  ➜ 194▕         $response->assertRedirect('/calamity/list-river-bank');
    195▕         
    196▕         $this->assertDatabaseHas('calamities', [
    197▕             'risk_level_id' => $riskLevel->id,
    198▕             'name' => 'Test River Bank Calamity',

  ───────────────────────────────────────────────────────────────────────────────────────────────────────────────────  
   FAILED  Tests\Feature\CalamityManagementTest > authenticated user can update flooding calamity                      
  Expected response status code [201, 301, 302, 303, 307, 308] but received 500.
Failed asserting that false is true.

The following exception occurred during the last request:

PDOException: SQLSTATE[HY000]: General error: 1 no such column: updated_by_user_id in D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Connection.php:589
Stack trace:
#0 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Connection.php(589): PDO->prepare()
#1 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Connection.php(809): Illuminate\Database\Connection->Illuminate\Database\{closure}()
#2 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Connection.php(776): Illuminate\Database\Connection->runQueryCallback()
#3 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Connection.php(581): Illuminate\Database\Connection->run()
#4 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Connection.php(533): Illuminate\Database\Connection->affectingStatement()
#5 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Query\Builder.php(3860): Illuminate\Database\Connection->update()
#6 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Eloquent\Builder.php(1236): Illuminate\Database\Query\Builder->update()
#7 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Eloquent\Model.php(1290): Illuminate\Database\Eloquent\Builder->update()
#8 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Eloquent\Model.php(1207): Illuminate\Database\Eloquent\Model->performUpdate()
#9 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Eloquent\Model.php(1064): Illuminate\Database\Eloquent\Model->save()
#10 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\app\Http\Controllers\Calamities\FloodingCalamityController.php(382): Illuminate\Database\Eloquent\Model->update()
#11 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Routing\Controller.php(54): App\Http\Controllers\Calamities\FloodingCalamityController->update()
#12 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Routing\ControllerDispatcher.php(43): Illuminate\Routing\Controller->callAction()
#13 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Routing\Route.php(265): Illuminate\Routing\ControllerDispatcher->dispatch()
#14 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Routing\Route.php(211): Illuminate\Routing\Route->runController()
#15 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Routing\Router.php(808): Illuminate\Routing\Route->run()
#16 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(169): Illuminate\Routing\Router->Illuminate\Routing\{closure}()
#17 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Routing\Middleware\SubstituteBindings.php(50): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#18 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Routing\Middleware\SubstituteBindings->handle()
#19 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Auth\Middleware\Authenticate.php(63): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#20 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Auth\Middleware\Authenticate->handle()
#21 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\VerifyCsrfToken.php(87): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#22 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Foundation\Http\Middleware\VerifyCsrfToken->handle()
#23 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\View\Middleware\ShareErrorsFromSession.php(48): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#24 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\View\Middleware\ShareErrorsFromSession->handle()
#25 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Session\Middleware\StartSession.php(120): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#26 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Session\Middleware\StartSession.php(63): Illuminate\Session\Middleware\StartSession->handleStatefulRequest()
#27 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Session\Middleware\StartSession->handle()
#28 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Cookie\Middleware\AddQueuedCookiesToResponse.php(36): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#29 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Cookie\Middleware\AddQueuedCookiesToResponse->handle()
#30 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Cookie\Middleware\EncryptCookies.php(74): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#31 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Cookie\Middleware\EncryptCookies->handle()
#32 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(126): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#33 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Routing\Router.php(807): Illuminate\Pipeline\Pipeline->then()
#34 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Routing\Router.php(786): Illuminate\Routing\Router->runRouteWithinStack()
#35 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Routing\Router.php(750): Illuminate\Routing\Router->runRoute()
#36 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Routing\Router.php(739): Illuminate\Routing\Router->dispatchToRoute()
#37 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Http\Kernel.php(200): Illuminate\Routing\Router->dispatch()
#38 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(169): Illuminate\Foundation\Http\Kernel->Illuminate\Foundation\Http\{closure}()
#39 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#40 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\ConvertEmptyStringsToNull.php(31): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
#41 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Foundation\Http\Middleware\ConvertEmptyStringsToNull->handle()
#42 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#43 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\TrimStrings.php(51): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
#44 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Foundation\Http\Middleware\TrimStrings->handle()
#45 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Http\Middleware\ValidatePostSize.php(27): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#46 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Http\Middleware\ValidatePostSize->handle()
#47 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\PreventRequestsDuringMaintenance.php(109): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#48 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Foundation\Http\Middleware\PreventRequestsDuringMaintenance->handle()
#49 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Http\Middleware\HandleCors.php(48): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#50 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Http\Middleware\HandleCors->handle()
#51 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Http\Middleware\TrustProxies.php(58): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#52 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Http\Middleware\TrustProxies->handle()
#53 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\InvokeDeferredCallbacks.php(22): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#54 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Foundation\Http\Middleware\InvokeDeferredCallbacks->handle()
#55 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Http\Middleware\ValidatePathEncoding.php(26): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#56 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Http\Middleware\ValidatePathEncoding->handle()
#57 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(126): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#58 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Http\Kernel.php(175): Illuminate\Pipeline\Pipeline->then()
#59 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Http\Kernel.php(144): Illuminate\Foundation\Http\Kernel->sendRequestThroughRouter()
#60 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Testing\Concerns\MakesHttpRequests.php(607): Illuminate\Foundation\Http\Kernel->handle()
#61 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Testing\Concerns\MakesHttpRequests.php(397): Illuminate\Foundation\Testing\TestCase->call()
#62 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\tests\Feature\CalamityManagementTest.php(238): Illuminate\Foundation\Testing\TestCase->post()
#63 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\phpunit\phpunit\src\Framework\TestCase.php(1656): Tests\Feature\CalamityManagementTest->test_authenticated_user_can_update_flooding_calamity()
#64 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\phpunit\phpunit\src\Framework\TestCase.php(514): PHPUnit\Framework\TestCase->runTest()
#65 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\phpunit\phpunit\src\Framework\TestRunner\TestRunner.php(87): PHPUnit\Framework\TestCase->runBare()
#66 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\phpunit\phpunit\src\Framework\TestCase.php(361): PHPUnit\Framework\TestRunner->run()
#67 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\phpunit\phpunit\src\Framework\TestSuite.php(369): PHPUnit\Framework\TestCase->run()
#68 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\phpunit\phpunit\src\Framework\TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
#69 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\phpunit\phpunit\src\Framework\TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
#70 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\phpunit\phpunit\src\TextUI\TestRunner.php(64): PHPUnit\Framework\TestSuite->run()
#71 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\phpunit\phpunit\src\TextUI\Application.php(210): PHPUnit\TextUI\TestRunner->run()
#72 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\phpunit\phpunit\phpunit(104): PHPUnit\TextUI\Application->run()
#73 {main}

Next Illuminate\Database\QueryException: SQLSTATE[HY000]: General error: 1 no such column: updated_by_user_id (Connection: sqlite, SQL: update "calamities" set "risk_level_id" = 1, "name" = Updated Flooding Calamity, "slug" = updated-flooding-calamity, "coordinates" = 15.789,25.123, "map" = [], "reason" = Updated reason, "human_damage" = None, "property_damage" = Minor, "mitigation_measures" = Pumping, "flood_level" = 3, "flooded_area" = 75, "flood_range" = 150m, "time_start" = 2025-07-15, "time_end" = 2025-07-16, "sprint_time" = 36, "number_of_people_affected" = 150, "damaged_infrastructure" = Roads, "data_source" = Local reports, "updated_by_user_id" = 1, "updated_at" = 2025-07-14 06:36:49 where "id" = 1) in D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Connection.php:822
Stack trace:
#0 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Connection.php(776): Illuminate\Database\Connection->runQueryCallback()
#1 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Connection.php(581): Illuminate\Database\Connection->run()
#2 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Connection.php(533): Illuminate\Database\Connection->affectingStatement()
#3 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Query\Builder.php(3860): Illuminate\Database\Connection->update()
#4 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Eloquent\Builder.php(1236): Illuminate\Database\Query\Builder->update()
#5 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Eloquent\Model.php(1290): Illuminate\Database\Eloquent\Builder->update()
#6 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Eloquent\Model.php(1207): Illuminate\Database\Eloquent\Model->performUpdate()
#7 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Eloquent\Model.php(1064): Illuminate\Database\Eloquent\Model->save()
#8 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\app\Http\Controllers\Calamities\FloodingCalamityController.php(382): Illuminate\Database\Eloquent\Model->update()
#9 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Routing\Controller.php(54): App\Http\Controllers\Calamities\FloodingCalamityController->update()
#10 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Routing\ControllerDispatcher.php(43): Illuminate\Routing\Controller->callAction()
#11 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Routing\Route.php(265): Illuminate\Routing\ControllerDispatcher->dispatch()
#12 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Routing\Route.php(211): Illuminate\Routing\Route->runController()
#13 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Routing\Router.php(808): Illuminate\Routing\Route->run()
#14 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(169): Illuminate\Routing\Router->Illuminate\Routing\{closure}()
#15 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Routing\Middleware\SubstituteBindings.php(50): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#16 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Routing\Middleware\SubstituteBindings->handle()
#17 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Auth\Middleware\Authenticate.php(63): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#18 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Auth\Middleware\Authenticate->handle()
#19 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\VerifyCsrfToken.php(87): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#20 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Foundation\Http\Middleware\VerifyCsrfToken->handle()
#21 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\View\Middleware\ShareErrorsFromSession.php(48): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#22 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\View\Middleware\ShareErrorsFromSession->handle()
#23 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Session\Middleware\StartSession.php(120): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#24 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Session\Middleware\StartSession.php(63): Illuminate\Session\Middleware\StartSession->handleStatefulRequest()
#25 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Session\Middleware\StartSession->handle()
#26 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Cookie\Middleware\AddQueuedCookiesToResponse.php(36): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#27 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Cookie\Middleware\AddQueuedCookiesToResponse->handle()
#28 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Cookie\Middleware\EncryptCookies.php(74): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#29 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Cookie\Middleware\EncryptCookies->handle()
#30 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(126): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#31 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Routing\Router.php(807): Illuminate\Pipeline\Pipeline->then()
#32 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Routing\Router.php(786): Illuminate\Routing\Router->runRouteWithinStack()
#33 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Routing\Router.php(750): Illuminate\Routing\Router->runRoute()
#34 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Routing\Router.php(739): Illuminate\Routing\Router->dispatchToRoute()
#35 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Http\Kernel.php(200): Illuminate\Routing\Router->dispatch()
#36 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(169): Illuminate\Foundation\Http\Kernel->Illuminate\Foundation\Http\{closure}()
#37 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#38 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\ConvertEmptyStringsToNull.php(31): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
#39 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Foundation\Http\Middleware\ConvertEmptyStringsToNull->handle()
#40 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#41 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\TrimStrings.php(51): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
#42 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Foundation\Http\Middleware\TrimStrings->handle()
#43 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Http\Middleware\ValidatePostSize.php(27): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#44 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Http\Middleware\ValidatePostSize->handle()
#45 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\PreventRequestsDuringMaintenance.php(109): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#46 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Foundation\Http\Middleware\PreventRequestsDuringMaintenance->handle()
#47 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Http\Middleware\HandleCors.php(48): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#48 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Http\Middleware\HandleCors->handle()
#49 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Http\Middleware\TrustProxies.php(58): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#50 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Http\Middleware\TrustProxies->handle()
#51 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\InvokeDeferredCallbacks.php(22): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#52 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Foundation\Http\Middleware\InvokeDeferredCallbacks->handle()
#53 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Http\Middleware\ValidatePathEncoding.php(26): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#54 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Http\Middleware\ValidatePathEncoding->handle()
#55 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(126): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#56 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Http\Kernel.php(175): Illuminate\Pipeline\Pipeline->then()
#57 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Http\Kernel.php(144): Illuminate\Foundation\Http\Kernel->sendRequestThroughRouter()
#58 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Testing\Concerns\MakesHttpRequests.php(607): Illuminate\Foundation\Http\Kernel->handle()
#59 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Testing\Concerns\MakesHttpRequests.php(397): Illuminate\Foundation\Testing\TestCase->call()
#60 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\tests\Feature\CalamityManagementTest.php(238): Illuminate\Foundation\Testing\TestCase->post()
#61 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\phpunit\phpunit\src\Framework\TestCase.php(1656): Tests\Feature\CalamityManagementTest->test_authenticated_user_can_update_flooding_calamity()
#62 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\phpunit\phpunit\src\Framework\TestCase.php(514): PHPUnit\Framework\TestCase->runTest()
#63 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\phpunit\phpunit\src\Framework\TestRunner\TestRunner.php(87): PHPUnit\Framework\TestCase->runBare()
#64 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\phpunit\phpunit\src\Framework\TestCase.php(361): PHPUnit\Framework\TestRunner->run()
#65 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\phpunit\phpunit\src\Framework\TestSuite.php(369): PHPUnit\Framework\TestCase->run()
#66 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\phpunit\phpunit\src\Framework\TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
#67 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\phpunit\phpunit\src\Framework\TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
#68 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\phpunit\phpunit\src\TextUI\TestRunner.php(64): PHPUnit\Framework\TestSuite->run()
#69 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\phpunit\phpunit\src\TextUI\Application.php(210): PHPUnit\TextUI\TestRunner->run()
#70 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\phpunit\phpunit\phpunit(104): PHPUnit\TextUI\Application->run()
#71 {main}

----------------------------------------------------------------------------------

SQLSTATE[HY000]: General error: 1 no such column: updated_by_user_id (Connection: sqlite, SQL: update "calamities" set "risk_level_id" = 1, "name" = Updated Flooding Calamity, "slug" = updated-flooding-calamity, "coordinates" = 15.789,25.123, "map" = [], "reason" = Updated reason, "human_damage" = None, "property_damage" = Minor, "mitigation_measures" = Pumping, "flood_level" = 3, "flooded_area" = 75, "flood_range" = 150m, "time_start" = 2025-07-15, "time_end" = 2025-07-16, "sprint_time" = 36, "number_of_people_affected" = 150, "damaged_infrastructure" = Roads, "data_source" = Local reports, "updated_by_user_id" = 1, "updated_at" = 2025-07-14 06:36:49 where "id" = 1)

  at tests\Feature\CalamityManagementTest.php:261
    257▕                 'mitigation_measures' => 'Pumping',
    258▕                 'data_source' => 'Local reports',
    259▕             ]);
    260▕ 
  ➜ 261▕         $response->assertRedirect('/calamity/list-flooding');
    262▕         
    263▕         $calamity->refresh();
    264▕         $this->assertEquals('Updated Flooding Calamity', $calamity->name);
    265▕         $this->assertEquals('15.789,25.123', $calamity->coordinates);

  ───────────────────────────────────────────────────────────────────────────────────────────────────────────────────  
   FAILED  Tests\Feature\CalamityManagementTest > authenticated user can delete flooding calamity                      
  Expected response status code [201, 301, 302, 303, 307, 308] but received 404.
Failed asserting that false is true.

  at tests\Feature\CalamityManagementTest.php:282
    278▕         
    279▕         $response = $this->actingAs($user)
    280▕             ->get("/calamity/delete-flooding/{$calamity->id}");
    281▕ 
  ➜ 282▕         $response->assertRedirect('/calamity/list-flooding');
    283▕         
    284▕         $this->assertDatabaseMissing('calamities', ['id' => $calamity->id]);
    285▕     }
    286▕

  ───────────────────────────────────────────────────────────────────────────────────────────────────────────────────  
   FAILED  Tests\Feature\CalamityManagementTest > flooding calamity list can be searched                               
  Expected response status code [200] but received 500.
Failed asserting that 500 is identical to 200.

The following exception occurred during the last request:

PDOException: SQLSTATE[HY000]: General error: 1 no such function: YEAR in D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Connection.php:404
Stack trace:
#0 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Connection.php(404): PDO->prepare()
#1 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Connection.php(809): Illuminate\Database\Connection->Illuminate\Database\{closure}()
#2 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Connection.php(776): Illuminate\Database\Connection->runQueryCallback()
#3 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Connection.php(395): Illuminate\Database\Connection->run()
#4 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Query\Builder.php(3131): Illuminate\Database\Connection->select()
#5 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Query\Builder.php(3389): Illuminate\Database\Query\Builder->runSelect()
#6 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Query\Builder.php(3706): Illuminate\Database\Query\Builder->Illuminate\Database\Query\{closure}()
#7 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Query\Builder.php(3385): Illuminate\Database\Query\Builder->onceWithColumns()
#8 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Eloquent\Builder.php(1052): Illuminate\Database\Query\Builder->pluck()
#9 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\app\Http\Controllers\Calamities\FloodingCalamityController.php(82): Illuminate\Database\Eloquent\Builder->pluck()
#10 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Routing\Controller.php(54): App\Http\Controllers\Calamities\FloodingCalamityController->index()
#11 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Routing\ControllerDispatcher.php(43): Illuminate\Routing\Controller->callAction()
#12 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Routing\Route.php(265): Illuminate\Routing\ControllerDispatcher->dispatch()
#13 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Routing\Route.php(211): Illuminate\Routing\Route->runController()
#14 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Routing\Router.php(808): Illuminate\Routing\Route->run()
#15 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(169): Illuminate\Routing\Router->Illuminate\Routing\{closure}()
#16 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Routing\Middleware\SubstituteBindings.php(50): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#17 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Routing\Middleware\SubstituteBindings->handle()
#18 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\VerifyCsrfToken.php(87): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#19 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Foundation\Http\Middleware\VerifyCsrfToken->handle()
#20 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\View\Middleware\ShareErrorsFromSession.php(48): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#21 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\View\Middleware\ShareErrorsFromSession->handle()
#22 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Session\Middleware\StartSession.php(120): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#23 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Session\Middleware\StartSession.php(63): Illuminate\Session\Middleware\StartSession->handleStatefulRequest()
#24 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Session\Middleware\StartSession->handle()
#25 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Cookie\Middleware\AddQueuedCookiesToResponse.php(36): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#26 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Cookie\Middleware\AddQueuedCookiesToResponse->handle()
#27 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Cookie\Middleware\EncryptCookies.php(74): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#28 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Cookie\Middleware\EncryptCookies->handle()
#29 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(126): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#30 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Routing\Router.php(807): Illuminate\Pipeline\Pipeline->then()
#31 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Routing\Router.php(786): Illuminate\Routing\Router->runRouteWithinStack()
#32 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Routing\Router.php(750): Illuminate\Routing\Router->runRoute()
#33 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Routing\Router.php(739): Illuminate\Routing\Router->dispatchToRoute()
#34 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Http\Kernel.php(200): Illuminate\Routing\Router->dispatch()
#35 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(169): Illuminate\Foundation\Http\Kernel->Illuminate\Foundation\Http\{closure}()
#36 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#37 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\ConvertEmptyStringsToNull.php(31): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
#38 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Foundation\Http\Middleware\ConvertEmptyStringsToNull->handle()
#39 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#40 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\TrimStrings.php(51): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
#41 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Foundation\Http\Middleware\TrimStrings->handle()
#42 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Http\Middleware\ValidatePostSize.php(27): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#43 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Http\Middleware\ValidatePostSize->handle()
#44 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\PreventRequestsDuringMaintenance.php(109): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#45 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Foundation\Http\Middleware\PreventRequestsDuringMaintenance->handle()
#46 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Http\Middleware\HandleCors.php(48): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#47 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Http\Middleware\HandleCors->handle()
#48 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Http\Middleware\TrustProxies.php(58): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#49 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Http\Middleware\TrustProxies->handle()
#50 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\InvokeDeferredCallbacks.php(22): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#51 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Foundation\Http\Middleware\InvokeDeferredCallbacks->handle()
#52 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Http\Middleware\ValidatePathEncoding.php(26): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#53 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Http\Middleware\ValidatePathEncoding->handle()
#54 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(126): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#55 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Http\Kernel.php(175): Illuminate\Pipeline\Pipeline->then()
#56 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Http\Kernel.php(144): Illuminate\Foundation\Http\Kernel->sendRequestThroughRouter()
#57 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Testing\Concerns\MakesHttpRequests.php(607): Illuminate\Foundation\Http\Kernel->handle()
#58 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Testing\Concerns\MakesHttpRequests.php(368): Illuminate\Foundation\Testing\TestCase->call()
#59 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\tests\Feature\CalamityManagementTest.php(310): Illuminate\Foundation\Testing\TestCase->get()
#60 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\phpunit\phpunit\src\Framework\TestCase.php(1656): Tests\Feature\CalamityManagementTest->test_flooding_calamity_list_can_be_searched()
#61 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\phpunit\phpunit\src\Framework\TestCase.php(514): PHPUnit\Framework\TestCase->runTest()
#62 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\phpunit\phpunit\src\Framework\TestRunner\TestRunner.php(87): PHPUnit\Framework\TestCase->runBare()
#63 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\phpunit\phpunit\src\Framework\TestCase.php(361): PHPUnit\Framework\TestRunner->run()
#64 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\phpunit\phpunit\src\Framework\TestSuite.php(369): PHPUnit\Framework\TestCase->run()
#65 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\phpunit\phpunit\src\Framework\TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
#66 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\phpunit\phpunit\src\Framework\TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
#67 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\phpunit\phpunit\src\TextUI\TestRunner.php(64): PHPUnit\Framework\TestSuite->run()
#68 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\phpunit\phpunit\src\TextUI\Application.php(210): PHPUnit\TextUI\TestRunner->run()
#69 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\phpunit\phpunit\phpunit(104): PHPUnit\TextUI\Application->run()
#70 {main}

Next Illuminate\Database\QueryException: SQLSTATE[HY000]: General error: 1 no such function: YEAR (Connection: sqlite, SQL: select distinct YEAR(time_start) as year from "calamities" where exists (select * from "risk_levels" where "calamities"."risk_level_id" = "risk_levels"."id" and exists (select * from "type_of_calamities" where "risk_levels"."type_of_calamity_id" = "type_of_calamities"."id" and "slug" = ngap-lut)) order by "year" desc) in D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Connection.php:822
Stack trace:
#0 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Connection.php(776): Illuminate\Database\Connection->runQueryCallback()
#1 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Connection.php(395): Illuminate\Database\Connection->run()
#2 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Query\Builder.php(3131): Illuminate\Database\Connection->select()
#3 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Query\Builder.php(3389): Illuminate\Database\Query\Builder->runSelect()
#4 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Query\Builder.php(3706): Illuminate\Database\Query\Builder->Illuminate\Database\Query\{closure}()
#5 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Query\Builder.php(3385): Illuminate\Database\Query\Builder->onceWithColumns()
#6 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Eloquent\Builder.php(1052): Illuminate\Database\Query\Builder->pluck()
#7 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\app\Http\Controllers\Calamities\FloodingCalamityController.php(82): Illuminate\Database\Eloquent\Builder->pluck()
#8 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Routing\Controller.php(54): App\Http\Controllers\Calamities\FloodingCalamityController->index()
#9 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Routing\ControllerDispatcher.php(43): Illuminate\Routing\Controller->callAction()
#10 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Routing\Route.php(265): Illuminate\Routing\ControllerDispatcher->dispatch()
#11 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Routing\Route.php(211): Illuminate\Routing\Route->runController()
#12 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Routing\Router.php(808): Illuminate\Routing\Route->run()
#13 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(169): Illuminate\Routing\Router->Illuminate\Routing\{closure}()
#14 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Routing\Middleware\SubstituteBindings.php(50): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#15 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Routing\Middleware\SubstituteBindings->handle()
#16 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\VerifyCsrfToken.php(87): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#17 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Foundation\Http\Middleware\VerifyCsrfToken->handle()
#18 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\View\Middleware\ShareErrorsFromSession.php(48): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#19 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\View\Middleware\ShareErrorsFromSession->handle()
#20 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Session\Middleware\StartSession.php(120): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#21 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Session\Middleware\StartSession.php(63): Illuminate\Session\Middleware\StartSession->handleStatefulRequest()
#22 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Session\Middleware\StartSession->handle()
#23 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Cookie\Middleware\AddQueuedCookiesToResponse.php(36): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#24 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Cookie\Middleware\AddQueuedCookiesToResponse->handle()
#25 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Cookie\Middleware\EncryptCookies.php(74): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#26 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Cookie\Middleware\EncryptCookies->handle()
#27 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(126): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#28 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Routing\Router.php(807): Illuminate\Pipeline\Pipeline->then()
#29 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Routing\Router.php(786): Illuminate\Routing\Router->runRouteWithinStack()
#30 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Routing\Router.php(750): Illuminate\Routing\Router->runRoute()
#31 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Routing\Router.php(739): Illuminate\Routing\Router->dispatchToRoute()
#32 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Http\Kernel.php(200): Illuminate\Routing\Router->dispatch()
#33 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(169): Illuminate\Foundation\Http\Kernel->Illuminate\Foundation\Http\{closure}()
#34 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#35 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\ConvertEmptyStringsToNull.php(31): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
#36 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Foundation\Http\Middleware\ConvertEmptyStringsToNull->handle()
#37 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#38 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\TrimStrings.php(51): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
#39 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Foundation\Http\Middleware\TrimStrings->handle()
#40 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Http\Middleware\ValidatePostSize.php(27): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#41 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Http\Middleware\ValidatePostSize->handle()
#42 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\PreventRequestsDuringMaintenance.php(109): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#43 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Foundation\Http\Middleware\PreventRequestsDuringMaintenance->handle()
#44 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Http\Middleware\HandleCors.php(48): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#45 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Http\Middleware\HandleCors->handle()
#46 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Http\Middleware\TrustProxies.php(58): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#47 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Http\Middleware\TrustProxies->handle()
#48 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\InvokeDeferredCallbacks.php(22): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#49 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Foundation\Http\Middleware\InvokeDeferredCallbacks->handle()
#50 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Http\Middleware\ValidatePathEncoding.php(26): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#51 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Http\Middleware\ValidatePathEncoding->handle()
#52 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(126): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#53 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Http\Kernel.php(175): Illuminate\Pipeline\Pipeline->then()
#54 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Http\Kernel.php(144): Illuminate\Foundation\Http\Kernel->sendRequestThroughRouter()
#55 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Testing\Concerns\MakesHttpRequests.php(607): Illuminate\Foundation\Http\Kernel->handle()
#56 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Testing\Concerns\MakesHttpRequests.php(368): Illuminate\Foundation\Testing\TestCase->call()
#57 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\tests\Feature\CalamityManagementTest.php(310): Illuminate\Foundation\Testing\TestCase->get()
#58 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\phpunit\phpunit\src\Framework\TestCase.php(1656): Tests\Feature\CalamityManagementTest->test_flooding_calamity_list_can_be_searched()
#59 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\phpunit\phpunit\src\Framework\TestCase.php(514): PHPUnit\Framework\TestCase->runTest()
#60 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\phpunit\phpunit\src\Framework\TestRunner\TestRunner.php(87): PHPUnit\Framework\TestCase->runBare()
#61 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\phpunit\phpunit\src\Framework\TestCase.php(361): PHPUnit\Framework\TestRunner->run()
#62 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\phpunit\phpunit\src\Framework\TestSuite.php(369): PHPUnit\Framework\TestCase->run()
#63 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\phpunit\phpunit\src\Framework\TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
#64 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\phpunit\phpunit\src\Framework\TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
#65 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\phpunit\phpunit\src\TextUI\TestRunner.php(64): PHPUnit\Framework\TestSuite->run()
#66 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\phpunit\phpunit\src\TextUI\Application.php(210): PHPUnit\TextUI\TestRunner->run()
#67 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\phpunit\phpunit\phpunit(104): PHPUnit\TextUI\Application->run()
#68 {main}

----------------------------------------------------------------------------------

SQLSTATE[HY000]: General error: 1 no such function: YEAR (Connection: sqlite, SQL: select distinct YEAR(time_start) as year from "calamities" where exists (select * from "risk_levels" where "calamities"."risk_level_id" = "risk_levels"."id" and exists (select * from "type_of_calamities" where "risk_levels"."type_of_calamity_id" = "type_of_calamities"."id" and "slug" = ngap-lut)) order by "year" desc)

  at tests\Feature\CalamityManagementTest.php:311
    307▕         Calamities::factory()->create(['name' => 'Test Flooding Calamity']);
    308▕         Calamities::factory()->create(['name' => 'Another Flooding Calamity']);
    309▕         
    310▕         $response = $this->get('/calamity/list-flooding?search=Test');
  ➜ 311▕         $response->assertStatus(200);
    312▕         $response->assertSee('Test Flooding Calamity');
    313▕         $response->assertDontSee('Another Flooding Calamity');
    314▕     }
    315▕

  ───────────────────────────────────────────────────────────────────────────────────────────────────────────────────  
   FAILED  Tests\Feature\ExampleTest > the application returns a successful response                                   
  Expected response status code [200] but received 500.
Failed asserting that 500 is identical to 200.

The following exception occurred during the last request:

PDOException: SQLSTATE[HY000]: General error: 1 no such table: type_of_calamities in D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Connection.php:404
Stack trace:
#0 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Connection.php(404): PDO->prepare()
#1 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Connection.php(809): Illuminate\Database\Connection->Illuminate\Database\{closure}()
#2 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Connection.php(776): Illuminate\Database\Connection->runQueryCallback()
#3 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Connection.php(395): Illuminate\Database\Connection->run()
#4 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Query\Builder.php(3131): Illuminate\Database\Connection->select()
#5 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Query\Builder.php(3116): Illuminate\Database\Query\Builder->runSelect()
#6 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Query\Builder.php(3706): Illuminate\Database\Query\Builder->Illuminate\Database\Query\{closure}()
#7 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Query\Builder.php(3115): Illuminate\Database\Query\Builder->onceWithColumns()
#8 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Eloquent\Builder.php(872): Illuminate\Database\Query\Builder->get()
#9 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Eloquent\Builder.php(854): Illuminate\Database\Eloquent\Builder->getModels()
#10 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\app\Http\Controllers\AdminController.php(26): Illuminate\Database\Eloquent\Builder->get()
#11 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Routing\Controller.php(54): App\Http\Controllers\AdminController->dashboard()
#12 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Routing\ControllerDispatcher.php(43): Illuminate\Routing\Controller->callAction()
#13 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Routing\Route.php(265): Illuminate\Routing\ControllerDispatcher->dispatch()
#14 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Routing\Route.php(211): Illuminate\Routing\Route->runController()
#15 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Routing\Router.php(808): Illuminate\Routing\Route->run()
#16 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(169): Illuminate\Routing\Router->Illuminate\Routing\{closure}()
#17 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Routing\Middleware\SubstituteBindings.php(50): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#18 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Routing\Middleware\SubstituteBindings->handle()
#19 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\VerifyCsrfToken.php(87): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#20 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Foundation\Http\Middleware\VerifyCsrfToken->handle()
#21 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\View\Middleware\ShareErrorsFromSession.php(48): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#22 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\View\Middleware\ShareErrorsFromSession->handle()
#23 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Session\Middleware\StartSession.php(120): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#24 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Session\Middleware\StartSession.php(63): Illuminate\Session\Middleware\StartSession->handleStatefulRequest()
#25 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Session\Middleware\StartSession->handle()
#26 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Cookie\Middleware\AddQueuedCookiesToResponse.php(36): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#27 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Cookie\Middleware\AddQueuedCookiesToResponse->handle()
#28 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Cookie\Middleware\EncryptCookies.php(74): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#29 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Cookie\Middleware\EncryptCookies->handle()
#30 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(126): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#31 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Routing\Router.php(807): Illuminate\Pipeline\Pipeline->then()
#32 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Routing\Router.php(786): Illuminate\Routing\Router->runRouteWithinStack()
#33 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Routing\Router.php(750): Illuminate\Routing\Router->runRoute()
#34 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Routing\Router.php(739): Illuminate\Routing\Router->dispatchToRoute()
#35 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Http\Kernel.php(200): Illuminate\Routing\Router->dispatch()
#36 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(169): Illuminate\Foundation\Http\Kernel->Illuminate\Foundation\Http\{closure}()
#37 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#38 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\ConvertEmptyStringsToNull.php(31): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
#39 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Foundation\Http\Middleware\ConvertEmptyStringsToNull->handle()
#40 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#41 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\TrimStrings.php(51): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
#42 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Foundation\Http\Middleware\TrimStrings->handle()
#43 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Http\Middleware\ValidatePostSize.php(27): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#44 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Http\Middleware\ValidatePostSize->handle()
#45 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\PreventRequestsDuringMaintenance.php(109): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#46 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Foundation\Http\Middleware\PreventRequestsDuringMaintenance->handle()
#47 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Http\Middleware\HandleCors.php(48): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#48 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Http\Middleware\HandleCors->handle()
#49 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Http\Middleware\TrustProxies.php(58): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#50 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Http\Middleware\TrustProxies->handle()
#51 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\InvokeDeferredCallbacks.php(22): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#52 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Foundation\Http\Middleware\InvokeDeferredCallbacks->handle()
#53 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Http\Middleware\ValidatePathEncoding.php(26): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#54 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Http\Middleware\ValidatePathEncoding->handle()
#55 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(126): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#56 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Http\Kernel.php(175): Illuminate\Pipeline\Pipeline->then()
#57 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Http\Kernel.php(144): Illuminate\Foundation\Http\Kernel->sendRequestThroughRouter()
#58 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Testing\Concerns\MakesHttpRequests.php(607): Illuminate\Foundation\Http\Kernel->handle()
#59 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Testing\Concerns\MakesHttpRequests.php(368): Illuminate\Foundation\Testing\TestCase->call()
#60 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\tests\Feature\ExampleTest.php(15): Illuminate\Foundation\Testing\TestCase->get()
#61 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\phpunit\phpunit\src\Framework\TestCase.php(1656): Tests\Feature\ExampleTest->test_the_application_returns_a_successful_response()
#62 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\phpunit\phpunit\src\Framework\TestCase.php(514): PHPUnit\Framework\TestCase->runTest()
#63 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\phpunit\phpunit\src\Framework\TestRunner\TestRunner.php(87): PHPUnit\Framework\TestCase->runBare()
#64 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\phpunit\phpunit\src\Framework\TestCase.php(361): PHPUnit\Framework\TestRunner->run()
#65 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\phpunit\phpunit\src\Framework\TestSuite.php(369): PHPUnit\Framework\TestCase->run()
#66 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\phpunit\phpunit\src\Framework\TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
#67 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\phpunit\phpunit\src\Framework\TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
#68 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\phpunit\phpunit\src\TextUI\TestRunner.php(64): PHPUnit\Framework\TestSuite->run()
#69 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\phpunit\phpunit\src\TextUI\Application.php(210): PHPUnit\TextUI\TestRunner->run()
#70 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\phpunit\phpunit\phpunit(104): PHPUnit\TextUI\Application->run()
#71 {main}

Next Illuminate\Database\QueryException: SQLSTATE[HY000]: General error: 1 no such table: type_of_calamities (Connection: sqlite, SQL: select "type_of_calamities".*, (select count(*) from "calamities" inner join "risk_levels" on "risk_levels"."id" = "calamities"."risk_level_id" where "type_of_calamities"."id" = "risk_levels"."type_of_calamity_id") as "calamities_count", (select count(*) from "constructions" inner join "risk_levels" on "risk_levels"."id" = "constructions"."risk_level_id" where "type_of_calamities"."id" = "risk_levels"."type_of_calamity_id") as "constructions_count" from "type_of_calamities") in D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Connection.php:822
Stack trace:
#0 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Connection.php(776): Illuminate\Database\Connection->runQueryCallback()
#1 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Connection.php(395): Illuminate\Database\Connection->run()
#2 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Query\Builder.php(3131): Illuminate\Database\Connection->select()
#3 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Query\Builder.php(3116): Illuminate\Database\Query\Builder->runSelect()
#4 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Query\Builder.php(3706): Illuminate\Database\Query\Builder->Illuminate\Database\Query\{closure}()
#5 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Query\Builder.php(3115): Illuminate\Database\Query\Builder->onceWithColumns()
#6 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Eloquent\Builder.php(872): Illuminate\Database\Query\Builder->get()
#7 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Eloquent\Builder.php(854): Illuminate\Database\Eloquent\Builder->getModels()
#8 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\app\Http\Controllers\AdminController.php(26): Illuminate\Database\Eloquent\Builder->get()
#9 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Routing\Controller.php(54): App\Http\Controllers\AdminController->dashboard()
#10 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Routing\ControllerDispatcher.php(43): Illuminate\Routing\Controller->callAction()
#11 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Routing\Route.php(265): Illuminate\Routing\ControllerDispatcher->dispatch()
#12 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Routing\Route.php(211): Illuminate\Routing\Route->runController()
#13 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Routing\Router.php(808): Illuminate\Routing\Route->run()
#14 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(169): Illuminate\Routing\Router->Illuminate\Routing\{closure}()
#15 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Routing\Middleware\SubstituteBindings.php(50): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#16 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Routing\Middleware\SubstituteBindings->handle()
#17 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\VerifyCsrfToken.php(87): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#18 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Foundation\Http\Middleware\VerifyCsrfToken->handle()
#19 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\View\Middleware\ShareErrorsFromSession.php(48): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#20 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\View\Middleware\ShareErrorsFromSession->handle()
#21 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Session\Middleware\StartSession.php(120): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#22 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Session\Middleware\StartSession.php(63): Illuminate\Session\Middleware\StartSession->handleStatefulRequest()
#23 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Session\Middleware\StartSession->handle()
#24 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Cookie\Middleware\AddQueuedCookiesToResponse.php(36): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#25 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Cookie\Middleware\AddQueuedCookiesToResponse->handle()
#26 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Cookie\Middleware\EncryptCookies.php(74): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#27 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Cookie\Middleware\EncryptCookies->handle()
#28 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(126): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#29 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Routing\Router.php(807): Illuminate\Pipeline\Pipeline->then()
#30 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Routing\Router.php(786): Illuminate\Routing\Router->runRouteWithinStack()
#31 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Routing\Router.php(750): Illuminate\Routing\Router->runRoute()
#32 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Routing\Router.php(739): Illuminate\Routing\Router->dispatchToRoute()
#33 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Http\Kernel.php(200): Illuminate\Routing\Router->dispatch()
#34 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(169): Illuminate\Foundation\Http\Kernel->Illuminate\Foundation\Http\{closure}()
#35 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#36 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\ConvertEmptyStringsToNull.php(31): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
#37 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Foundation\Http\Middleware\ConvertEmptyStringsToNull->handle()
#38 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#39 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\TrimStrings.php(51): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
#40 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Foundation\Http\Middleware\TrimStrings->handle()
#41 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Http\Middleware\ValidatePostSize.php(27): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#42 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Http\Middleware\ValidatePostSize->handle()
#43 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\PreventRequestsDuringMaintenance.php(109): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#44 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Foundation\Http\Middleware\PreventRequestsDuringMaintenance->handle()
#45 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Http\Middleware\HandleCors.php(48): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#46 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Http\Middleware\HandleCors->handle()
#47 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Http\Middleware\TrustProxies.php(58): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#48 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Http\Middleware\TrustProxies->handle()
#49 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\InvokeDeferredCallbacks.php(22): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#50 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Foundation\Http\Middleware\InvokeDeferredCallbacks->handle()
#51 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Http\Middleware\ValidatePathEncoding.php(26): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#52 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Http\Middleware\ValidatePathEncoding->handle()
#53 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(126): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#54 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Http\Kernel.php(175): Illuminate\Pipeline\Pipeline->then()
#55 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Http\Kernel.php(144): Illuminate\Foundation\Http\Kernel->sendRequestThroughRouter()
#56 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Testing\Concerns\MakesHttpRequests.php(607): Illuminate\Foundation\Http\Kernel->handle()
#57 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Testing\Concerns\MakesHttpRequests.php(368): Illuminate\Foundation\Testing\TestCase->call()
#58 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\tests\Feature\ExampleTest.php(15): Illuminate\Foundation\Testing\TestCase->get()
#59 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\phpunit\phpunit\src\Framework\TestCase.php(1656): Tests\Feature\ExampleTest->test_the_application_returns_a_successful_response()
#60 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\phpunit\phpunit\src\Framework\TestCase.php(514): PHPUnit\Framework\TestCase->runTest()
#61 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\phpunit\phpunit\src\Framework\TestRunner\TestRunner.php(87): PHPUnit\Framework\TestCase->runBare()
#62 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\phpunit\phpunit\src\Framework\TestCase.php(361): PHPUnit\Framework\TestRunner->run()
#63 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\phpunit\phpunit\src\Framework\TestSuite.php(369): PHPUnit\Framework\TestCase->run()
#64 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\phpunit\phpunit\src\Framework\TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
#65 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\phpunit\phpunit\src\Framework\TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
#66 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\phpunit\phpunit\src\TextUI\TestRunner.php(64): PHPUnit\Framework\TestSuite->run()
#67 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\phpunit\phpunit\src\TextUI\Application.php(210): PHPUnit\TextUI\TestRunner->run()
#68 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\phpunit\phpunit\phpunit(104): PHPUnit\TextUI\Application->run()
#69 {main}

----------------------------------------------------------------------------------

SQLSTATE[HY000]: General error: 1 no such table: type_of_calamities (Connection: sqlite, SQL: select "type_of_calamities".*, (select count(*) from "calamities" inner join "risk_levels" on "risk_levels"."id" = "calamities"."risk_level_id" where "type_of_calamities"."id" = "risk_levels"."type_of_calamity_id") as "calamities_count", (select count(*) from "constructions" inner join "risk_levels" on "risk_levels"."id" = "constructions"."risk_level_id" where "type_of_calamities"."id" = "risk_levels"."type_of_calamity_id") as "constructions_count" from "type_of_calamities")

  at tests\Feature\ExampleTest.php:17
     13▕     public function test_the_application_returns_a_successful_response(): void
     14▕     {
     15▕         $response = $this->get('/');
     16▕ 
  ➜  17▕         $response->assertStatus(200);
     18▕     }
     19▕ }
     20▕

  ───────────────────────────────────────────────────────────────────────────────────────────────────────────────────  
   FAILED  Tests\Feature\IncidentReportTest > authenticated user can delete mul…  UniqueConstraintViolationException   
  SQLSTATE[23000]: Integrity constraint violation: 19 UNIQUE constraint failed: sub_type_of_calamities.slug (Connection: sqlite, SQL: insert into "sub_type_of_calamities" ("name", "slug", "description", "type_of_calamity_id", "updated_at", "created_at") values (Sạt lở trung bình, sat-lo-trung-binh, Similique voluptate recusandae exercitationem ratione ut maiores quidem., 2, 2025-07-14 06:36:52, 2025-07-14 06:36:52))

  at vendor\laravel\framework\src\Illuminate\Database\Connection.php:817
    813▕         // message to include the bindings with SQL, which will make this exception a
    814▕         // lot more helpful to the developer instead of just the database's errors.
    815▕         catch (Exception $e) {
    816▕             if ($this->isUniqueConstraintError($e)) {
  ➜ 817▕                 throw new UniqueConstraintViolationException(
    818▕                     $this->getName(), $query, $this->prepareBindings($bindings), $e
    819▕                 );
    820▕             }
    821▕

  1   vendor\laravel\framework\src\Illuminate\Database\Connection.php:817

  2   vendor\laravel\framework\src\Illuminate\Database\Connection.php:568
      NunoMaduro\Collision\Exceptions\TestException::("SQLSTATE[23000]: Integrity constraint violation: 19 UNIQUE constraint failed: sub_type_of_calamities.slug")

  ───────────────────────────────────────────────────────────────────────────────────────────────────────────────────  
   FAILED  Tests\Feature\IntegrationTest > complete workflow from login to calamity management                         
  Expected: <!DOCTYPE html>\n
<html class="opacity-0" lang="vi">\n
\n
<head>\n
    <meta charset="utf-8">\n
    <meta name="csrf-token" content="MMFf9W5ZacSQEjDuZFJQXqRqU3Cb3QM9WkxaF9tB">\n
    <meta name="viewport" content="width=device-width, initial-scale=1">\n
    <meta name="author" content="LEFT4CODE">\n
    \n
    \n
    <script type="module" src="http://[::1]:5173/@vite/client"></script><script type="module" src="http://[::1]:5173/resources/js/vendors/dom.js"></script>    \n
        <script type="module" src="http://[::1]:5173/@vite/client"></script><script type="module" src="http://[::1]:5173/resources/js/vendors/modal.js"></script>\n
    <script type="module" src="http://[::1]:5173/@vite/client"></script><script type="module" src="http://[::1]:5173/resources/js/components/base/theme-color.js"></script>    <script type="module" src="http://[::1]:5173/@vite/client"></script><link rel="stylesheet" href="http://[::1]:5173/resources/css/app.css" /><script type="module" src="http://[::1]:5173/resources/js/app.js"></script>\n
        <script src="https://cdn.jsdelivr.net/npm/apexcharts"></script>\n
    <script>\n
\n
        document.addEventListener("DOMContentLoaded", function() {\n
            var disasterData = [{"type":"S\u1ea1t L\u1edf","count":0,"percentage":0},{"type":"Ng\u1eadp L\u1ee5t","count":0,"percentage":0},{"type":"B\u00e3o","count":0,"percentage":0}];\n
            var labels = disasterData.map(item => item.type);\n
            var series = disasterData.map(item => item.count);\n
            \n
            var colors = ['#2563eb', '#f59e0b', '#ef4444'];\n
            if (series.reduce((a, b) => a + b, 0) === 0) {\n
                document.getElementById("disaster-chart").innerHTML =\n
                    "<p class='text-gray-500 text-center'>Không có dữ liệu để hiển thị</p>";\n
            } else {\n
                var options = {\n
                    series: series,\n
                    chart: {\n
                        type: 'pie',\n
                        height: 370\n
                    },\n
                    labels: labels,\n
                    colors: colors,\n
                    legend: {\n
                        show: false\n
                    },\n
                    stroke: {\n
                        show: true,\n
                        width: 2,\n
                        colors: ['#ffffff']\n
                    }\n
                };\n
                var chart = new ApexCharts(document.querySelector("#disaster-chart"), options);\n
                chart.render();\n
            }\n
        });\n
\n
        document.addEventListener("DOMContentLoaded", function() {\n
            if (typeof google === "undefined" || typeof google.maps === "undefined") {\n
                console.warn("Google Maps API chưa tải xong, đợi 1 giây...");\n
                let checkGoogleMaps = setInterval(() => {\n
                    if (typeof google !== "undefined" && typeof google.maps !== "undefined") {\n
                        clearInterval(checkGoogleMaps);\n
                        console.log("Google Maps API đã sẵn sàng!");\n
                        initializeApp();\n
                    }\n
                }, 1000);\n
            } else {\n
                console.log("Google Maps API đã sẵn sàng!");\n
                initializeApp();\n
            }\n
        });\n
        let calamitiesData = [{"type":"S\u1ea1t L\u1edf","data":[]},{"type":"Ng\u1eadp L\u1ee5t","data":[]},{"type":"B\u00e3o","data":[]}]\n
        let map;\n
        let markers = {}; \n
        let kmlLayers = {}; \n
        let map1, marker;\n
\n
        function initializeApp() {\n
            initMap();\n
            addMarkersAndKML()\n
            setupCheckboxListeners()\n
        }\n
\n
        function initMap() {\n
            \n
            map = new google.maps.Map(document.getElementById('map'), {\n
                center: {\n
                    lat: 9.176,\n
                    lng: 105.15\n
                },\n
                zoom: 10\n
            });\n
            addDistrictLabels();\n
\n
        }\n
\n
        function addDistrictLabels() {\n
            const districts = [{\n
                    name: "TP.Cà Mau",\n
                    lat: 9.180768,\n
                    lng: 105.191980\n
                },\n
                {\n
                    name: "H.U Minh",\n
                    lat: 9.3458,\n
                    lng: 104.9432\n
                },\n
                {\n
                    name: "H.Thới Bình",\n
                    lat: 9.340954,\n
                    lng: 105.163154\n
                },\n
                {\n
                    name: "H.Trần Văn Thời",\n
                    lat: 9.139329,\n
                    lng: 104.916711\n
                },\n
                {\n
                    name: "H.Cái Nước",\n
                    lat: 9.028582,\n
                    lng: 105.046749\n
                },\n
                {\n
                    name: "H.Đầm Dơi",\n
                    lat: 8.965907,\n
                    lng: 105.243772\n
                },\n
                {\n
                    name: "H.Năm Căn",\n
                    lat: 8.7815,\n
                    lng: 104.9735\n
                },\n
                {\n
                    name: "H.Phú Tân",\n
                    lat: 8.889554,\n
                    lng: 104.877030\n
                },\n
                {\n
                    name: "H.Ngọc Hiển",\n
                    lat: 8.6235,\n
                    lng: 104.8435\n
                }\n
            ];\n
            districts.forEach(district => {\n
                new google.maps.Marker({\n
                    position: {\n
                        lat: district.lat,\n
                        lng: district.lng\n
                    },\n
                    map,\n
                    label: {\n
                        text: district.name,\n
                        color: "black",\n
                        fontSize: "12px"\n
                    },\n
                    icon: {\n
                        path: google.maps.SymbolPath.CIRCLE,\n
                        scale: 0\n
                    },\n
                });\n
            });\n
        }\n
\n
        function removeVietnameseTones(str) {\n
            return str.normalize("NFD").replace(/[\u0300-\u036f]/g, "") \n
                .replace(/đ/g, "d").replace(/Đ/g, "D") \n
                .replace(/\s+/g, '-').toLowerCase(); \n
        }\n
\n
        function addMarkersAndKML() {\n
            markers = {}; \n
            let sharedInfoWindow = new google.maps.InfoWindow();\n
            calamitiesData.forEach(disaster => {\n
                disaster.data.forEach(item => {\n
                    console.log("📍 Marker:", item.name, item.coordinates);\n
                });\n
\n
                let type = disaster.type;\n
                let slug = removeVietnameseTones(type); \n
                markers[slug] = [];\n
                \n
                let iconUrl = "";\n
                switch (type.toLowerCase()) {\n
                    case "sạt lở":\n
                        iconUrl = "/uploads/map/falling_rocks.png";\n
                        break;\n
                    case "ngập lụt":\n
                        iconUrl = "/uploads/map/swimming.png";\n
                        break;\n
                    case "bão":\n
                        iconUrl = "/uploads/map/caution.png";\n
                        break;\n
                    default:\n
                        iconUrl = "https://maps.google.com/mapfiles/kml/shapes/info-i_maps.png"; \n
                }\n
                \n
                if (Array.isArray(disaster.data)) {\n
                    disaster.data.forEach(item => {\n
                        if (item.coordinates) {\n
                            let [lat, lng] = item.coordinates.split(',').map(coord => parseFloat(coord\n
                                .trim()));\n
                            let marker = new google.maps.Marker({\n
                                position: {\n
                                    lat,\n
                                    lng\n
                                },\n
                                map: map,\n
                                icon: {\n
                                    url: iconUrl,\n
                                    scaledSize: new google.maps.Size(25, 25)\n
                                }\n
                            });\n
                            marker.addListener("click", () => {\n
                                sharedInfoWindow.setContent(generateContent(item, type));\n
                                sharedInfoWindow.open(map, marker);\n
                            });\n
                            google.maps.event.addListener(sharedInfoWindow, "domready", function() {\n
                                const closeBtn = document.querySelector(".gm-ui-hover-effect");\n
                                if (closeBtn) closeBtn.style.display = "none";\n
                                const customClose = document.getElementById("custom-close-btn");\n
                                if (customClose) {\n
                                    customClose.addEventListener("click", () => {\n
                                        sharedInfoWindow.close();\n
                                    });\n
                                }\n
                            });\n
                            markers[slug].push(marker);\n
                        }\n
                    });\n
                }\n
            });\n
        }\n
\n
        function generateContent(calamity, type) {\n
            let headerColor = "linear-gradient(to right, #95a5a6, #7f8c8d)";\n
            if (type === "Sạt Lở") {\n
                headerColor = "linear-gradient(to right, #e74c3c, #c0392b)";\n
            } else if (type === "Ngập Lụt") {\n
                headerColor = "linear-gradient(to right, #3498db, #2980b9)";\n
            } else if (type === "Bão") {\n
                headerColor = "linear-gradient(to right, #f39c12, #e67e22)";\n
            }\n
            const content = `\n
                    <div style="max-width: 320px; font-family: 'Segoe UI', sans-serif; border-radius: 16px; overflow: hidden; box-shadow: 0 8px 20px rgba(0,0,0,0.15); background: #fff; position: relative;">\n
                        <button id="custom-close-btn"\n
                            style="position: absolute; top: 10px; right: 10px; background: rgba(255,255,255,0.9); border: none; border-radius: 50%; padding: 6px 10px; font-size: 16px; cursor: pointer; box-shadow: 0 2px 6px rgba(0,0,0,0.2); z-index: 2;">\n
                            ✕\n
                        </button>\n
                        <div style="background: ${headerColor}; color: white; padding: 14px 20px; text-align: center;">\n
                            <div style="font-size: 17px; font-weight: bold; letter-spacing: 0.5px;">\n
                                ${calamity.name || "Không có tên"} (${type})\n
                            </div>\n
                        </div>\n
                    <div style="padding: 16px 20px; font-size: 14.5px; color: #333; line-height: 1.8;">\n
                            <div style="margin-bottom: 6px;"><strong>🌍 Thiên tai:</strong> ${calamity.risk_level.type_of_calamities.name || "Không có"}</div>\n
                            <div style="margin-bottom: 6px;"><strong>🌀 Tác nhân:</strong> ${calamity.sub_type_of_calamities[0].name || "Không có"}</div>\n
                            <div style="margin-bottom: 6px;"><strong>⚠️ Cấp độ:</strong> ${calamity.risk_level.name || "Không có"}</div>\n
                            <div style="margin-bottom: 6px;"><strong>📍 Địa chỉ:</strong> ${calamity.address || "Không có"}</div>\n
                            <div style="margin-bottom: 6px;"><strong>🏘️ Xã:</strong> ${calamity.communes?.[0]?.name || "Không có"}</div>\n
                            <div style="margin-bottom: 6px;"><strong>🏞️ Huyện:</strong> ${calamity.communes?.[0]?.district?.name || "Không có"}</div>\n
                        </div>\n
                    </div>\n
                    `;\n
            return content;\n
        }\n
\n
        function setupCheckboxListeners() {\n
            document.querySelectorAll("input[type='checkbox']").forEach(checkbox => {\n
                checkbox.addEventListener("change", function() {\n
                    let typeSlug = this.id.replace("toggle-", "");\n
                    if (this.checked) {\n
                        if (markers[typeSlug]) {\n
                            markers[typeSlug].forEach(marker => marker.setVisible(true));\n
                        }\n
                        if (kmlLayers[typeSlug]) {\n
                            kmlLayers[typeSlug].forEach(layer => layer.setMap(map));\n
                        }\n
                    } else {\n
                        if (markers[typeSlug]) {\n
                            markers[typeSlug].forEach(marker => marker.setVisible(false));\n
                        }\n
                        if (kmlLayers[typeSlug]) {\n
                            kmlLayers[typeSlug].forEach(layer => layer.setMap(null));\n
                        }\n
                    }\n
                });\n
            });\n
        }\n
\n
        function showToast(message) {\n
            let toast = document.createElement("div");\n
            toast.innerText = message;\n
            toast.style.position = "fixed";\n
            toast.style.bottom = "20px";\n
            toast.style.left = "50%";\n
            toast.style.transform = "translateX(-50%)";\n
            toast.style.background = "#ff4d4d";\n
            toast.style.color = "white";\n
            toast.style.padding = "10px 20px";\n
            toast.style.borderRadius = "5px";\n
            toast.style.zIndex = "1000";\n
            document.body.appendChild(toast);\n
\n
            setTimeout(() => {\n
                toast.remove();\n
            }, 3000);\n
        }\n
    </script>\n
    <script async\n
        src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDMhd9dHKpWfJ57Ndv2alnxEcSvP_-_uN8&libraries=places&callback=initMap">\n
    </script>\n
    \n
</head>\n
\n
<body style="background-color: #1E3A8A;">\n
\n
    <div class=" px-5 sm:px-8 py-5 ">\n
        <div class="mobile-menu hidden lg:hidden fixed inset-0 bg-slate-900 text-white z-50 overflow-y-auto" style="background-color: #1E3A8A;">\n
    \n
    <div class="flex h-[70px] items-center px-4 sm:px-8 justify-between border-b border-slate-700 lg:hidden">\n
        <a href="http://localhost" class="flex items-center gap-2">\n
            <span class="font-semibold text-lg">Quản lý thiên tai</span>\n
        </a>\n
        <span role="button" class="mobile-menu-close cursor-pointer"\n
      onclick="document.querySelector('.mobile-menu')?.classList.add('hidden')">\n
    <svg class="lucide w-5 h-5 mr-2" xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24"><circle cx="12" cy="12" r="10"/><path d="M15 9l-6 6m0-6l6 6"/></svg>\n
    </span>\n
\n
    </div>\n
\n
    <ul class="py-4 px-4 space-y-2">\n
                                                        <li>\n
                        <a class="flex items-center justify-between px-4 py-3 hover:bg-slate-700 rounded transition "\n
                           href="http://localhost">\n
                            <div class="flex items-center gap-2">\n
                                <svg class="lucide w-5 h-5 mr-2" xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24"><path d="M12 22a10 10 0 1 0-10-10a10.011 10.011 0 0 0 10 10z"/><path d="M12.5 7h-1a1.5 1.5 0 0 0-1.5 1.5v6A1.5 1.5 0 0 0 11.5 16h1a1.5 1.5 0 0 0 .5-2.9V9.9A1.5 1.5 0 0 0 12.5 7z"/><circle cx="12" cy="19" r=".5"/></svg>\n
                                <span>Tổng Quan</span>\n
                            </div>\n
                                                    </a>\n
\n
                                            </li>\n
                                                                <li>\n
                        <a class="flex items-center justify-between px-4 py-3 hover:bg-slate-700 rounded transition toggle-submenu"\n
                           href="javascript:;">\n
                            <div class="flex items-center gap-2">\n
                                <svg class="lucide w-5 h-5 mr-2" xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24"><path d="M3 9l9-7l9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V9z"/><polyline points="9 22 9 12 15 12 15 22"/></svg>\n
                                <span>Địa Điểm</span>\n
                            </div>\n
                                                            <svg class="lucide w-5 h-5 mr-2" xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24"><path d="M6 9l6 6l6-6"/></svg>\n
                                                    </a>\n
\n
                                                    <ul class="submenu ml-4 mt-1 hidden space-y-1">\n
                                                                    <li>\n
                                        <a class="flex items-center justify-between px-4 py-2 text-sm hover:bg-slate-700 rounded transition "\n
                                           href="http://localhost/list-city">\n
                                            <div class="flex items-center gap-2">\n
                                                <svg class="lucide w-5 h-5 mr-2" xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24"><path d="M12 22a10 10 0 1 0-10-10a10.011 10.011 0 0 0 10 10z"/><path d="M12.5 7h-1a1.5 1.5 0 0 0-1.5 1.5v6A1.5 1.5 0 0 0 11.5 16h1a1.5 1.5 0 0 0 .5-2.9V9.9A1.5 1.5 0 0 0 12.5 7z"/><circle cx="12" cy="19" r=".5"/></svg>\n
                                                <span>Tỉnh-Thành</span>\n
                                            </div>\n
                                                                                    </a>\n
\n
                                                                            </li>\n
                                                                    <li>\n
                                        <a class="flex items-center justify-between px-4 py-2 text-sm hover:bg-slate-700 rounded transition "\n
                                           href="http://localhost/list-district">\n
                                            <div class="flex items-center gap-2">\n
                                                <svg class="lucide w-5 h-5 mr-2" xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24"><path d="M12 22a10 10 0 1 0-10-10a10.011 10.011 0 0 0 10 10z"/><path d="M12.5 7h-1a1.5 1.5 0 0 0-1.5 1.5v6A1.5 1.5 0 0 0 11.5 16h1a1.5 1.5 0 0 0 .5-2.9V9.9A1.5 1.5 0 0 0 12.5 7z"/><circle cx="12" cy="19" r=".5"/></svg>\n
                                                <span>Quận-Huyện</span>\n
                                            </div>\n
                                                                                    </a>\n
\n
                                                                            </li>\n
                                                                    <li>\n
                                        <a class="flex items-center justify-between px-4 py-2 text-sm hover:bg-slate-700 rounded transition "\n
                                           href="http://localhost/list-commune">\n
                                            <div class="flex items-center gap-2">\n
                                                <svg class="lucide w-5 h-5 mr-2" xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24"><path d="M12 22a10 10 0 1 0-10-10a10.011 10.011 0 0 0 10 10z"/><path d="M12.5 7h-1a1.5 1.5 0 0 0-1.5 1.5v6A1.5 1.5 0 0 0 11.5 16h1a1.5 1.5 0 0 0 .5-2.9V9.9A1.5 1.5 0 0 0 12.5 7z"/><circle cx="12" cy="19" r=".5"/></svg>\n
                                                <span>Phường-Xã</span>\n
                                            </div>\n
                                                                                    </a>\n
\n
                                                                            </li>\n
                                                            </ul>\n
                                            </li>\n
                                                                <li>\n
                        <a class="flex items-center justify-between px-4 py-3 hover:bg-slate-700 rounded transition toggle-submenu"\n
                           href="javascript:;">\n
                            <div class="flex items-center gap-2">\n
                                <svg class="lucide w-5 h-5 mr-2" xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24"><path d="M16 21v-2a4 4 0 0 0-8 0v2"/><circle cx="12" cy="7" r="4"/><path d="M20.88 18.5A3.5 3.5 0 0 1 17.5 22H6.5a3.5 3.5 0 0 1-3.38-2.5"/></svg>\n
                                <span>Loại Thiên Tai</span>\n
                            </div>\n
                                                            <svg class="lucide w-5 h-5 mr-2" xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24"><path d="M6 9l6 6l6-6"/></svg>\n
                                                    </a>\n
\n
                                                    <ul class="submenu ml-4 mt-1 hidden space-y-1">\n
                                                                    <li>\n
                                        <a class="flex items-center justify-between px-4 py-2 text-sm hover:bg-slate-700 rounded transition "\n
                                           href="http://localhost/list-type-of-calamity">\n
                                            <div class="flex items-center gap-2">\n
                                                <svg class="lucide w-5 h-5 mr-2" xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24"><path d="M12 22a10 10 0 1 0-10-10a10.011 10.011 0 0 0 10 10z"/><path d="M12.5 7h-1a1.5 1.5 0 0 0-1.5 1.5v6A1.5 1.5 0 0 0 11.5 16h1a1.5 1.5 0 0 0 .5-2.9V9.9A1.5 1.5 0 0 0 12.5 7z"/><circle cx="12" cy="19" r=".5"/></svg>\n
                                                <span>Loại Thiên Tai</span>\n
                                            </div>\n
                                                                                    </a>\n
\n
                                                                            </li>\n
                                                                    <li>\n
                                        <a class="flex items-center justify-between px-4 py-2 text-sm hover:bg-slate-700 rounded transition "\n
                                           href="http://localhost/list-sub-type-of-calamity">\n
                                            <div class="flex items-center gap-2">\n
                                                <svg class="lucide w-5 h-5 mr-2" xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24"><path d="M12 22a10 10 0 1 0-10-10a10.011 10.011 0 0 0 10 10z"/><path d="M12.5 7h-1a1.5 1.5 0 0 0-1.5 1.5v6A1.5 1.5 0 0 0 11.5 16h1a1.5 1.5 0 0 0 .5-2.9V9.9A1.5 1.5 0 0 0 12.5 7z"/><circle cx="12" cy="19" r=".5"/></svg>\n
                                                <span>Loại Thiên Tai Phụ</span>\n
                                            </div>\n
                                                                                    </a>\n
\n
                                                                            </li>\n
                                                                    <li>\n
                                        <a class="flex items-center justify-between px-4 py-2 text-sm hover:bg-slate-700 rounded transition "\n
                                           href="http://localhost/list-risk-level">\n
                                            <div class="flex items-center gap-2">\n
                                                <svg class="lucide w-5 h-5 mr-2" xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24"><path d="M12 22a10 10 0 1 0-10-10a10.011 10.011 0 0 0 10 10z"/><path d="M12.5 7h-1a1.5 1.5 0 0 0-1.5 1.5v6A1.5 1.5 0 0 0 11.5 16h1a1.5 1.5 0 0 0 .5-2.9V9.9A1.5 1.5 0 0 0 12.5 7z"/><circle cx="12" cy="19" r=".5"/></svg>\n
                                                <span>Cấp Độ Thiên Tai</span>\n
                                            </div>\n
                                                                                    </a>\n
\n
                                                                            </li>\n
                                                                    <li>\n
                                        <a class="flex items-center justify-between px-4 py-2 text-sm hover:bg-slate-700 rounded transition "\n
                                           href="http://localhost/list-type-of-construction">\n
                                            <div class="flex items-center gap-2">\n
                                                <svg class="lucide w-5 h-5 mr-2" xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24"><path d="M12 22a10 10 0 1 0-10-10a10.011 10.011 0 0 0 10 10z"/><path d="M12.5 7h-1a1.5 1.5 0 0 0-1.5 1.5v6A1.5 1.5 0 0 0 11.5 16h1a1.5 1.5 0 0 0 .5-2.9V9.9A1.5 1.5 0 0 0 12.5 7z"/><circle cx="12" cy="19" r=".5"/></svg>\n
                                                <span>Loại Công Trình</span>\n
                                            </div>\n
                                                                                    </a>\n
\n
                                                                            </li>\n
                                                                    <li>\n
                                        <a class="flex items-center justify-between px-4 py-2 text-sm hover:bg-slate-700 rounded transition "\n
                                           href="http://localhost/list-scenarios">\n
                                            <div class="flex items-center gap-2">\n
                                                <svg class="lucide w-5 h-5 mr-2" xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24"><path d="M12 22a10 10 0 1 0-10-10a10.011 10.011 0 0 0 10 10z"/><path d="M12.5 7h-1a1.5 1.5 0 0 0-1.5 1.5v6A1.5 1.5 0 0 0 11.5 16h1a1.5 1.5 0 0 0 .5-2.9V9.9A1.5 1.5 0 0 0 12.5 7z"/><circle cx="12" cy="19" r=".5"/></svg>\n
                                                <span>Phương Án Ứng Phó</span>\n
                                            </div>\n
                                                                                    </a>\n
\n
                                                                            </li>\n
                                                            </ul>\n
                                            </li>\n
                                                                <li>\n
                        <a class="flex items-center justify-between px-4 py-3 hover:bg-slate-700 rounded transition toggle-submenu"\n
                           href="javascript:;">\n
                            <div class="flex items-center gap-2">\n
                                <svg class="lucide w-5 h-5 mr-2" xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24"><path d="M16 21v-2a4 4 0 0 0-8 0v2"/><circle cx="12" cy="7" r="4"/><path d="M20.88 18.5A3.5 3.5 0 0 1 17.5 22H6.5a3.5 3.5 0 0 1-3.38-2.5"/></svg>\n
                                <span>Dữ Liệu Thiên Tai</span>\n
                            </div>\n
                                                            <svg class="lucide w-5 h-5 mr-2" xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24"><path d="M6 9l6 6l6-6"/></svg>\n
                                                    </a>\n
\n
                                                    <ul class="submenu ml-4 mt-1 hidden space-y-1">\n
                                                                    <li>\n
                                        <a class="flex items-center justify-between px-4 py-2 text-sm hover:bg-slate-700 rounded transition "\n
                                           href="http://localhost/calamity/list-river-bank">\n
                                            <div class="flex items-center gap-2">\n
                                                <svg class="lucide w-5 h-5 mr-2" xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24"><path d="M12 22a10 10 0 1 0-10-10a10.011 10.011 0 0 0 10 10z"/><path d="M12.5 7h-1a1.5 1.5 0 0 0-1.5 1.5v6A1.5 1.5 0 0 0 11.5 16h1a1.5 1.5 0 0 0 .5-2.9V9.9A1.5 1.5 0 0 0 12.5 7z"/><circle cx="12" cy="19" r=".5"/></svg>\n
                                                <span>Sạt Lở</span>\n
                                            </div>\n
                                                                                    </a>\n
\n
                                                                            </li>\n
                                                                    <li>\n
                                        <a class="flex items-center justify-between px-4 py-2 text-sm hover:bg-slate-700 rounded transition "\n
                                           href="http://localhost/calamity/list-flooding">\n
                                            <div class="flex items-center gap-2">\n
                                                <svg class="lucide w-5 h-5 mr-2" xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24"><path d="M12 22a10 10 0 1 0-10-10a10.011 10.011 0 0 0 10 10z"/><path d="M12.5 7h-1a1.5 1.5 0 0 0-1.5 1.5v6A1.5 1.5 0 0 0 11.5 16h1a1.5 1.5 0 0 0 .5-2.9V9.9A1.5 1.5 0 0 0 12.5 7z"/><circle cx="12" cy="19" r=".5"/></svg>\n
                                                <span>Ngập Lụt</span>\n
                                            </div>\n
                                                                                    </a>\n
\n
                                                                            </li>\n
                                                                    <li>\n
                                        <a class="flex items-center justify-between px-4 py-2 text-sm hover:bg-slate-700 rounded transition "\n
                                           href="http://localhost/calamity/list-storm">\n
                                            <div class="flex items-center gap-2">\n
                                                <svg class="lucide w-5 h-5 mr-2" xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24"><path d="M12 22a10 10 0 1 0-10-10a10.011 10.011 0 0 0 10 10z"/><path d="M12.5 7h-1a1.5 1.5 0 0 0-1.5 1.5v6A1.5 1.5 0 0 0 11.5 16h1a1.5 1.5 0 0 0 .5-2.9V9.9A1.5 1.5 0 0 0 12.5 7z"/><circle cx="12" cy="19" r=".5"/></svg>\n
                                                <span>Bão và ATNĐ</span>\n
                                            </div>\n
                                                                                    </a>\n
\n
                                                                            </li>\n
                                                            </ul>\n
                                            </li>\n
                                                                <li>\n
                        <a class="flex items-center justify-between px-4 py-3 hover:bg-slate-700 rounded transition toggle-submenu"\n
                           href="javascript:;">\n
                            <div class="flex items-center gap-2">\n
                                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-construction-icon lucide-construction"><rect x="2" y="6" width="20" height="8" rx="1"/><path d="M17 14v7"/><path d="M7 14v7"/><path d="M17 3v3"/><path d="M7 3v3"/><path d="M10 14 2.3 6.3"/><path d="m14 6 7.7 7.7"/><path d="m8 6 8 8"/></svg>\n
                                <span>Công Trình PCTT</span>\n
                            </div>\n
                                                            <svg class="lucide w-5 h-5 mr-2" xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24"><path d="M6 9l6 6l6-6"/></svg>\n
                                                    </a>\n
\n
                                                    <ul class="submenu ml-4 mt-1 hidden space-y-1">\n
                                                                    <li>\n
                                        <a class="flex items-center justify-between px-4 py-2 text-sm hover:bg-slate-700 rounded transition "\n
                                           href="http://localhost/construction/list-river-bank">\n
                                            <div class="flex items-center gap-2">\n
                                                <svg class="lucide w-5 h-5 mr-2" xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24"><path d="M12 22a10 10 0 1 0-10-10a10.011 10.011 0 0 0 10 10z"/><path d="M12.5 7h-1a1.5 1.5 0 0 0-1.5 1.5v6A1.5 1.5 0 0 0 11.5 16h1a1.5 1.5 0 0 0 .5-2.9V9.9A1.5 1.5 0 0 0 12.5 7z"/><circle cx="12" cy="19" r=".5"/></svg>\n
                                                <span>Sạt Lở</span>\n
                                            </div>\n
                                                                                    </a>\n
\n
                                                                            </li>\n
                                                                    <li>\n
                                        <a class="flex items-center justify-between px-4 py-2 text-sm hover:bg-slate-700 rounded transition "\n
                                           href="http://localhost/construction/list-flooding">\n
                                            <div class="flex items-center gap-2">\n
                                                <svg class="lucide w-5 h-5 mr-2" xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24"><path d="M12 22a10 10 0 1 0-10-10a10.011 10.011 0 0 0 10 10z"/><path d="M12.5 7h-1a1.5 1.5 0 0 0-1.5 1.5v6A1.5 1.5 0 0 0 11.5 16h1a1.5 1.5 0 0 0 .5-2.9V9.9A1.5 1.5 0 0 0 12.5 7z"/><circle cx="12" cy="19" r=".5"/></svg>\n
                                                <span>Ngập Lụt</span>\n
                                            </div>\n
                                                                                    </a>\n
\n
                                                                            </li>\n
                                                                    <li>\n
                                        <a class="flex items-center justify-between px-4 py-2 text-sm hover:bg-slate-700 rounded transition "\n
                                           href="http://localhost/construction/list-storm">\n
                                            <div class="flex items-center gap-2">\n
                                                <svg class="lucide w-5 h-5 mr-2" xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24"><path d="M12 22a10 10 0 1 0-10-10a10.011 10.011 0 0 0 10 10z"/><path d="M12.5 7h-1a1.5 1.5 0 0 0-1.5 1.5v6A1.5 1.5 0 0 0 11.5 16h1a1.5 1.5 0 0 0 .5-2.9V9.9A1.5 1.5 0 0 0 12.5 7z"/><circle cx="12" cy="19" r=".5"/></svg>\n
                                                <span>Bão và ATNĐ</span>\n
                                            </div>\n
                                                                                    </a>\n
\n
                                                                            </li>\n
                                                            </ul>\n
                                            </li>\n
                                                                <li>\n
                        <a class="flex items-center justify-between px-4 py-3 hover:bg-slate-700 rounded transition toggle-submenu"\n
                           href="javascript:;">\n
                            <div class="flex items-center gap-2">\n
                                <svg class="lucide w-5 h-5 mr-2" xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24"><path d="M16 21v-2a4 4 0 0 0-8 0v2"/><circle cx="12" cy="7" r="4"/><path d="M20.88 18.5A3.5 3.5 0 0 1 17.5 22H6.5a3.5 3.5 0 0 1-3.38-2.5"/></svg>\n
                                <span>Địa danh hành chính</span>\n
                            </div>\n
                                                            <svg class="lucide w-5 h-5 mr-2" xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24"><path d="M6 9l6 6l6-6"/></svg>\n
                                                    </a>\n
\n
                                                    <ul class="submenu ml-4 mt-1 hidden space-y-1">\n
                                                                    <li>\n
                                        <a class="flex items-center justify-between px-4 py-2 text-sm hover:bg-slate-700 rounded transition "\n
                                           href="http://localhost/administrative/list-school">\n
                                            <div class="flex items-center gap-2">\n
                                                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-school-icon lucide-school"><path d="M14 22v-4a2 2 0 1 0-4 0v4"/><path d="m18 10 3.447 1.724a1 1 0 0 1 .553.894V20a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2v-7.382a1 1 0 0 1 .553-.894L6 10"/><path d="M18 5v17"/><path d="m4 6 7.106-3.553a2 2 0 0 1 1.788 0L20 6"/><path d="M6 5v17"/><circle cx="12" cy="9" r="2"/></svg>\n
                                                <span>Trường Học</span>\n
                                            </div>\n
                                                                                    </a>\n
\n
                                                                            </li>\n
                                                                    <li>\n
                                        <a class="flex items-center justify-between px-4 py-2 text-sm hover:bg-slate-700 rounded transition "\n
                                           href="http://localhost/administrative/list-medical">\n
                                            <div class="flex items-center gap-2">\n
                                                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-hospital-icon lucide-hospital"><path d="M12 6v4"/><path d="M14 14h-4"/><path d="M14 18h-4"/><path d="M14 8h-4"/><path d="M18 12h2a2 2 0 0 1 2 2v6a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2v-9a2 2 0 0 1 2-2h2"/><path d="M18 22V4a2 2 0 0 0-2-2H8a2 2 0 0 0-2 2v18"/></svg>\n
                                                <span>Địa Điểm Y Tế</span>\n
                                            </div>\n
                                                                                    </a>\n
\n
                                                                            </li>\n
                                                                    <li>\n
                                        <a class="flex items-center justify-between px-4 py-2 text-sm hover:bg-slate-700 rounded transition "\n
                                           href="http://localhost/administrative/list-center">\n
                                            <div class="flex items-center gap-2">\n
                                                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-university-icon lucide-university"><path d="M14 21v-3a2 2 0 0 0-4 0v3"/><path d="M18 12h.01"/><path d="M18 16h.01"/><path d="M22 7a1 1 0 0 0-1-1h-2a2 2 0 0 1-1.143-.359L13.143 2.36a2 2 0 0 0-2.286-.001L6.143 5.64A2 2 0 0 1 5 6H3a1 1 0 0 0-1 1v12a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2z"/><path d="M6 12h.01"/><path d="M6 16h.01"/><circle cx="12" cy="10" r="2"/></svg>\n
                                                <span>TTHC và Khác</span>\n
                                            </div>\n
                                                                                    </a>\n
\n
                                                                            </li>\n
                                                            </ul>\n
                                            </li>\n
                                                                <li>\n
                        <a class="flex items-center justify-between px-4 py-3 hover:bg-slate-700 rounded transition toggle-submenu"\n
                           href="javascript:;">\n
                            <div class="flex items-center gap-2">\n
                                <svg class="lucide w-5 h-5 mr-2" xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24"><path d="M16 21v-2a4 4 0 0 0-8 0v2"/><circle cx="12" cy="7" r="4"/><path d="M20.88 18.5A3.5 3.5 0 0 1 17.5 22H6.5a3.5 3.5 0 0 1-3.38-2.5"/></svg>\n
                                <span>Dữ Liệu Khác</span>\n
                            </div>\n
                                                            <svg class="lucide w-5 h-5 mr-2" xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24"><path d="M6 9l6 6l6-6"/></svg>\n
                                                    </a>\n
\n
                                                    <ul class="submenu ml-4 mt-1 hidden space-y-1">\n
                                                                    <li>\n
                                        <a class="flex items-center justify-between px-4 py-2 text-sm hover:bg-slate-700 rounded transition "\n
                                           href="http://localhost/geographical/list-erosion">\n
                                            <div class="flex items-center gap-2">\n
                                                <svg class="lucide w-5 h-5 mr-2" xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24"><path d="M12 22a10 10 0 1 0-10-10a10.011 10.011 0 0 0 10 10z"/><path d="M12.5 7h-1a1.5 1.5 0 0 0-1.5 1.5v6A1.5 1.5 0 0 0 11.5 16h1a1.5 1.5 0 0 0 .5-2.9V9.9A1.5 1.5 0 0 0 12.5 7z"/><circle cx="12" cy="19" r=".5"/></svg>\n
                                                <span>Khu vực xói, bồi</span>\n
                                            </div>\n
                                                                                    </a>\n
\n
                                                                            </li>\n
                                                                    <li>\n
                                        <a class="flex items-center justify-between px-4 py-2 text-sm hover:bg-slate-700 rounded transition "\n
                                           href="http://localhost/geographical/list-shoreline">\n
                                            <div class="flex items-center gap-2">\n
                                                <svg class="lucide w-5 h-5 mr-2" xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24"><path d="M12 22a10 10 0 1 0-10-10a10.011 10.011 0 0 0 10 10z"/><path d="M12.5 7h-1a1.5 1.5 0 0 0-1.5 1.5v6A1.5 1.5 0 0 0 11.5 16h1a1.5 1.5 0 0 0 .5-2.9V9.9A1.5 1.5 0 0 0 12.5 7z"/><circle cx="12" cy="19" r=".5"/></svg>\n
                                                <span>Lịch sử đường bờ</span>\n
                                            </div>\n
                                                                                    </a>\n
\n
                                                                            </li>\n
                                                                    <li>\n
                                        <a class="flex items-center justify-between px-4 py-2 text-sm hover:bg-slate-700 rounded transition "\n
                                           href="http://localhost/geographical/list-cross-section">\n
                                            <div class="flex items-center gap-2">\n
                                                <svg class="lucide w-5 h-5 mr-2" xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24"><path d="M12 22a10 10 0 1 0-10-10a10.011 10.011 0 0 0 10 10z"/><path d="M12.5 7h-1a1.5 1.5 0 0 0-1.5 1.5v6A1.5 1.5 0 0 0 11.5 16h1a1.5 1.5 0 0 0 .5-2.9V9.9A1.5 1.5 0 0 0 12.5 7z"/><circle cx="12" cy="19" r=".5"/></svg>\n
                                                <span>Mặt cắt ngang</span>\n
                                            </div>\n
                                                                                    </a>\n
\n
                                                                            </li>\n
                                                                    <li>\n
                                        <a class="flex items-center justify-between px-4 py-2 text-sm hover:bg-slate-700 rounded transition "\n
                                           href="http://localhost/geographical/list-monitoring">\n
                                            <div class="flex items-center gap-2">\n
                                                <svg class="lucide w-5 h-5 mr-2" xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24"><path d="M12 22a10 10 0 1 0-10-10a10.011 10.011 0 0 0 10 10z"/><path d="M12.5 7h-1a1.5 1.5 0 0 0-1.5 1.5v6A1.5 1.5 0 0 0 11.5 16h1a1.5 1.5 0 0 0 .5-2.9V9.9A1.5 1.5 0 0 0 12.5 7z"/><circle cx="12" cy="19" r=".5"/></svg>\n
                                                <span>Mốc quan trắc</span>\n
                                            </div>\n
                                                                                    </a>\n
\n
                                                                            </li>\n
                                                            </ul>\n
                                            </li>\n
                                                                <li>\n
                        <a class="flex items-center justify-between px-4 py-3 hover:bg-slate-700 rounded transition "\n
                           href="http://localhost/map">\n
                            <div class="flex items-center gap-2">\n
                                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-map-icon lucide-map"><path d="M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z"/><path d="M15 5.764v15"/><path d="M9 3.236v15"/></svg>\n
                                <span>Bản Đồ</span>\n
                            </div>\n
                                                    </a>\n
\n
                                            </li>\n
                                                                <li>\n
                        <a class="flex items-center justify-between px-4 py-3 hover:bg-slate-700 rounded transition "\n
                           href="http://localhost/chat">\n
                            <div class="flex items-center gap-2">\n
                                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-message-circle-icon lucide-message-circle"><path d="M7.9 20A9 9 0 1 0 4 16.1L2 22Z"/></svg>\n
                                <span>Tham gia cộng đồng</span>\n
                            </div>\n
                                                    </a>\n
\n
                                            </li>\n
                                                                <li>\n
                        <a class="flex items-center justify-between px-4 py-3 hover:bg-slate-700 rounded transition "\n
                           href="http://localhost/incident-report">\n
                            <div class="flex items-center gap-2">\n
                                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-message-square-warning-icon lucide-message-square-warning"><path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"/><path d="M12 7v2"/><path d="M12 13h.01"/></svg>\n
                                <span>Báo cáo sự cố</span>\n
                            </div>\n
                                                    </a>\n
\n
                                            </li>\n
                                        </ul>\n
</div>\n
\n
<div class="flex h-[10px] items-center px-3 sm:px-8 md:hidden" >\n
    <a class="mr-auto flex" href="http://localhost">\n
        <img class="w-6" src="http://[::1]:5173/resources/images/logo.svg" alt="Logo" />\n
    </a>\n
    <a class="mobile-menu-toggler text-white" href="#" onclick="document.querySelector('.mobile-menu')?.classList.remove('hidden')">\n
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-square-menu-icon lucide-square-menu"><rect width="18" height="18" x="3" y="3" rx="2"/><path d="M7 8h10"/><path d="M7 12h10"/><path d="M7 16h10"/></svg>\n
    </a>\n
</div>\n
\n
\n
\n
        <div class="mt-7 flex md:mt-0">\n
            <nav class=" hidden w-[80px] overflow-x-hidden pb-16 pr-5 md:block xl:w-[230px]">\n
                <a class="intro-x flex items-center pl-5 pt-4" href="/">\n
                    <span class=" lg:text-2xl xl:text-3xl  font-bold uppercase text-transparent bg-clip-text bg-gradient-to-r from-sky-400 to-emerald-600">Quản lý thiên tai</span>\n
                </a>\n
                <div class=" my-3"></div>\n
                <ul >\n
                                                                                            <li>\n
                                <a class="flex items-center justify-between px-4 py-3 hover:bg-white hover:text-black text-white transition rounded cursor-pointer "\n
                                    href="http://localhost">\n
                                    \n
                                    <div class="flex items-center gap-2" title="Tổng Quan">\n
                                        <div title="Tổng Quan"><svg class="lucide w-5 h-5 mr-2" xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24"><path d="M12 22a10 10 0 1 0-10-10a10.011 10.011 0 0 0 10 10z"/><path d="M12.5 7h-1a1.5 1.5 0 0 0-1.5 1.5v6A1.5 1.5 0 0 0 11.5 16h1a1.5 1.5 0 0 0 .5-2.9V9.9A1.5 1.5 0 0 0 12.5 7z"/><circle cx="12" cy="19" r=".5"/></svg></div>\n
                                        <span class="hidden xl:inline" >Tổng Quan</span>\n
                                    </div>\n
\n
                                                                    </a>\n
                                                            </li>\n
                                                                                                <li>\n
                                <a class="flex items-center justify-between px-4 py-3 hover:bg-white hover:text-black text-white transition rounded cursor-pointer toggle-submenu"\n
                                    href="javascript:;">\n
                                    \n
                                    <div class="flex items-center gap-2" title="Địa Điểm">\n
                                        <div title="Địa Điểm"><svg class="lucide w-5 h-5 mr-2" xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24"><path d="M3 9l9-7l9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V9z"/><polyline points="9 22 9 12 15 12 15 22"/></svg></div>\n
                                        <span class="hidden xl:inline" >Địa Điểm</span>\n
                                    </div>\n
\n
                                                                            <span class="hidden xl:inline"><svg class="lucide w-5 h-5 mr-2" xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24"><path d="M6 9l6 6l6-6"/></svg></span>\n
                                                                    </a>\n
                                                                    <ul class="submenu ml-6 mt-1 hidden">\n
                                                                                    <li  class="group relative">\n
                                                <a class="flex items-center justify-between px-4 py-2 text-sm text-slate-300 hover:text-white hover:bg-slate-700 rounded transition "\n
                                                    href="http://localhost/list-city">\n
                                                   <div class="flex items-center gap-2">\n
                                                        <svg class="lucide w-5 h-5 mr-2" xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24"><path d="M12 22a10 10 0 1 0-10-10a10.011 10.011 0 0 0 10 10z"/><path d="M12.5 7h-1a1.5 1.5 0 0 0-1.5 1.5v6A1.5 1.5 0 0 0 11.5 16h1a1.5 1.5 0 0 0 .5-2.9V9.9A1.5 1.5 0 0 0 12.5 7z"/><circle cx="12" cy="19" r=".5"/></svg>\n
                                                        <span class="hidden xl:inline">Tỉnh-Thành</span>\n
                                                    </div>\n
                                                                                                    </a>\n
                                                                                            </li>\n
                                                                                    <li  class="group relative">\n
                                                <a class="flex items-center justify-between px-4 py-2 text-sm text-slate-300 hover:text-white hover:bg-slate-700 rounded transition "\n
                                                    href="http://localhost/list-district">\n
                                                   <div class="flex items-center gap-2">\n
                                                        <svg class="lucide w-5 h-5 mr-2" xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24"><path d="M12 22a10 10 0 1 0-10-10a10.011 10.011 0 0 0 10 10z"/><path d="M12.5 7h-1a1.5 1.5 0 0 0-1.5 1.5v6A1.5 1.5 0 0 0 11.5 16h1a1.5 1.5 0 0 0 .5-2.9V9.9A1.5 1.5 0 0 0 12.5 7z"/><circle cx="12" cy="19" r=".5"/></svg>\n
                                                        <span class="hidden xl:inline">Quận-Huyện</span>\n
                                                    </div>\n
                                                                                                    </a>\n
                                                                                            </li>\n
                                                                                    <li  class="group relative">\n
                                                <a class="flex items-center justify-between px-4 py-2 text-sm text-slate-300 hover:text-white hover:bg-slate-700 rounded transition "\n
                                                    href="http://localhost/list-commune">\n
                                                   <div class="flex items-center gap-2">\n
                                                        <svg class="lucide w-5 h-5 mr-2" xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24"><path d="M12 22a10 10 0 1 0-10-10a10.011 10.011 0 0 0 10 10z"/><path d="M12.5 7h-1a1.5 1.5 0 0 0-1.5 1.5v6A1.5 1.5 0 0 0 11.5 16h1a1.5 1.5 0 0 0 .5-2.9V9.9A1.5 1.5 0 0 0 12.5 7z"/><circle cx="12" cy="19" r=".5"/></svg>\n
                                                        <span class="hidden xl:inline">Phường-Xã</span>\n
                                                    </div>\n
                                                                                                    </a>\n
                                                                                            </li>\n
                                                                            </ul>\n
                                                            </li>\n
                                                                                                <li>\n
                                <a class="flex items-center justify-between px-4 py-3 hover:bg-white hover:text-black text-white transition rounded cursor-pointer toggle-submenu"\n
                                    href="javascript:;">\n
                                    \n
                                    <div class="flex items-center gap-2" title="Loại Thiên Tai">\n
                                        <div title="Loại Thiên Tai"><svg class="lucide w-5 h-5 mr-2" xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24"><path d="M16 21v-2a4 4 0 0 0-8 0v2"/><circle cx="12" cy="7" r="4"/><path d="M20.88 18.5A3.5 3.5 0 0 1 17.5 22H6.5a3.5 3.5 0 0 1-3.38-2.5"/></svg></div>\n
                                        <span class="hidden xl:inline" >Loại Thiên Tai</span>\n
                                    </div>\n
\n
                                                                            <span class="hidden xl:inline"><svg class="lucide w-5 h-5 mr-2" xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24"><path d="M6 9l6 6l6-6"/></svg></span>\n
                                                                    </a>\n
                                                                    <ul class="submenu ml-6 mt-1 hidden">\n
                                                                                    <li  class="group relative">\n
                                                <a class="flex items-center justify-between px-4 py-2 text-sm text-slate-300 hover:text-white hover:bg-slate-700 rounded transition "\n
                                                    href="http://localhost/list-type-of-calamity">\n
                                                   <div class="flex items-center gap-2">\n
                                                        <svg class="lucide w-5 h-5 mr-2" xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24"><path d="M12 22a10 10 0 1 0-10-10a10.011 10.011 0 0 0 10 10z"/><path d="M12.5 7h-1a1.5 1.5 0 0 0-1.5 1.5v6A1.5 1.5 0 0 0 11.5 16h1a1.5 1.5 0 0 0 .5-2.9V9.9A1.5 1.5 0 0 0 12.5 7z"/><circle cx="12" cy="19" r=".5"/></svg>\n
                                                        <span class="hidden xl:inline">Loại Thiên Tai</span>\n
                                                    </div>\n
                                                                                                    </a>\n
                                                                                            </li>\n
                                                                                    <li  class="group relative">\n
                                                <a class="flex items-center justify-between px-4 py-2 text-sm text-slate-300 hover:text-white hover:bg-slate-700 rounded transition "\n
                                                    href="http://localhost/list-sub-type-of-calamity">\n
                                                   <div class="flex items-center gap-2">\n
                                                        <svg class="lucide w-5 h-5 mr-2" xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24"><path d="M12 22a10 10 0 1 0-10-10a10.011 10.011 0 0 0 10 10z"/><path d="M12.5 7h-1a1.5 1.5 0 0 0-1.5 1.5v6A1.5 1.5 0 0 0 11.5 16h1a1.5 1.5 0 0 0 .5-2.9V9.9A1.5 1.5 0 0 0 12.5 7z"/><circle cx="12" cy="19" r=".5"/></svg>\n
                                                        <span class="hidden xl:inline">Loại Thiên Tai Phụ</span>\n
                                                    </div>\n
                                                                                                    </a>\n
                                                                                            </li>\n
                                                                                    <li  class="group relative">\n
                                                <a class="flex items-center justify-between px-4 py-2 text-sm text-slate-300 hover:text-white hover:bg-slate-700 rounded transition "\n
                                                    href="http://localhost/list-risk-level">\n
                                                   <div class="flex items-center gap-2">\n
                                                        <svg class="lucide w-5 h-5 mr-2" xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24"><path d="M12 22a10 10 0 1 0-10-10a10.011 10.011 0 0 0 10 10z"/><path d="M12.5 7h-1a1.5 1.5 0 0 0-1.5 1.5v6A1.5 1.5 0 0 0 11.5 16h1a1.5 1.5 0 0 0 .5-2.9V9.9A1.5 1.5 0 0 0 12.5 7z"/><circle cx="12" cy="19" r=".5"/></svg>\n
                                                        <span class="hidden xl:inline">Cấp Độ Thiên Tai</span>\n
                                                    </div>\n
                                                                                                    </a>\n
                                                                                            </li>\n
                                                                                    <li  class="group relative">\n
                                                <a class="flex items-center justify-between px-4 py-2 text-sm text-slate-300 hover:text-white hover:bg-slate-700 rounded transition "\n
                                                    href="http://localhost/list-type-of-construction">\n
                                                   <div class="flex items-center gap-2">\n
                                                        <svg class="lucide w-5 h-5 mr-2" xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24"><path d="M12 22a10 10 0 1 0-10-10a10.011 10.011 0 0 0 10 10z"/><path d="M12.5 7h-1a1.5 1.5 0 0 0-1.5 1.5v6A1.5 1.5 0 0 0 11.5 16h1a1.5 1.5 0 0 0 .5-2.9V9.9A1.5 1.5 0 0 0 12.5 7z"/><circle cx="12" cy="19" r=".5"/></svg>\n
                                                        <span class="hidden xl:inline">Loại Công Trình</span>\n
                                                    </div>\n
                                                                                                    </a>\n
                                                                                            </li>\n
                                                                                    <li  class="group relative">\n
                                                <a class="flex items-center justify-between px-4 py-2 text-sm text-slate-300 hover:text-white hover:bg-slate-700 rounded transition "\n
                                                    href="http://localhost/list-scenarios">\n
                                                   <div class="flex items-center gap-2">\n
                                                        <svg class="lucide w-5 h-5 mr-2" xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24"><path d="M12 22a10 10 0 1 0-10-10a10.011 10.011 0 0 0 10 10z"/><path d="M12.5 7h-1a1.5 1.5 0 0 0-1.5 1.5v6A1.5 1.5 0 0 0 11.5 16h1a1.5 1.5 0 0 0 .5-2.9V9.9A1.5 1.5 0 0 0 12.5 7z"/><circle cx="12" cy="19" r=".5"/></svg>\n
                                                        <span class="hidden xl:inline">Phương Án Ứng Phó</span>\n
                                                    </div>\n
                                                                                                    </a>\n
                                                                                            </li>\n
                                                                            </ul>\n
                                                            </li>\n
                                                                                                <li>\n
                                <a class="flex items-center justify-between px-4 py-3 hover:bg-white hover:text-black text-white transition rounded cursor-pointer toggle-submenu"\n
                                    href="javascript:;">\n
                                    \n
                                    <div class="flex items-center gap-2" title="Dữ Liệu Thiên Tai">\n
                                        <div title="Dữ Liệu Thiên Tai"><svg class="lucide w-5 h-5 mr-2" xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24"><path d="M16 21v-2a4 4 0 0 0-8 0v2"/><circle cx="12" cy="7" r="4"/><path d="M20.88 18.5A3.5 3.5 0 0 1 17.5 22H6.5a3.5 3.5 0 0 1-3.38-2.5"/></svg></div>\n
                                        <span class="hidden xl:inline" >Dữ Liệu Thiên Tai</span>\n
                                    </div>\n
\n
                                                                            <span class="hidden xl:inline"><svg class="lucide w-5 h-5 mr-2" xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24"><path d="M6 9l6 6l6-6"/></svg></span>\n
                                                                    </a>\n
                                                                    <ul class="submenu ml-6 mt-1 hidden">\n
                                                                                    <li  class="group relative">\n
                                                <a class="flex items-center justify-between px-4 py-2 text-sm text-slate-300 hover:text-white hover:bg-slate-700 rounded transition "\n
                                                    href="http://localhost/calamity/list-river-bank">\n
                                                   <div class="flex items-center gap-2">\n
                                                        <svg class="lucide w-5 h-5 mr-2" xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24"><path d="M12 22a10 10 0 1 0-10-10a10.011 10.011 0 0 0 10 10z"/><path d="M12.5 7h-1a1.5 1.5 0 0 0-1.5 1.5v6A1.5 1.5 0 0 0 11.5 16h1a1.5 1.5 0 0 0 .5-2.9V9.9A1.5 1.5 0 0 0 12.5 7z"/><circle cx="12" cy="19" r=".5"/></svg>\n
                                                        <span class="hidden xl:inline">Sạt Lở</span>\n
                                                    </div>\n
                                                                                                    </a>\n
                                                                                            </li>\n
                                                                                    <li  class="group relative">\n
                                                <a class="flex items-center justify-between px-4 py-2 text-sm text-slate-300 hover:text-white hover:bg-slate-700 rounded transition "\n
                                                    href="http://localhost/calamity/list-flooding">\n
                                                   <div class="flex items-center gap-2">\n
                                                        <svg class="lucide w-5 h-5 mr-2" xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24"><path d="M12 22a10 10 0 1 0-10-10a10.011 10.011 0 0 0 10 10z"/><path d="M12.5 7h-1a1.5 1.5 0 0 0-1.5 1.5v6A1.5 1.5 0 0 0 11.5 16h1a1.5 1.5 0 0 0 .5-2.9V9.9A1.5 1.5 0 0 0 12.5 7z"/><circle cx="12" cy="19" r=".5"/></svg>\n
                                                        <span class="hidden xl:inline">Ngập Lụt</span>\n
                                                    </div>\n
                                                                                                    </a>\n
                                                                                            </li>\n
                                                                                    <li  class="group relative">\n
                                                <a class="flex items-center justify-between px-4 py-2 text-sm text-slate-300 hover:text-white hover:bg-slate-700 rounded transition "\n
                                                    href="http://localhost/calamity/list-storm">\n
                                                   <div class="flex items-center gap-2">\n
                                                        <svg class="lucide w-5 h-5 mr-2" xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24"><path d="M12 22a10 10 0 1 0-10-10a10.011 10.011 0 0 0 10 10z"/><path d="M12.5 7h-1a1.5 1.5 0 0 0-1.5 1.5v6A1.5 1.5 0 0 0 11.5 16h1a1.5 1.5 0 0 0 .5-2.9V9.9A1.5 1.5 0 0 0 12.5 7z"/><circle cx="12" cy="19" r=".5"/></svg>\n
                                                        <span class="hidden xl:inline">Bão và ATNĐ</span>\n
                                                    </div>\n
                                                                                                    </a>\n
                                                                                            </li>\n
                                                                            </ul>\n
                                                            </li>\n
                                                                                                <li>\n
                                <a class="flex items-center justify-between px-4 py-3 hover:bg-white hover:text-black text-white transition rounded cursor-pointer toggle-submenu"\n
                                    href="javascript:;">\n
                                    \n
                                    <div class="flex items-center gap-2" title="Công Trình PCTT">\n
                                        <div title="Công Trình PCTT"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-construction-icon lucide-construction"><rect x="2" y="6" width="20" height="8" rx="1"/><path d="M17 14v7"/><path d="M7 14v7"/><path d="M17 3v3"/><path d="M7 3v3"/><path d="M10 14 2.3 6.3"/><path d="m14 6 7.7 7.7"/><path d="m8 6 8 8"/></svg></div>\n
                                        <span class="hidden xl:inline" >Công Trình PCTT</span>\n
                                    </div>\n
\n
                                                                            <span class="hidden xl:inline"><svg class="lucide w-5 h-5 mr-2" xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24"><path d="M6 9l6 6l6-6"/></svg></span>\n
                                                                    </a>\n
                                                                    <ul class="submenu ml-6 mt-1 hidden">\n
                                                                                    <li  class="group relative">\n
                                                <a class="flex items-center justify-between px-4 py-2 text-sm text-slate-300 hover:text-white hover:bg-slate-700 rounded transition "\n
                                                    href="http://localhost/construction/list-river-bank">\n
                                                   <div class="flex items-center gap-2">\n
                                                        <svg class="lucide w-5 h-5 mr-2" xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24"><path d="M12 22a10 10 0 1 0-10-10a10.011 10.011 0 0 0 10 10z"/><path d="M12.5 7h-1a1.5 1.5 0 0 0-1.5 1.5v6A1.5 1.5 0 0 0 11.5 16h1a1.5 1.5 0 0 0 .5-2.9V9.9A1.5 1.5 0 0 0 12.5 7z"/><circle cx="12" cy="19" r=".5"/></svg>\n
                                                        <span class="hidden xl:inline">Sạt Lở</span>\n
                                                    </div>\n
                                                                                                    </a>\n
                                                                                            </li>\n
                                                                                    <li  class="group relative">\n
                                                <a class="flex items-center justify-between px-4 py-2 text-sm text-slate-300 hover:text-white hover:bg-slate-700 rounded transition "\n
                                                    href="http://localhost/construction/list-flooding">\n
                                                   <div class="flex items-center gap-2">\n
                                                        <svg class="lucide w-5 h-5 mr-2" xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24"><path d="M12 22a10 10 0 1 0-10-10a10.011 10.011 0 0 0 10 10z"/><path d="M12.5 7h-1a1.5 1.5 0 0 0-1.5 1.5v6A1.5 1.5 0 0 0 11.5 16h1a1.5 1.5 0 0 0 .5-2.9V9.9A1.5 1.5 0 0 0 12.5 7z"/><circle cx="12" cy="19" r=".5"/></svg>\n
                                                        <span class="hidden xl:inline">Ngập Lụt</span>\n
                                                    </div>\n
                                                                                                    </a>\n
                                                                                            </li>\n
                                                                                    <li  class="group relative">\n
                                                <a class="flex items-center justify-between px-4 py-2 text-sm text-slate-300 hover:text-white hover:bg-slate-700 rounded transition "\n
                                                    href="http://localhost/construction/list-storm">\n
                                                   <div class="flex items-center gap-2">\n
                                                        <svg class="lucide w-5 h-5 mr-2" xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24"><path d="M12 22a10 10 0 1 0-10-10a10.011 10.011 0 0 0 10 10z"/><path d="M12.5 7h-1a1.5 1.5 0 0 0-1.5 1.5v6A1.5 1.5 0 0 0 11.5 16h1a1.5 1.5 0 0 0 .5-2.9V9.9A1.5 1.5 0 0 0 12.5 7z"/><circle cx="12" cy="19" r=".5"/></svg>\n
                                                        <span class="hidden xl:inline">Bão và ATNĐ</span>\n
                                                    </div>\n
                                                                                                    </a>\n
                                                                                            </li>\n
                                                                            </ul>\n
                                                            </li>\n
                                                                                                <li>\n
                                <a class="flex items-center justify-between px-4 py-3 hover:bg-white hover:text-black text-white transition rounded cursor-pointer toggle-submenu"\n
                                    href="javascript:;">\n
                                    \n
                                    <div class="flex items-center gap-2" title="Địa danh hành chính">\n
                                        <div title="Địa danh hành chính"><svg class="lucide w-5 h-5 mr-2" xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24"><path d="M16 21v-2a4 4 0 0 0-8 0v2"/><circle cx="12" cy="7" r="4"/><path d="M20.88 18.5A3.5 3.5 0 0 1 17.5 22H6.5a3.5 3.5 0 0 1-3.38-2.5"/></svg></div>\n
                                        <span class="hidden xl:inline" >Địa danh hành chính</span>\n
                                    </div>\n
\n
                                                                            <span class="hidden xl:inline"><svg class="lucide w-5 h-5 mr-2" xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24"><path d="M6 9l6 6l6-6"/></svg></span>\n
                                                                    </a>\n
                                                                    <ul class="submenu ml-6 mt-1 hidden">\n
                                                                                    <li  class="group relative">\n
                                                <a class="flex items-center justify-between px-4 py-2 text-sm text-slate-300 hover:text-white hover:bg-slate-700 rounded transition "\n
                                                    href="http://localhost/administrative/list-school">\n
                                                   <div class="flex items-center gap-2">\n
                                                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-school-icon lucide-school"><path d="M14 22v-4a2 2 0 1 0-4 0v4"/><path d="m18 10 3.447 1.724a1 1 0 0 1 .553.894V20a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2v-7.382a1 1 0 0 1 .553-.894L6 10"/><path d="M18 5v17"/><path d="m4 6 7.106-3.553a2 2 0 0 1 1.788 0L20 6"/><path d="M6 5v17"/><circle cx="12" cy="9" r="2"/></svg>\n
                                                        <span class="hidden xl:inline">Trường Học</span>\n
                                                    </div>\n
                                                                                                    </a>\n
                                                                                            </li>\n
                                                                                    <li  class="group relative">\n
                                                <a class="flex items-center justify-between px-4 py-2 text-sm text-slate-300 hover:text-white hover:bg-slate-700 rounded transition "\n
                                                    href="http://localhost/administrative/list-medical">\n
                                                   <div class="flex items-center gap-2">\n
                                                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-hospital-icon lucide-hospital"><path d="M12 6v4"/><path d="M14 14h-4"/><path d="M14 18h-4"/><path d="M14 8h-4"/><path d="M18 12h2a2 2 0 0 1 2 2v6a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2v-9a2 2 0 0 1 2-2h2"/><path d="M18 22V4a2 2 0 0 0-2-2H8a2 2 0 0 0-2 2v18"/></svg>\n
                                                        <span class="hidden xl:inline">Địa Điểm Y Tế</span>\n
                                                    </div>\n
                                                                                                    </a>\n
                                                                                            </li>\n
                                                                                    <li  class="group relative">\n
                                                <a class="flex items-center justify-between px-4 py-2 text-sm text-slate-300 hover:text-white hover:bg-slate-700 rounded transition "\n
                                                    href="http://localhost/administrative/list-center">\n
                                                   <div class="flex items-center gap-2">\n
                                                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-university-icon lucide-university"><path d="M14 21v-3a2 2 0 0 0-4 0v3"/><path d="M18 12h.01"/><path d="M18 16h.01"/><path d="M22 7a1 1 0 0 0-1-1h-2a2 2 0 0 1-1.143-.359L13.143 2.36a2 2 0 0 0-2.286-.001L6.143 5.64A2 2 0 0 1 5 6H3a1 1 0 0 0-1 1v12a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2z"/><path d="M6 12h.01"/><path d="M6 16h.01"/><circle cx="12" cy="10" r="2"/></svg>\n
                                                        <span class="hidden xl:inline">TTHC và Khác</span>\n
                                                    </div>\n
                                                                                                    </a>\n
                                                                                            </li>\n
                                                                            </ul>\n
                                                            </li>\n
                                                                                                <li>\n
                                <a class="flex items-center justify-between px-4 py-3 hover:bg-white hover:text-black text-white transition rounded cursor-pointer toggle-submenu"\n
                                    href="javascript:;">\n
                                    \n
                                    <div class="flex items-center gap-2" title="Dữ Liệu Khác">\n
                                        <div title="Dữ Liệu Khác"><svg class="lucide w-5 h-5 mr-2" xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24"><path d="M16 21v-2a4 4 0 0 0-8 0v2"/><circle cx="12" cy="7" r="4"/><path d="M20.88 18.5A3.5 3.5 0 0 1 17.5 22H6.5a3.5 3.5 0 0 1-3.38-2.5"/></svg></div>\n
                                        <span class="hidden xl:inline" >Dữ Liệu Khác</span>\n
                                    </div>\n
\n
                                                                            <span class="hidden xl:inline"><svg class="lucide w-5 h-5 mr-2" xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24"><path d="M6 9l6 6l6-6"/></svg></span>\n
                                                                    </a>\n
                                                                    <ul class="submenu ml-6 mt-1 hidden">\n
                                                                                    <li  class="group relative">\n
                                                <a class="flex items-center justify-between px-4 py-2 text-sm text-slate-300 hover:text-white hover:bg-slate-700 rounded transition "\n
                                                    href="http://localhost/geographical/list-erosion">\n
                                                   <div class="flex items-center gap-2">\n
                                                        <svg class="lucide w-5 h-5 mr-2" xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24"><path d="M12 22a10 10 0 1 0-10-10a10.011 10.011 0 0 0 10 10z"/><path d="M12.5 7h-1a1.5 1.5 0 0 0-1.5 1.5v6A1.5 1.5 0 0 0 11.5 16h1a1.5 1.5 0 0 0 .5-2.9V9.9A1.5 1.5 0 0 0 12.5 7z"/><circle cx="12" cy="19" r=".5"/></svg>\n
                                                        <span class="hidden xl:inline">Khu vực xói, bồi</span>\n
                                                    </div>\n
                                                                                                    </a>\n
                                                                                            </li>\n
                                                                                    <li  class="group relative">\n
                                                <a class="flex items-center justify-between px-4 py-2 text-sm text-slate-300 hover:text-white hover:bg-slate-700 rounded transition "\n
                                                    href="http://localhost/geographical/list-shoreline">\n
                                                   <div class="flex items-center gap-2">\n
                                                        <svg class="lucide w-5 h-5 mr-2" xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24"><path d="M12 22a10 10 0 1 0-10-10a10.011 10.011 0 0 0 10 10z"/><path d="M12.5 7h-1a1.5 1.5 0 0 0-1.5 1.5v6A1.5 1.5 0 0 0 11.5 16h1a1.5 1.5 0 0 0 .5-2.9V9.9A1.5 1.5 0 0 0 12.5 7z"/><circle cx="12" cy="19" r=".5"/></svg>\n
                                                        <span class="hidden xl:inline">Lịch sử đường bờ</span>\n
                                                    </div>\n
                                                                                                    </a>\n
                                                                                            </li>\n
                                                                                    <li  class="group relative">\n
                                                <a class="flex items-center justify-between px-4 py-2 text-sm text-slate-300 hover:text-white hover:bg-slate-700 rounded transition "\n
                                                    href="http://localhost/geographical/list-cross-section">\n
                                                   <div class="flex items-center gap-2">\n
                                                        <svg class="lucide w-5 h-5 mr-2" xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24"><path d="M12 22a10 10 0 1 0-10-10a10.011 10.011 0 0 0 10 10z"/><path d="M12.5 7h-1a1.5 1.5 0 0 0-1.5 1.5v6A1.5 1.5 0 0 0 11.5 16h1a1.5 1.5 0 0 0 .5-2.9V9.9A1.5 1.5 0 0 0 12.5 7z"/><circle cx="12" cy="19" r=".5"/></svg>\n
                                                        <span class="hidden xl:inline">Mặt cắt ngang</span>\n
                                                    </div>\n
                                                                                                    </a>\n
                                                                                            </li>\n
                                                                                    <li  class="group relative">\n
                                                <a class="flex items-center justify-between px-4 py-2 text-sm text-slate-300 hover:text-white hover:bg-slate-700 rounded transition "\n
                                                    href="http://localhost/geographical/list-monitoring">\n
                                                   <div class="flex items-center gap-2">\n
                                                        <svg class="lucide w-5 h-5 mr-2" xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24"><path d="M12 22a10 10 0 1 0-10-10a10.011 10.011 0 0 0 10 10z"/><path d="M12.5 7h-1a1.5 1.5 0 0 0-1.5 1.5v6A1.5 1.5 0 0 0 11.5 16h1a1.5 1.5 0 0 0 .5-2.9V9.9A1.5 1.5 0 0 0 12.5 7z"/><circle cx="12" cy="19" r=".5"/></svg>\n
                                                        <span class="hidden xl:inline">Mốc quan trắc</span>\n
                                                    </div>\n
                                                                                                    </a>\n
                                                                                            </li>\n
                                                                            </ul>\n
                                                            </li>\n
                                                                                                <li>\n
                                <a class="flex items-center justify-between px-4 py-3 hover:bg-white hover:text-black text-white transition rounded cursor-pointer "\n
                                    href="http://localhost/map">\n
                                    \n
                                    <div class="flex items-center gap-2" title="Bản Đồ">\n
                                        <div title="Bản Đồ"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-map-icon lucide-map"><path d="M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z"/><path d="M15 5.764v15"/><path d="M9 3.236v15"/></svg></div>\n
                                        <span class="hidden xl:inline" >Bản Đồ</span>\n
                                    </div>\n
\n
                                                                    </a>\n
                                                            </li>\n
                                                                                                <li>\n
                                <a class="flex items-center justify-between px-4 py-3 hover:bg-white hover:text-black text-white transition rounded cursor-pointer "\n
                                    href="http://localhost/chat">\n
                                    \n
                                    <div class="flex items-center gap-2" title="Tham gia cộng đồng">\n
                                        <div title="Tham gia cộng đồng"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-message-circle-icon lucide-message-circle"><path d="M7.9 20A9 9 0 1 0 4 16.1L2 22Z"/></svg></div>\n
                                        <span class="hidden xl:inline" >Tham gia cộng đồng</span>\n
                                    </div>\n
\n
                                                                    </a>\n
                                                            </li>\n
                                                                                                <li>\n
                                <a class="flex items-center justify-between px-4 py-3 hover:bg-white hover:text-black text-white transition rounded cursor-pointer "\n
                                    href="http://localhost/incident-report">\n
                                    \n
                                    <div class="flex items-center gap-2" title="Báo cáo sự cố">\n
                                        <div title="Báo cáo sự cố"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-message-square-warning-icon lucide-message-square-warning"><path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"/><path d="M12 7v2"/><path d="M12 13h.01"/></svg></div>\n
                                        <span class="hidden xl:inline" >Báo cáo sự cố</span>\n
                                    </div>\n
\n
                                                                    </a>\n
                                                            </li>\n
                                                                \n
                                </ul>\n
            </nav>\n
            <div class="md:max-w-auto overflow-x-hidden overflow-y-auto max-h-[100vh] min-w-0 max-w-full flex-1 rounded-[30px] bg-slate-100 px-4 pb-10 before:block before:h-px before:w-full before:content-[''] md:px-[22px]">\n
                <div class="relative sticky top-0 z-2 flex items-center h-[68px] px-4 border-b border-slate-100 bg-slate-100">\n
  \n
                    <div class="mr-auto"> \n
                       <div class="rounded-[8px] overflow-hidden w-[200px] md:w-[325px] h-[40px] bg-[#1E3A8A] border-[2px] border-[#133086] shadow-[0_2px_6px_rgba(0,0,0,0.1)] flex items-center justify-center">\n
                  \n
                    <iframe src="https://thoitiet247.vn/widget/embed/ca-mau?style=6&day=7&td=%232e0000&ntd=%231e3a8a&mvb=%23000205&mv=%231e3a8a&mdk=%23000000&htd=true" \n
                        id="widgeturl" class = "w-[200px] md:w-[325px]" height="55px" scrolling="no" frameborder="0" allowtransparency="true" style="border:none;overflow:hidden;"></iframe><!-- End thoitiet.app widget -->\n
                    </div>\n
\n
                    </div>\n
                    \n
                    <div class="relative flex items-center gap-2">\n
                                                \n
                            <div class="relative mr-4">\n
                                <a href="javascript:void(0)" onclick="openNotification()" class="relative">\n
                                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="#dfc207" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-bell-icon lucide-bell"><path d="M10.268 21a2 2 0 0 0 3.464 0"/><path d="M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326"/></svg>\n
\n
                                    <!-- Badge đỏ số lượng -->\n
                                                                    </a>\n
                                \n
\n
                                <!-- Dropdown thông báo -->\n
                                <div class="absolute right-0 mt-2 w-80 bg-white border rounded shadow z-50 hidden" id="notification-dropdown">\n
                                    <ul class="divide-y divide-gray-100 max-h-80 overflow-y-auto">\n
                                                                                    <li class="p-3 text-sm text-gray-500">Không có thông báo nào</li>\n
                                                                            </ul>\n
                                </div>\n
                            </div>\n
\n
                            <button type="button" style="all: unset" id="user-menu-button" aria-expanded="false">\n
                                <svg class="lucide w-5 h-5 mr-2" xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24"><circle cx="12" cy="12" r="10"/><path d="M16 16a4 4 0 0 0-8 0v2a4 4 0 0 0 8 0z"/><circle cx="12" cy="9" r="3"/></svg>\n
                            </button>\n
\n
                            <div class="hidden absolute right-0 mt-2 w-48 z-1 text-base bg-white divide-y divide-gray-100 rounded-lg shadow-lg" id="user-dropdown">\n
                                <div class="px-4 py-3">\n
                                    <span class="block text-sm text-gray-900">Tên: Derrick Stokes I</span>\n
                                    <span class="block text-sm text-gray-500 truncate">Tên đăng nhập: admin</span>\n
                                </div>\n
                                <ul class="py-2" aria-labelledby="user-menu-button">\n
                                    <li>\n
                                        <a href="http://localhost/edit-profile" class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100">Hồ sơ</a>\n
                                    </li>\n
                                   \n
                                    <li>\n
                                        <a href="http://localhost/logout" class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100">Đăng xuất</a>\n
                                    </li>\n
                                </ul>\n
                            </div>\n
                        \n
                                            </div>\n
                </div>\n
                \n
                \n
    <div class="grid grid-cols-12 gap-6">\n
        <div class="col-span-12 2xl:col-span-12">\n
            <div class="grid grid-cols-12 gap-6">\n
                \n
                <div class="col-span-12 mt-5">\n
                    <div class="intro-y flex h-10 items-center">\n
                        <h2 class="flex items-center mr-5 uppercase text-lg font-medium">\n
                            <svg class="lucide w-5 h-5 mr-2" xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24"><rect width="8" height="4" x="8" y="2" rx="1" ry="1"/><path d="M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2"/><path d="M9 14h6"/></svg>\n
                            Báo Cáo Tổng Hợp <a href="/list-district">...</a>\n
\n
                        </h2>\n
                        <a class="ml-auto flex items-center text-primary" href="/">\n
                            <svg class="lucide w-5 h-5 mr-2" xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24"><path d="M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8"/><path d="M3 3v5h5"/><path d="M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16"/><path d="M16 16h5v5"/></svg>\n
                            Tải lại dữ liệu\n
                        </a>\n
                    </div>\n
                    <div class="mt-5 grid grid-cols-12 gap-6">\n
                        <div class="intro-y col-span-12 sm:col-span-6 xl:col-span-4 ">\n
                            <div>\n
                                <div\n
                                    class="box p-5 bg-gradient-to-r from-rose-500 to-purple-500 text-white rounded-lg shadow-lg">\n
                                    \n
                                    <div class="flex items-center gap-6">\n
                                        <svg class="lucide w-5 h-5 mr-2" xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24"><path d="M16.5 6.5a4.5 4.5 0 0 1 4.5 4.5a4.5 4.5 0 0 1-4.5 4.5H12l3-6H9a3 3 0 0 1-3-3a3 3 0 0 1 .88-2.12A4.49 4.49 0 0 1 12.5 6h1"/></svg>   \n
                                        <span class="text-2xl font-bold tracking-wide">BÃO, ÁP THẤP</span>\n
                                    </div>\n
                                    \n
                                    <div class="mt-6 grid grid-cols-2 gap-4">\n
                                        <div class="flex items-center gap-2">\n
                                            <svg class="lucide w-5 h-5 mr-2" xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24"><polyline points="9 18 15 12 9 6"/></svg>\n
                                            <a href="http://localhost/construction/list-storm"\n
                                                class="text-xl hover:text-gray-500 transition-all">\n
                                                Tổng số công trình\n
                                            </a>\n
                                        </div>\n
                                                                                    <div class="text-center text-xl font-semibold text-red-500">\n
                                                Không có dữ liệu\n
                                            </div>\n
                                        \n
                                        <div class="flex items-center gap-2">\n
                                            <svg class="lucide w-5 h-5 mr-2" xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24"><polyline points="9 18 15 12 9 6"/></svg>\n
                                            <a href="http://localhost/calamity/list-storm"\n
                                                class="text-xl hover:text-gray-500 transition-all">\n
                                                Số lượng thiên tai\n
                                            </a>\n
                                        </div>\n
                                                                                    <div class="text-center text-xl font-semibold text-red-500">\n
                                                Không có dữ liệu\n
                                            </div>\n
                                                                            </div>\n
                                </div>\n
\n
                            </div>\n
                        </div>\n
                        <div class="intro-y col-span-12 sm:col-span-6 xl:col-span-4">\n
                                <div\n
                                    class="box p-5 bg-gradient-to-r from-purple-500 to-blue-500 text-white rounded-lg shadow-lg">\n
                                    \n
                                    <div class="flex items-center gap-6">\n
                                        <svg class="lucide w-5 h-5 mr-2" xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24"><path d="M10.29 3.86a1.5 1.5 0 0 1 3.42 0l6.36 14.28A1.5 1.5 0 0 1 18.21 21H5.79a1.5 1.5 0 0 1-1.36-2.14z"/></svg>\n
                                        <span class="text-2xl font-bold tracking-wide">NGẬP LỤT</span>\n
                                    </div>\n
                                    \n
                                    <div class="mt-6 grid grid-cols-2 gap-4">\n
                                        <div class="flex items-center gap-2">\n
                                            <svg class="lucide w-5 h-5 mr-2" xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24"><polyline points="9 18 15 12 9 6"/></svg>\n
                                            <a href="http://localhost/construction/list-flooding"\n
                                                class="text-xl hover:text-gray-500 transition-all">\n
                                                Tổng số công trình\n
                                            </a>\n
                                        </div>\n
                                                                                    <div class="text-center text-xl font-semibold">\n
                                                0\n
                                            </div>\n
                                        \n
                                        <div class="flex items-center gap-2">\n
                                            <svg class="lucide w-5 h-5 mr-2" xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24"><polyline points="9 18 15 12 9 6"/></svg>\n
                                            <a href="http://localhost/calamity/list-flooding"\n
                                                class="text-xl hover:text-gray-500 transition-all">\n
                                                Số lượng thiên tai\n
                                            </a>\n
                                        </div>\n
                                                                                    <div class="text-center text-white text-xl font-semibold">\n
                                                0\n
                                            </div>\n
                                                                            </div>\n
                                </div>\n
                        </div>\n
                        <div class="intro-y col-span-12 sm:col-span-6 xl:col-span-4">\n
                            \n
                                <div\n
                                    class="box p-5 bg-gradient-to-r from-blue-500 to-indigo-500 text-white rounded-lg shadow-lg">\n
                               \n
                                    <div class="flex items-center gap-6">\n
                                        <svg class="lucide w-5 h-5 mr-2" xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24"><path d="M16.5 6.5a4.5 4.5 0 0 1 4.5 4.5a4.5 4.5 0 0 1-4.5 4.5H12l3-6H9a3 3 0 0 1-3-3a3 3 0 0 1 .88-2.12A4.49 4.49 0 0 1 12.5 6h1"/><path d="M16.5 16v2m-3-2v2m-3-2v2m6-6v2m-3-2v2m-3-2v2"/></svg>\n
                                        <span class="text-2xl font-bold tracking-wide">SẠT LỞ</span>\n
                                    </div>\n
                                   \n
                                    <div class="mt-6 grid grid-cols-2 gap-4">\n
                                        <div class="flex items-center gap-2">\n
                                            <svg class="lucide w-5 h-5 mr-2" xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24"><polyline points="9 18 15 12 9 6"/></svg>\n
                                            <a href="http://localhost/construction/list-river-bank"\n
                                                class=" text-xl hover:text-gray-500 transition-all">\n
                                                Tổng số công trình\n
                                            </a>\n
                                        </div>\n
                                                                                    <div class="text-center text-xl font-semibold">\n
                                                0\n
                                            </div>\n
                                        \n
                                        <div class="flex items-center gap-2">\n
                                            <svg class="lucide w-5 h-5 mr-2" xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24"><polyline points="9 18 15 12 9 6"/></svg>\n
                                            <a href="http://localhost/calamity/list-river-bank"\n
                                                class="text-xl hover:text-gray-500 transition-all">\n
                                                Số lượng thiên tai\n
                                            </a>\n
                                        </div>\n
                                                                                    <div class="text-center text-xl font-semibold">\n
                                                1\n
                                            </div>\n
                                                                            </div>\n
                                </div>\n
                        </div>\n
                    </div>\n
                </div>\n
                \n
                <div class="col-span-12 xl:col-span-5 flex flex-col mt-5">\n
                    <div class="intro-y flex h-10 items-center">\n
                        \n
                        <h2 class="flex items-center mr-5 uppercase text-lg font-medium">\n
                            <svg class="lucide w-5 h-5 mr-2" xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24"><path d="M4 6h16"/><path d="M4 12h16"/><path d="M4 18h16"/><circle cx="10" cy="6" r="2"/><circle cx="10" cy="12" r="2"/><circle cx="10" cy="18" r="2"/></svg>\n
                            Dữ Liệu Mới Nhất\n
                        </h2>\n
                    </div>\n
                    <div class="mt-3 flex-1 space-y-3">\n
                                                    <div class="intro-y bg-white shadow-sm hover:shadow-md transition-shadow duration-200 border border-gray-100 rounded-xl">\n
\n
                                <a href="/" class="block">\n
                                    <div class="box zoom-in mb-3 flex items-center px-5 py-5">\n
                                     \n
                                        <div class="h-10 w-10 flex items-center justify-center rounded-md bg-primary/20">\n
                                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-shield-alert-icon lucide-shield-alert"><path d="M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z"/><path d="M12 8v4"/><path d="M12 16h.01"/></svg>\n
                                        </div>\n
                                      \n
                                        <div class="ml-4 flex-1 min-w-0">\n
                                                                                                                                    </div>\n
\n
                                        <div\n
                                            class="rounded-full bg-success px-3 py-1 text-xs font-medium text-white whitespace-nowrap">\n
                                            2025-07-14 06:36:52\n
                                        </div>\n
                                    </div>\n
                                </a>\n
                            </div>\n
                                            </div>\n
                </div>\n
               \n
                               <div class="col-span-12 p-4 xl:col-span-7 flex flex-col ">\n
\n
                    <div class="intro-y flex h-10 items-center">\n
                        <h2 class="flex items-center mr-5 gap-x-2 uppercase text-lg font-medium">\n
                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-chart-pie-icon lucide-chart-pie"><path d="M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z"/><path d="M21.21 15.89A10 10 0 1 1 8 2.83"/></svg>\n
                            Biểu Đồ Thiên Tai\n
                        </h2>\n
                    </div>\n
                    <div class="intro-y box mt-3 p-5 flex flex-1 items-center bg-white border border-gray-100 rounded-2xl justify-center">\n
                       \n
                        <div class="w-2/3 flex flex-col items-center justify-center h-full">\n
                            <div id="disaster-chart" class="h-[370px] w-full"></div>\n
                            <p class="mt-2 text-center text-sm text-gray-600">Biểu đồ thể hiện số lượng thiên tai theo loại\n
                                hình thiên tai</p>\n
                        </div>\n
                       \n
                        <div class="w-1/3 pl-3 flex flex-col justify-center gap-2">\n
                                                                                                                                    <div class="flex items-center">\n
                                        <div class="mr-2 h-2 w-2 rounded-full"\n
                                            style="background-color: #2563eb;"></div>\n
                                        <span class="truncate text-lg font-medium">Sạt Lở</span>\n
                                        <span class="ml-auto font-semibold text-lg">0%</span>\n
                                    </div>\n
                                                                                                        <div class="flex items-center">\n
                                        <div class="mr-2 h-2 w-2 rounded-full"\n
                                            style="background-color: #f59e0b;"></div>\n
                                        <span class="truncate text-lg font-medium">Ngập Lụt</span>\n
                                        <span class="ml-auto font-semibold text-lg">0%</span>\n
                                    </div>\n
                                                                                                        <div class="flex items-center">\n
                                        <div class="mr-2 h-2 w-2 rounded-full"\n
                                            style="background-color: #ef4444;"></div>\n
                                        <span class="truncate text-lg font-medium">Bão</span>\n
                                        <span class="ml-auto font-semibold text-lg">0%</span>\n
                                    </div>\n
                                                                                    </div>\n
                    </div>\n
                </div>\n
                \n
                <div class="col-span-12 xl:col-span-12 flex flex-col mt-4">\n
                    <div class="intro-y flex h-10 items-center">\n
                        <h2 class="flex items-center mr-5 uppercase text-lg font-medium">\n
                            <svg class="lucide w-5 h-5 mr-2" xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24"><path d="M21 10a9 9 0 1 1-18 0a9 9 0 0 1 18 0z"/><circle cx="12" cy="10" r="3"/></svg>\n
                            Bản Đồ Cảnh Báo Thiên Tai 7 Ngày Gần Nhất\n
                        </h2>\n
                    </div>\n
                    <div class="intro-y flex items-center flex-wrap gap-x-4 mt-4">\n
                        \n
                                               \n
                        <div class="flex flex-wrap gap-x-4">\n
                                                            <label class="flex items-center space-x-2">\n
                                    <input type="checkbox" id="toggle-sat-lo"\n
                                        class="form-checkbox h-5 w-5 text-blue-600" checked>\n
                                    <span>Sạt Lở</span>\n
                                </label>\n
                                                            <label class="flex items-center space-x-2">\n
                                    <input type="checkbox" id="toggle-ngap-lut"\n
                                        class="form-checkbox h-5 w-5 text-blue-600" checked>\n
                                    <span>Ngập Lụt</span>\n
                                </label>\n
                                                            <label class="flex items-center space-x-2">\n
                                    <input type="checkbox" id="toggle-bao"\n
                                        class="form-checkbox h-5 w-5 text-blue-600" checked>\n
                                    <span>Bão</span>\n
                                </label>\n
                                                    </div>\n
                    </div>\n
                   \n
                    <div class="intro-y box mt-4 p-5 flex flex-col items-center justify-center space-y-4">\n
                        <div id="map" class="w-full h-[500px] md:h-[700px] rounded-lg border shadow-lg"></div>\n
                    </div>\n
                </div>\n
                \n
                <div class="col-span-12 xl:col-span-12 flex flex-col mt-5">\n
                    <div class="intro-y flex h-10 items-center">\n
                        <h2 class="flex items-center mr-5 uppercase text-lg font-medium">\n
                            <svg class="lucide w-5 h-5 mr-2" xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24"><path d="M21 10a9 9 0 1 1-18 0a9 9 0 0 1 18 0z"/><circle cx="12" cy="10" r="3"/></svg>\n
                            Bản Đồ Thời Tiết\n
                        </h2>\n
                    </div>\n
                    <div class="intro-y box mt-4 p-5 flex flex-1 items-center justify-center">\n
                        <iframe src="https://vrain.vn/52/overview?public_map=windy" width="100%" height="700px"\n
                            class="rounded-lg shadow-lg border" allowfullscreen>\n
                        </iframe>\n
                    </div>\n
                   \n
                </div>\n
                <div class="col-span-12 xl:col-span-12 mt-5">\n
                \n
                <div class="flex flex-col xl:flex-row gap-5">\n
                    \n
                    <div class="bg-white shadow rounded-lg p-4 sm:p-6 xl:p-8 w-full xl:w-1/2">\n
                        <div class="flex items-center">\n
                            <div class="flex-shrink-0">\n
                            <span class="text-2xl sm:text-3xl leading-none font-bold text-gray-900">0</span>\n
                            <h3 class="text-base font-normal text-gray-500">Người dân quan tâm thiên tai</h3>\n
                            </div>\n
                            \n
                            </div>\n
                        </div>\n
                    </div>\n
                </div>\n
            </div>\n
            </div>\n
\n
            </div>\n
        </div>\n
        <div\n
    data-tw-backdrop=""\n
    aria-hidden="true"\n
    tabindex="-1"\n
    id="large-modal-size-preview" class="modal group bg-black/60 transition-[visibility,opacity] w-screen h-screen fixed left-0 top-0 [&amp;:not(.show)]:duration-[0s,0.2s] [&amp;:not(.show)]:delay-[0.2s,0s] [&amp;:not(.show)]:invisible [&amp;:not(.show)]:opacity-0 [&amp;.show]:visible [&amp;.show]:opacity-100 [&amp;.show]:duration-[0s,0.4s]"\n
><div\n
    data-tw-merge\n
    class="w-[90%] mx-auto bg-white relative rounded-md shadow-md transition-[margin-top,transform] duration-[0.4s,0.3s] -mt-16 group-[.show]:mt-16 group-[.modal-static]:scale-[1.05]    sm:w-[600px] lg:w-[900px] p-5"\n
><form action="http://localhost/guest-disaster-subscribe" method="POST">\n
\n
                    <input type="hidden" name="_token" value="MMFf9W5ZacSQEjDuZFJQXqRqU3Cb3QM9WkxaF9tB" autocomplete="off">                    <div class="mb-4">\n
                        <label for="name" class="block text-sm font-medium text-gray-700 mb-1">Tên của bạn</label>\n
                        <input type="text" name="name" id="name" required\n
                            class="w-full border border-gray-300 rounded-md px-3 py-2 text-sm">\n
                    </div>\n
\n
                    <div class="mb-4">\n
                        <label for="email" class="block text-sm font-medium text-gray-700 mb-1">Email nhận thông tin</label>\n
                        <input type="email" name="email" id="email"\n
                            class="w-full border border-gray-300 rounded-md px-3 py-2 text-sm">\n
                            \n
                    </div>\n
                    <div class="text-right">\n
                        <button type="submit"\n
                            class="bg-blue-600 hover:bg-blue-700 text-white text-sm font-medium px-4 py-2 rounded-md">\n
                            Đăng ký\n
                        </button>\n
                    </div>\n
            </form></div></div>\n
\n
    </div>\n
            </div>\n
        </div>\n
    </div>\n
\n
</body>\n
\n
</html>\n
\n
<script>\n
    function openNotification() {\n
        console.log('openNotification');\n
        const dropdown = document.getElementById('notification-dropdown');\n
        if (dropdown) {\n
            dropdown.classList.toggle('hidden');\n
            \n
            // Nếu dropdown đang hiển thị, đánh dấu tất cả thông báo đã đọc\n
            if (!dropdown.classList.contains('hidden')) {\n
                markNotificationsAsRead();\n
            }\n
        }\n
    }\n
\n
    function markNotificationsAsRead() {\n
        // Gửi request để đánh dấu thông báo đã đọc\n
        fetch('/mark-notifications-as-read', {\n
            method: 'POST',\n
            headers: {\n
                'X-CSRF-TOKEN': document.querySelector('meta[name="csrf-token"]').getAttribute('content'),\n
                'Content-Type': 'application/json',\n
            },\n
        })\n
        .then(response => response.json())\n
        .then(data => {\n
            if (data.success) {\n
                // Ẩn badge số lượng thông báo\n
                const badge = document.getElementById('notification-badge');\n
                if (badge) {\n
                    badge.style.display = 'none';\n
                }\n
            }\n
        })\n
        .catch(error => {\n
            console.error('Error marking notifications as read:', error);\n
        });\n
    }\n
\n
    function markNotificationAsRead(notificationId, element) {\n
        // Gửi request để đánh dấu một thông báo cụ thể đã đọc\n
        fetch('/mark-notification-as-read', {\n
            method: 'POST',\n
            headers: {\n
                'X-CSRF-TOKEN': document.querySelector('meta[name="csrf-token"]').getAttribute('content'),\n
                'Content-Type': 'application/json',\n
            },\n
            body: JSON.stringify({\n
                notification_id: notificationId\n
            })\n
        })\n
        .then(response => response.json())\n
        .then(data => {\n
            if (data.success) {\n
                // Cập nhật giao diện\n
                element.classList.remove('bg-blue-50', 'border-l-4', 'border-blue-500');\n
                element.classList.add('bg-white');\n
                \n
                // Cập nhật màu text\n
                const titleElement = element.querySelector('.font-semibold');\n
                const messageElement = element.querySelector('.text-blue-700');\n
                if (titleElement) titleElement.classList.remove('text-blue-900');\n
                if (messageElement) messageElement.classList.remove('text-blue-700');\n
                \n
                // Ẩn dot xanh\n
                const dotElement = element.querySelector('.bg-blue-500');\n
                if (dotElement) dotElement.style.display = 'none';\n
                \n
                // Cập nhật badge số lượng\n
                updateNotificationBadge();\n
            }\n
        })\n
        .catch(error => {\n
            console.error('Error marking notification as read:', error);\n
        });\n
    }\n
\n
    function updateNotificationBadge() {\n
        // Đếm số thông báo chưa đọc còn lại\n
        const unreadItems = document.querySelectorAll('.bg-blue-50');\n
        const badge = document.getElementById('notification-badge');\n
        \n
        if (badge) {\n
            if (unreadItems.length === 0) {\n
                badge.style.display = 'none';\n
            } else {\n
                badge.textContent = unreadItems.length;\n
                badge.style.display = 'inline-block';\n
            }\n
        }\n
    }\n
\n
    document.addEventListener("DOMContentLoaded", function () {\n
        const toggles = document.querySelectorAll('.toggle-submenu');\n
\n
        toggles.forEach(toggle => {\n
            toggle.addEventListener('click', function (e) {\n
                e.preventDefault();\n
                const submenu = this.nextElementSibling;\n
\n
                document.querySelectorAll('.submenu').forEach(sm => {\n
                    if (sm !== submenu) sm.classList.add('hidden');\n
                });\n
\n
                if (submenu && submenu.classList.contains('submenu')) {\n
                    submenu.classList.toggle('hidden');\n
                }\n
            });\n
        });\n
        \n
        const btn = document.getElementById('user-menu-button');\n
        const dropdown = document.getElementById('user-dropdown');\n
\n
        if (btn && dropdown) {\n
            btn.addEventListener('click', function (e) {\n
                e.stopPropagation();\n
                dropdown.classList.toggle('hidden');\n
            });\n
\n
            document.addEventListener('click', function (e) {\n
                if (!dropdown.classList.contains('hidden') &&\n
                    !dropdown.contains(e.target) &&\n
                    !btn.contains(e.target)) {\n
                    dropdown.classList.add('hidden');\n
                }\n
            });\n
        }\n
\n
        // Thêm event listener để đóng dropdown thông báo khi click ra ngoài\n
        document.addEventListener('click', function (e) {\n
            const notificationDropdown = document.getElementById('notification-dropdown');\n
            const notificationButton = document.querySelector('[onclick="openNotification()"]');\n
            \n
            if (notificationDropdown && !notificationDropdown.classList.contains('hidden') &&\n
                !notificationDropdown.contains(e.target) &&\n
                !notificationButton.contains(e.target)) {\n
                notificationDropdown.classList.add('hidden');\n
            }\n
        });\n
    });\n
</script>\n


  To contain: Test Calamity

  at tests\Feature\IntegrationTest.php:67
     63▕ 
     64▕         // 5. Kiểm tra dashboard hiển thị dữ liệu
     65▕         $response = $this->get('/');
     66▕         $response->assertStatus(200);
  ➜  67▕         $response->assertSee('Test Calamity');
     68▕ 
     69▕         // 6. Kiểm tra incident report list
     70▕         $response = $this->get('/incident-report');
     71▕         $response->assertStatus(200);

  ───────────────────────────────────────────────────────────────────────────────────────────────────────────────────  
   FAILED  Tests\Feature\UserManagementTest > authenticated user can create new user                                   
  Failed asserting that two strings are equal.

The following errors occurred during the last request:

Trường tên là bắt buộc.

--- Expected
+++ Actual
@@ @@
-'http://localhost/list-user'
+'http://localhost'

  at tests\Feature\UserManagementTest.php:47
     43▕                 'full_name' => 'Test User',
     44▕                 'phone' => '0123456789',
     45▕             ]);
     46▕ 
  ➜  47▕         $response->assertRedirect('/list-user');
     48▕         
     49▕         $this->assertDatabaseHas('users', [
     50▕             'user_name' => 'testuser',
     51▕             'email' => 'test@example.com',

  ───────────────────────────────────────────────────────────────────────────────────────────────────────────────────  
   FAILED  Tests\Feature\UserManagementTest > authenticated user can update user                                       
  Expected response status code [201, 301, 302, 303, 307, 308] but received 422.
Failed asserting that false is true.

The following errors occurred during the last request:

{
    "errors": {
        "name": [
            "Trường tên là bắt buộc."
        ]
    }
}

  at tests\Feature\UserManagementTest.php:118
    114▕                 'full_name' => 'Updated User',
    115▕                 'phone' => '0987654321',
    116▕             ]);
    117▕ 
  ➜ 118▕         $response->assertRedirect('/list-user');
    119▕         
    120▕         $targetUser->refresh();
    121▕         $this->assertEquals('updateduser', $targetUser->user_name);
    122▕         $this->assertEquals('updated@example.com', $targetUser->email);

  ───────────────────────────────────────────────────────────────────────────────────────────────────────────────────  
   FAILED  Tests\Feature\UserManagementTest > user list can be searched                                                
  Expected: <!DOCTYPE html>\n
<html class="opacity-0" lang="vi">\n
\n
<head>\n
    <meta charset="utf-8">\n
    <meta name="csrf-token" content="K2ZIQyPaSnIJDGpHCDgNs5CXym9EXutcaBlBWCJN">\n
    <meta name="viewport" content="width=device-width, initial-scale=1">\n
    <meta name="author" content="LEFT4CODE">\n
    \n
    \n
    <script type="module" src="http://[::1]:5173/@vite/client"></script><script type="module" src="http://[::1]:5173/resources/js/vendors/dom.js"></script>    \n
    \n
    <script type="module" src="http://[::1]:5173/@vite/client"></script><script type="module" src="http://[::1]:5173/resources/js/components/base/theme-color.js"></script>    <script type="module" src="http://[::1]:5173/@vite/client"></script><link rel="stylesheet" href="http://[::1]:5173/resources/css/app.css" /><script type="module" src="http://[::1]:5173/resources/js/app.js"></script>\n
    </head>\n
\n
<body style="background-color: #1E3A8A;">\n
\n
    <div class=" px-5 sm:px-8 py-5 ">\n
        <div class="mobile-menu hidden lg:hidden fixed inset-0 bg-slate-900 text-white z-50 overflow-y-auto" style="background-color: #1E3A8A;">\n
    \n
    <div class="flex h-[70px] items-center px-4 sm:px-8 justify-between border-b border-slate-700 lg:hidden">\n
        <a href="http://localhost" class="flex items-center gap-2">\n
            <span class="font-semibold text-lg">Quản lý thiên tai</span>\n
        </a>\n
        <span role="button" class="mobile-menu-close cursor-pointer"\n
      onclick="document.querySelector('.mobile-menu')?.classList.add('hidden')">\n
    <svg class="lucide w-5 h-5 mr-2" xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24"><circle cx="12" cy="12" r="10"/><path d="M15 9l-6 6m0-6l6 6"/></svg>\n
    </span>\n
\n
    </div>\n
\n
    <ul class="py-4 px-4 space-y-2">\n
                                                        <li>\n
                        <a class="flex items-center justify-between px-4 py-3 hover:bg-slate-700 rounded transition "\n
                           href="http://localhost">\n
                            <div class="flex items-center gap-2">\n
                                <svg class="lucide w-5 h-5 mr-2" xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24"><path d="M12 22a10 10 0 1 0-10-10a10.011 10.011 0 0 0 10 10z"/><path d="M12.5 7h-1a1.5 1.5 0 0 0-1.5 1.5v6A1.5 1.5 0 0 0 11.5 16h1a1.5 1.5 0 0 0 .5-2.9V9.9A1.5 1.5 0 0 0 12.5 7z"/><circle cx="12" cy="19" r=".5"/></svg>\n
                                <span>Tổng Quan</span>\n
                            </div>\n
                                                    </a>\n
\n
                                            </li>\n
                                                                <li>\n
                        <a class="flex items-center justify-between px-4 py-3 hover:bg-slate-700 rounded transition toggle-submenu"\n
                           href="javascript:;">\n
                            <div class="flex items-center gap-2">\n
                                <svg class="lucide w-5 h-5 mr-2" xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24"><path d="M3 9l9-7l9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V9z"/><polyline points="9 22 9 12 15 12 15 22"/></svg>\n
                                <span>Địa Điểm</span>\n
                            </div>\n
                                                            <svg class="lucide w-5 h-5 mr-2" xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24"><path d="M6 9l6 6l6-6"/></svg>\n
                                                    </a>\n
\n
                                                    <ul class="submenu ml-4 mt-1 hidden space-y-1">\n
                                                                    <li>\n
                                        <a class="flex items-center justify-between px-4 py-2 text-sm hover:bg-slate-700 rounded transition "\n
                                           href="http://localhost/list-city">\n
                                            <div class="flex items-center gap-2">\n
                                                <svg class="lucide w-5 h-5 mr-2" xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24"><path d="M12 22a10 10 0 1 0-10-10a10.011 10.011 0 0 0 10 10z"/><path d="M12.5 7h-1a1.5 1.5 0 0 0-1.5 1.5v6A1.5 1.5 0 0 0 11.5 16h1a1.5 1.5 0 0 0 .5-2.9V9.9A1.5 1.5 0 0 0 12.5 7z"/><circle cx="12" cy="19" r=".5"/></svg>\n
                                                <span>Tỉnh-Thành</span>\n
                                            </div>\n
                                                                                    </a>\n
\n
                                                                            </li>\n
                                                                    <li>\n
                                        <a class="flex items-center justify-between px-4 py-2 text-sm hover:bg-slate-700 rounded transition "\n
                                           href="http://localhost/list-district">\n
                                            <div class="flex items-center gap-2">\n
                                                <svg class="lucide w-5 h-5 mr-2" xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24"><path d="M12 22a10 10 0 1 0-10-10a10.011 10.011 0 0 0 10 10z"/><path d="M12.5 7h-1a1.5 1.5 0 0 0-1.5 1.5v6A1.5 1.5 0 0 0 11.5 16h1a1.5 1.5 0 0 0 .5-2.9V9.9A1.5 1.5 0 0 0 12.5 7z"/><circle cx="12" cy="19" r=".5"/></svg>\n
                                                <span>Quận-Huyện</span>\n
                                            </div>\n
                                                                                    </a>\n
\n
                                                                            </li>\n
                                                                    <li>\n
                                        <a class="flex items-center justify-between px-4 py-2 text-sm hover:bg-slate-700 rounded transition "\n
                                           href="http://localhost/list-commune">\n
                                            <div class="flex items-center gap-2">\n
                                                <svg class="lucide w-5 h-5 mr-2" xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24"><path d="M12 22a10 10 0 1 0-10-10a10.011 10.011 0 0 0 10 10z"/><path d="M12.5 7h-1a1.5 1.5 0 0 0-1.5 1.5v6A1.5 1.5 0 0 0 11.5 16h1a1.5 1.5 0 0 0 .5-2.9V9.9A1.5 1.5 0 0 0 12.5 7z"/><circle cx="12" cy="19" r=".5"/></svg>\n
                                                <span>Phường-Xã</span>\n
                                            </div>\n
                                                                                    </a>\n
\n
                                                                            </li>\n
                                                            </ul>\n
                                            </li>\n
                                                                <li>\n
                        <a class="flex items-center justify-between px-4 py-3 hover:bg-slate-700 rounded transition toggle-submenu"\n
                           href="javascript:;">\n
                            <div class="flex items-center gap-2">\n
                                <svg class="lucide w-5 h-5 mr-2" xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24"><path d="M16 21v-2a4 4 0 0 0-8 0v2"/><circle cx="12" cy="7" r="4"/><path d="M20.88 18.5A3.5 3.5 0 0 1 17.5 22H6.5a3.5 3.5 0 0 1-3.38-2.5"/></svg>\n
                                <span>Loại Thiên Tai</span>\n
                            </div>\n
                                                            <svg class="lucide w-5 h-5 mr-2" xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24"><path d="M6 9l6 6l6-6"/></svg>\n
                                                    </a>\n
\n
                                                    <ul class="submenu ml-4 mt-1 hidden space-y-1">\n
                                                                    <li>\n
                                        <a class="flex items-center justify-between px-4 py-2 text-sm hover:bg-slate-700 rounded transition "\n
                                           href="http://localhost/list-type-of-calamity">\n
                                            <div class="flex items-center gap-2">\n
                                                <svg class="lucide w-5 h-5 mr-2" xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24"><path d="M12 22a10 10 0 1 0-10-10a10.011 10.011 0 0 0 10 10z"/><path d="M12.5 7h-1a1.5 1.5 0 0 0-1.5 1.5v6A1.5 1.5 0 0 0 11.5 16h1a1.5 1.5 0 0 0 .5-2.9V9.9A1.5 1.5 0 0 0 12.5 7z"/><circle cx="12" cy="19" r=".5"/></svg>\n
                                                <span>Loại Thiên Tai</span>\n
                                            </div>\n
                                                                                    </a>\n
\n
                                                                            </li>\n
                                                                    <li>\n
                                        <a class="flex items-center justify-between px-4 py-2 text-sm hover:bg-slate-700 rounded transition "\n
                                           href="http://localhost/list-sub-type-of-calamity">\n
                                            <div class="flex items-center gap-2">\n
                                                <svg class="lucide w-5 h-5 mr-2" xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24"><path d="M12 22a10 10 0 1 0-10-10a10.011 10.011 0 0 0 10 10z"/><path d="M12.5 7h-1a1.5 1.5 0 0 0-1.5 1.5v6A1.5 1.5 0 0 0 11.5 16h1a1.5 1.5 0 0 0 .5-2.9V9.9A1.5 1.5 0 0 0 12.5 7z"/><circle cx="12" cy="19" r=".5"/></svg>\n
                                                <span>Loại Thiên Tai Phụ</span>\n
                                            </div>\n
                                                                                    </a>\n
\n
                                                                            </li>\n
                                                                    <li>\n
                                        <a class="flex items-center justify-between px-4 py-2 text-sm hover:bg-slate-700 rounded transition "\n
                                           href="http://localhost/list-risk-level">\n
                                            <div class="flex items-center gap-2">\n
                                                <svg class="lucide w-5 h-5 mr-2" xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24"><path d="M12 22a10 10 0 1 0-10-10a10.011 10.011 0 0 0 10 10z"/><path d="M12.5 7h-1a1.5 1.5 0 0 0-1.5 1.5v6A1.5 1.5 0 0 0 11.5 16h1a1.5 1.5 0 0 0 .5-2.9V9.9A1.5 1.5 0 0 0 12.5 7z"/><circle cx="12" cy="19" r=".5"/></svg>\n
                                                <span>Cấp Độ Thiên Tai</span>\n
                                            </div>\n
                                                                                    </a>\n
\n
                                                                            </li>\n
                                                                    <li>\n
                                        <a class="flex items-center justify-between px-4 py-2 text-sm hover:bg-slate-700 rounded transition "\n
                                           href="http://localhost/list-type-of-construction">\n
                                            <div class="flex items-center gap-2">\n
                                                <svg class="lucide w-5 h-5 mr-2" xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24"><path d="M12 22a10 10 0 1 0-10-10a10.011 10.011 0 0 0 10 10z"/><path d="M12.5 7h-1a1.5 1.5 0 0 0-1.5 1.5v6A1.5 1.5 0 0 0 11.5 16h1a1.5 1.5 0 0 0 .5-2.9V9.9A1.5 1.5 0 0 0 12.5 7z"/><circle cx="12" cy="19" r=".5"/></svg>\n
                                                <span>Loại Công Trình</span>\n
                                            </div>\n
                                                                                    </a>\n
\n
                                                                            </li>\n
                                                                    <li>\n
                                        <a class="flex items-center justify-between px-4 py-2 text-sm hover:bg-slate-700 rounded transition "\n
                                           href="http://localhost/list-scenarios">\n
                                            <div class="flex items-center gap-2">\n
                                                <svg class="lucide w-5 h-5 mr-2" xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24"><path d="M12 22a10 10 0 1 0-10-10a10.011 10.011 0 0 0 10 10z"/><path d="M12.5 7h-1a1.5 1.5 0 0 0-1.5 1.5v6A1.5 1.5 0 0 0 11.5 16h1a1.5 1.5 0 0 0 .5-2.9V9.9A1.5 1.5 0 0 0 12.5 7z"/><circle cx="12" cy="19" r=".5"/></svg>\n
                                                <span>Phương Án Ứng Phó</span>\n
                                            </div>\n
                                                                                    </a>\n
\n
                                                                            </li>\n
                                                            </ul>\n
                                            </li>\n
                                                                <li>\n
                        <a class="flex items-center justify-between px-4 py-3 hover:bg-slate-700 rounded transition toggle-submenu"\n
                           href="javascript:;">\n
                            <div class="flex items-center gap-2">\n
                                <svg class="lucide w-5 h-5 mr-2" xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24"><path d="M16 21v-2a4 4 0 0 0-8 0v2"/><circle cx="12" cy="7" r="4"/><path d="M20.88 18.5A3.5 3.5 0 0 1 17.5 22H6.5a3.5 3.5 0 0 1-3.38-2.5"/></svg>\n
                                <span>Dữ Liệu Thiên Tai</span>\n
                            </div>\n
                                                            <svg class="lucide w-5 h-5 mr-2" xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24"><path d="M6 9l6 6l6-6"/></svg>\n
                                                    </a>\n
\n
                                                    <ul class="submenu ml-4 mt-1 hidden space-y-1">\n
                                                                    <li>\n
                                        <a class="flex items-center justify-between px-4 py-2 text-sm hover:bg-slate-700 rounded transition "\n
                                           href="http://localhost/calamity/list-river-bank">\n
                                            <div class="flex items-center gap-2">\n
                                                <svg class="lucide w-5 h-5 mr-2" xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24"><path d="M12 22a10 10 0 1 0-10-10a10.011 10.011 0 0 0 10 10z"/><path d="M12.5 7h-1a1.5 1.5 0 0 0-1.5 1.5v6A1.5 1.5 0 0 0 11.5 16h1a1.5 1.5 0 0 0 .5-2.9V9.9A1.5 1.5 0 0 0 12.5 7z"/><circle cx="12" cy="19" r=".5"/></svg>\n
                                                <span>Sạt Lở</span>\n
                                            </div>\n
                                                                                    </a>\n
\n
                                                                            </li>\n
                                                                    <li>\n
                                        <a class="flex items-center justify-between px-4 py-2 text-sm hover:bg-slate-700 rounded transition "\n
                                           href="http://localhost/calamity/list-flooding">\n
                                            <div class="flex items-center gap-2">\n
                                                <svg class="lucide w-5 h-5 mr-2" xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24"><path d="M12 22a10 10 0 1 0-10-10a10.011 10.011 0 0 0 10 10z"/><path d="M12.5 7h-1a1.5 1.5 0 0 0-1.5 1.5v6A1.5 1.5 0 0 0 11.5 16h1a1.5 1.5 0 0 0 .5-2.9V9.9A1.5 1.5 0 0 0 12.5 7z"/><circle cx="12" cy="19" r=".5"/></svg>\n
                                                <span>Ngập Lụt</span>\n
                                            </div>\n
                                                                                    </a>\n
\n
                                                                            </li>\n
                                                                    <li>\n
                                        <a class="flex items-center justify-between px-4 py-2 text-sm hover:bg-slate-700 rounded transition "\n
                                           href="http://localhost/calamity/list-storm">\n
                                            <div class="flex items-center gap-2">\n
                                                <svg class="lucide w-5 h-5 mr-2" xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24"><path d="M12 22a10 10 0 1 0-10-10a10.011 10.011 0 0 0 10 10z"/><path d="M12.5 7h-1a1.5 1.5 0 0 0-1.5 1.5v6A1.5 1.5 0 0 0 11.5 16h1a1.5 1.5 0 0 0 .5-2.9V9.9A1.5 1.5 0 0 0 12.5 7z"/><circle cx="12" cy="19" r=".5"/></svg>\n
                                                <span>Bão và ATNĐ</span>\n
                                            </div>\n
                                                                                    </a>\n
\n
                                                                            </li>\n
                                                            </ul>\n
                                            </li>\n
                                                                <li>\n
                        <a class="flex items-center justify-between px-4 py-3 hover:bg-slate-700 rounded transition toggle-submenu"\n
                           href="javascript:;">\n
                            <div class="flex items-center gap-2">\n
                                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-construction-icon lucide-construction"><rect x="2" y="6" width="20" height="8" rx="1"/><path d="M17 14v7"/><path d="M7 14v7"/><path d="M17 3v3"/><path d="M7 3v3"/><path d="M10 14 2.3 6.3"/><path d="m14 6 7.7 7.7"/><path d="m8 6 8 8"/></svg>\n
                                <span>Công Trình PCTT</span>\n
                            </div>\n
                                                            <svg class="lucide w-5 h-5 mr-2" xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24"><path d="M6 9l6 6l6-6"/></svg>\n
                                                    </a>\n
\n
                                                    <ul class="submenu ml-4 mt-1 hidden space-y-1">\n
                                                                    <li>\n
                                        <a class="flex items-center justify-between px-4 py-2 text-sm hover:bg-slate-700 rounded transition "\n
                                           href="http://localhost/construction/list-river-bank">\n
                                            <div class="flex items-center gap-2">\n
                                                <svg class="lucide w-5 h-5 mr-2" xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24"><path d="M12 22a10 10 0 1 0-10-10a10.011 10.011 0 0 0 10 10z"/><path d="M12.5 7h-1a1.5 1.5 0 0 0-1.5 1.5v6A1.5 1.5 0 0 0 11.5 16h1a1.5 1.5 0 0 0 .5-2.9V9.9A1.5 1.5 0 0 0 12.5 7z"/><circle cx="12" cy="19" r=".5"/></svg>\n
                                                <span>Sạt Lở</span>\n
                                            </div>\n
                                                                                    </a>\n
\n
                                                                            </li>\n
                                                                    <li>\n
                                        <a class="flex items-center justify-between px-4 py-2 text-sm hover:bg-slate-700 rounded transition "\n
                                           href="http://localhost/construction/list-flooding">\n
                                            <div class="flex items-center gap-2">\n
                                                <svg class="lucide w-5 h-5 mr-2" xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24"><path d="M12 22a10 10 0 1 0-10-10a10.011 10.011 0 0 0 10 10z"/><path d="M12.5 7h-1a1.5 1.5 0 0 0-1.5 1.5v6A1.5 1.5 0 0 0 11.5 16h1a1.5 1.5 0 0 0 .5-2.9V9.9A1.5 1.5 0 0 0 12.5 7z"/><circle cx="12" cy="19" r=".5"/></svg>\n
                                                <span>Ngập Lụt</span>\n
                                            </div>\n
                                                                                    </a>\n
\n
                                                                            </li>\n
                                                                    <li>\n
                                        <a class="flex items-center justify-between px-4 py-2 text-sm hover:bg-slate-700 rounded transition "\n
                                           href="http://localhost/construction/list-storm">\n
                                            <div class="flex items-center gap-2">\n
                                                <svg class="lucide w-5 h-5 mr-2" xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24"><path d="M12 22a10 10 0 1 0-10-10a10.011 10.011 0 0 0 10 10z"/><path d="M12.5 7h-1a1.5 1.5 0 0 0-1.5 1.5v6A1.5 1.5 0 0 0 11.5 16h1a1.5 1.5 0 0 0 .5-2.9V9.9A1.5 1.5 0 0 0 12.5 7z"/><circle cx="12" cy="19" r=".5"/></svg>\n
                                                <span>Bão và ATNĐ</span>\n
                                            </div>\n
                                                                                    </a>\n
\n
                                                                            </li>\n
                                                            </ul>\n
                                            </li>\n
                                                                <li>\n
                        <a class="flex items-center justify-between px-4 py-3 hover:bg-slate-700 rounded transition toggle-submenu"\n
                           href="javascript:;">\n
                            <div class="flex items-center gap-2">\n
                                <svg class="lucide w-5 h-5 mr-2" xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24"><path d="M16 21v-2a4 4 0 0 0-8 0v2"/><circle cx="12" cy="7" r="4"/><path d="M20.88 18.5A3.5 3.5 0 0 1 17.5 22H6.5a3.5 3.5 0 0 1-3.38-2.5"/></svg>\n
                                <span>Địa danh hành chính</span>\n
                            </div>\n
                                                            <svg class="lucide w-5 h-5 mr-2" xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24"><path d="M6 9l6 6l6-6"/></svg>\n
                                                    </a>\n
\n
                                                    <ul class="submenu ml-4 mt-1 hidden space-y-1">\n
                                                                    <li>\n
                                        <a class="flex items-center justify-between px-4 py-2 text-sm hover:bg-slate-700 rounded transition "\n
                                           href="http://localhost/administrative/list-school">\n
                                            <div class="flex items-center gap-2">\n
                                                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-school-icon lucide-school"><path d="M14 22v-4a2 2 0 1 0-4 0v4"/><path d="m18 10 3.447 1.724a1 1 0 0 1 .553.894V20a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2v-7.382a1 1 0 0 1 .553-.894L6 10"/><path d="M18 5v17"/><path d="m4 6 7.106-3.553a2 2 0 0 1 1.788 0L20 6"/><path d="M6 5v17"/><circle cx="12" cy="9" r="2"/></svg>\n
                                                <span>Trường Học</span>\n
                                            </div>\n
                                                                                    </a>\n
\n
                                                                            </li>\n
                                                                    <li>\n
                                        <a class="flex items-center justify-between px-4 py-2 text-sm hover:bg-slate-700 rounded transition "\n
                                           href="http://localhost/administrative/list-medical">\n
                                            <div class="flex items-center gap-2">\n
                                                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-hospital-icon lucide-hospital"><path d="M12 6v4"/><path d="M14 14h-4"/><path d="M14 18h-4"/><path d="M14 8h-4"/><path d="M18 12h2a2 2 0 0 1 2 2v6a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2v-9a2 2 0 0 1 2-2h2"/><path d="M18 22V4a2 2 0 0 0-2-2H8a2 2 0 0 0-2 2v18"/></svg>\n
                                                <span>Địa Điểm Y Tế</span>\n
                                            </div>\n
                                                                                    </a>\n
\n
                                                                            </li>\n
                                                                    <li>\n
                                        <a class="flex items-center justify-between px-4 py-2 text-sm hover:bg-slate-700 rounded transition "\n
                                           href="http://localhost/administrative/list-center">\n
                                            <div class="flex items-center gap-2">\n
                                                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-university-icon lucide-university"><path d="M14 21v-3a2 2 0 0 0-4 0v3"/><path d="M18 12h.01"/><path d="M18 16h.01"/><path d="M22 7a1 1 0 0 0-1-1h-2a2 2 0 0 1-1.143-.359L13.143 2.36a2 2 0 0 0-2.286-.001L6.143 5.64A2 2 0 0 1 5 6H3a1 1 0 0 0-1 1v12a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2z"/><path d="M6 12h.01"/><path d="M6 16h.01"/><circle cx="12" cy="10" r="2"/></svg>\n
                                                <span>TTHC và Khác</span>\n
                                            </div>\n
                                                                                    </a>\n
\n
                                                                            </li>\n
                                                            </ul>\n
                                            </li>\n
                                                                <li>\n
                        <a class="flex items-center justify-between px-4 py-3 hover:bg-slate-700 rounded transition toggle-submenu"\n
                           href="javascript:;">\n
                            <div class="flex items-center gap-2">\n
                                <svg class="lucide w-5 h-5 mr-2" xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24"><path d="M16 21v-2a4 4 0 0 0-8 0v2"/><circle cx="12" cy="7" r="4"/><path d="M20.88 18.5A3.5 3.5 0 0 1 17.5 22H6.5a3.5 3.5 0 0 1-3.38-2.5"/></svg>\n
                                <span>Dữ Liệu Khác</span>\n
                            </div>\n
                                                            <svg class="lucide w-5 h-5 mr-2" xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24"><path d="M6 9l6 6l6-6"/></svg>\n
                                                    </a>\n
\n
                                                    <ul class="submenu ml-4 mt-1 hidden space-y-1">\n
                                                                    <li>\n
                                        <a class="flex items-center justify-between px-4 py-2 text-sm hover:bg-slate-700 rounded transition "\n
                                           href="http://localhost/geographical/list-erosion">\n
                                            <div class="flex items-center gap-2">\n
                                                <svg class="lucide w-5 h-5 mr-2" xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24"><path d="M12 22a10 10 0 1 0-10-10a10.011 10.011 0 0 0 10 10z"/><path d="M12.5 7h-1a1.5 1.5 0 0 0-1.5 1.5v6A1.5 1.5 0 0 0 11.5 16h1a1.5 1.5 0 0 0 .5-2.9V9.9A1.5 1.5 0 0 0 12.5 7z"/><circle cx="12" cy="19" r=".5"/></svg>\n
                                                <span>Khu vực xói, bồi</span>\n
                                            </div>\n
                                                                                    </a>\n
\n
                                                                            </li>\n
                                                                    <li>\n
                                        <a class="flex items-center justify-between px-4 py-2 text-sm hover:bg-slate-700 rounded transition "\n
                                           href="http://localhost/geographical/list-shoreline">\n
                                            <div class="flex items-center gap-2">\n
                                                <svg class="lucide w-5 h-5 mr-2" xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24"><path d="M12 22a10 10 0 1 0-10-10a10.011 10.011 0 0 0 10 10z"/><path d="M12.5 7h-1a1.5 1.5 0 0 0-1.5 1.5v6A1.5 1.5 0 0 0 11.5 16h1a1.5 1.5 0 0 0 .5-2.9V9.9A1.5 1.5 0 0 0 12.5 7z"/><circle cx="12" cy="19" r=".5"/></svg>\n
                                                <span>Lịch sử đường bờ</span>\n
                                            </div>\n
                                                                                    </a>\n
\n
                                                                            </li>\n
                                                                    <li>\n
                                        <a class="flex items-center justify-between px-4 py-2 text-sm hover:bg-slate-700 rounded transition "\n
                                           href="http://localhost/geographical/list-cross-section">\n
                                            <div class="flex items-center gap-2">\n
                                                <svg class="lucide w-5 h-5 mr-2" xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24"><path d="M12 22a10 10 0 1 0-10-10a10.011 10.011 0 0 0 10 10z"/><path d="M12.5 7h-1a1.5 1.5 0 0 0-1.5 1.5v6A1.5 1.5 0 0 0 11.5 16h1a1.5 1.5 0 0 0 .5-2.9V9.9A1.5 1.5 0 0 0 12.5 7z"/><circle cx="12" cy="19" r=".5"/></svg>\n
                                                <span>Mặt cắt ngang</span>\n
                                            </div>\n
                                                                                    </a>\n
\n
                                                                            </li>\n
                                                                    <li>\n
                                        <a class="flex items-center justify-between px-4 py-2 text-sm hover:bg-slate-700 rounded transition "\n
                                           href="http://localhost/geographical/list-monitoring">\n
                                            <div class="flex items-center gap-2">\n
                                                <svg class="lucide w-5 h-5 mr-2" xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24"><path d="M12 22a10 10 0 1 0-10-10a10.011 10.011 0 0 0 10 10z"/><path d="M12.5 7h-1a1.5 1.5 0 0 0-1.5 1.5v6A1.5 1.5 0 0 0 11.5 16h1a1.5 1.5 0 0 0 .5-2.9V9.9A1.5 1.5 0 0 0 12.5 7z"/><circle cx="12" cy="19" r=".5"/></svg>\n
                                                <span>Mốc quan trắc</span>\n
                                            </div>\n
                                                                                    </a>\n
\n
                                                                            </li>\n
                                                            </ul>\n
                                            </li>\n
                                                                <li>\n
                        <a class="flex items-center justify-between px-4 py-3 hover:bg-slate-700 rounded transition "\n
                           href="http://localhost/map">\n
                            <div class="flex items-center gap-2">\n
                                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-map-icon lucide-map"><path d="M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z"/><path d="M15 5.764v15"/><path d="M9 3.236v15"/></svg>\n
                                <span>Bản Đồ</span>\n
                            </div>\n
                                                    </a>\n
\n
                                            </li>\n
                                                                <li>\n
                        <a class="flex items-center justify-between px-4 py-3 hover:bg-slate-700 rounded transition "\n
                           href="http://localhost/chat">\n
                            <div class="flex items-center gap-2">\n
                                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-message-circle-icon lucide-message-circle"><path d="M7.9 20A9 9 0 1 0 4 16.1L2 22Z"/></svg>\n
                                <span>Tham gia cộng đồng</span>\n
                            </div>\n
                                                    </a>\n
\n
                                            </li>\n
                                                                <li>\n
                        <a class="flex items-center justify-between px-4 py-3 hover:bg-slate-700 rounded transition "\n
                           href="http://localhost/incident-report">\n
                            <div class="flex items-center gap-2">\n
                                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-message-square-warning-icon lucide-message-square-warning"><path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"/><path d="M12 7v2"/><path d="M12 13h.01"/></svg>\n
                                <span>Báo cáo sự cố</span>\n
                            </div>\n
                                                    </a>\n
\n
                                            </li>\n
                                        </ul>\n
</div>\n
\n
<div class="flex h-[10px] items-center px-3 sm:px-8 md:hidden" >\n
    <a class="mr-auto flex" href="http://localhost">\n
        <img class="w-6" src="http://[::1]:5173/resources/images/logo.svg" alt="Logo" />\n
    </a>\n
    <a class="mobile-menu-toggler text-white" href="#" onclick="document.querySelector('.mobile-menu')?.classList.remove('hidden')">\n
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-square-menu-icon lucide-square-menu"><rect width="18" height="18" x="3" y="3" rx="2"/><path d="M7 8h10"/><path d="M7 12h10"/><path d="M7 16h10"/></svg>\n
    </a>\n
</div>\n
\n
\n
\n
        <div class="mt-7 flex md:mt-0">\n
            <nav class=" hidden w-[80px] overflow-x-hidden pb-16 pr-5 md:block xl:w-[230px]">\n
                <a class="intro-x flex items-center pl-5 pt-4" href="/">\n
                    <span class=" lg:text-2xl xl:text-3xl  font-bold uppercase text-transparent bg-clip-text bg-gradient-to-r from-sky-400 to-emerald-600">Quản lý thiên tai</span>\n
                </a>\n
                <div class=" my-3"></div>\n
                <ul >\n
                                                                                            <li>\n
                                <a class="flex items-center justify-between px-4 py-3 hover:bg-white hover:text-black text-white transition rounded cursor-pointer "\n
                                    href="http://localhost">\n
                                    \n
                                    <div class="flex items-center gap-2" title="Tổng Quan">\n
                                        <div title="Tổng Quan"><svg class="lucide w-5 h-5 mr-2" xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24"><path d="M12 22a10 10 0 1 0-10-10a10.011 10.011 0 0 0 10 10z"/><path d="M12.5 7h-1a1.5 1.5 0 0 0-1.5 1.5v6A1.5 1.5 0 0 0 11.5 16h1a1.5 1.5 0 0 0 .5-2.9V9.9A1.5 1.5 0 0 0 12.5 7z"/><circle cx="12" cy="19" r=".5"/></svg></div>\n
                                        <span class="hidden xl:inline" >Tổng Quan</span>\n
                                    </div>\n
\n
                                                                    </a>\n
                                                            </li>\n
                                                                                                <li>\n
                                <a class="flex items-center justify-between px-4 py-3 hover:bg-white hover:text-black text-white transition rounded cursor-pointer toggle-submenu"\n
                                    href="javascript:;">\n
                                    \n
                                    <div class="flex items-center gap-2" title="Địa Điểm">\n
                                        <div title="Địa Điểm"><svg class="lucide w-5 h-5 mr-2" xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24"><path d="M3 9l9-7l9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V9z"/><polyline points="9 22 9 12 15 12 15 22"/></svg></div>\n
                                        <span class="hidden xl:inline" >Địa Điểm</span>\n
                                    </div>\n
\n
                                                                            <span class="hidden xl:inline"><svg class="lucide w-5 h-5 mr-2" xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24"><path d="M6 9l6 6l6-6"/></svg></span>\n
                                                                    </a>\n
                                                                    <ul class="submenu ml-6 mt-1 hidden">\n
                                                                                    <li  class="group relative">\n
                                                <a class="flex items-center justify-between px-4 py-2 text-sm text-slate-300 hover:text-white hover:bg-slate-700 rounded transition "\n
                                                    href="http://localhost/list-city">\n
                                                   <div class="flex items-center gap-2">\n
                                                        <svg class="lucide w-5 h-5 mr-2" xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24"><path d="M12 22a10 10 0 1 0-10-10a10.011 10.011 0 0 0 10 10z"/><path d="M12.5 7h-1a1.5 1.5 0 0 0-1.5 1.5v6A1.5 1.5 0 0 0 11.5 16h1a1.5 1.5 0 0 0 .5-2.9V9.9A1.5 1.5 0 0 0 12.5 7z"/><circle cx="12" cy="19" r=".5"/></svg>\n
                                                        <span class="hidden xl:inline">Tỉnh-Thành</span>\n
                                                    </div>\n
                                                                                                    </a>\n
                                                                                            </li>\n
                                                                                    <li  class="group relative">\n
                                                <a class="flex items-center justify-between px-4 py-2 text-sm text-slate-300 hover:text-white hover:bg-slate-700 rounded transition "\n
                                                    href="http://localhost/list-district">\n
                                                   <div class="flex items-center gap-2">\n
                                                        <svg class="lucide w-5 h-5 mr-2" xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24"><path d="M12 22a10 10 0 1 0-10-10a10.011 10.011 0 0 0 10 10z"/><path d="M12.5 7h-1a1.5 1.5 0 0 0-1.5 1.5v6A1.5 1.5 0 0 0 11.5 16h1a1.5 1.5 0 0 0 .5-2.9V9.9A1.5 1.5 0 0 0 12.5 7z"/><circle cx="12" cy="19" r=".5"/></svg>\n
                                                        <span class="hidden xl:inline">Quận-Huyện</span>\n
                                                    </div>\n
                                                                                                    </a>\n
                                                                                            </li>\n
                                                                                    <li  class="group relative">\n
                                                <a class="flex items-center justify-between px-4 py-2 text-sm text-slate-300 hover:text-white hover:bg-slate-700 rounded transition "\n
                                                    href="http://localhost/list-commune">\n
                                                   <div class="flex items-center gap-2">\n
                                                        <svg class="lucide w-5 h-5 mr-2" xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24"><path d="M12 22a10 10 0 1 0-10-10a10.011 10.011 0 0 0 10 10z"/><path d="M12.5 7h-1a1.5 1.5 0 0 0-1.5 1.5v6A1.5 1.5 0 0 0 11.5 16h1a1.5 1.5 0 0 0 .5-2.9V9.9A1.5 1.5 0 0 0 12.5 7z"/><circle cx="12" cy="19" r=".5"/></svg>\n
                                                        <span class="hidden xl:inline">Phường-Xã</span>\n
                                                    </div>\n
                                                                                                    </a>\n
                                                                                            </li>\n
                                                                            </ul>\n
                                                            </li>\n
                                                                                                <li>\n
                                <a class="flex items-center justify-between px-4 py-3 hover:bg-white hover:text-black text-white transition rounded cursor-pointer toggle-submenu"\n
                                    href="javascript:;">\n
                                    \n
                                    <div class="flex items-center gap-2" title="Loại Thiên Tai">\n
                                        <div title="Loại Thiên Tai"><svg class="lucide w-5 h-5 mr-2" xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24"><path d="M16 21v-2a4 4 0 0 0-8 0v2"/><circle cx="12" cy="7" r="4"/><path d="M20.88 18.5A3.5 3.5 0 0 1 17.5 22H6.5a3.5 3.5 0 0 1-3.38-2.5"/></svg></div>\n
                                        <span class="hidden xl:inline" >Loại Thiên Tai</span>\n
                                    </div>\n
\n
                                                                            <span class="hidden xl:inline"><svg class="lucide w-5 h-5 mr-2" xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24"><path d="M6 9l6 6l6-6"/></svg></span>\n
                                                                    </a>\n
                                                                    <ul class="submenu ml-6 mt-1 hidden">\n
                                                                                    <li  class="group relative">\n
                                                <a class="flex items-center justify-between px-4 py-2 text-sm text-slate-300 hover:text-white hover:bg-slate-700 rounded transition "\n
                                                    href="http://localhost/list-type-of-calamity">\n
                                                   <div class="flex items-center gap-2">\n
                                                        <svg class="lucide w-5 h-5 mr-2" xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24"><path d="M12 22a10 10 0 1 0-10-10a10.011 10.011 0 0 0 10 10z"/><path d="M12.5 7h-1a1.5 1.5 0 0 0-1.5 1.5v6A1.5 1.5 0 0 0 11.5 16h1a1.5 1.5 0 0 0 .5-2.9V9.9A1.5 1.5 0 0 0 12.5 7z"/><circle cx="12" cy="19" r=".5"/></svg>\n
                                                        <span class="hidden xl:inline">Loại Thiên Tai</span>\n
                                                    </div>\n
                                                                                                    </a>\n
                                                                                            </li>\n
                                                                                    <li  class="group relative">\n
                                                <a class="flex items-center justify-between px-4 py-2 text-sm text-slate-300 hover:text-white hover:bg-slate-700 rounded transition "\n
                                                    href="http://localhost/list-sub-type-of-calamity">\n
                                                   <div class="flex items-center gap-2">\n
                                                        <svg class="lucide w-5 h-5 mr-2" xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24"><path d="M12 22a10 10 0 1 0-10-10a10.011 10.011 0 0 0 10 10z"/><path d="M12.5 7h-1a1.5 1.5 0 0 0-1.5 1.5v6A1.5 1.5 0 0 0 11.5 16h1a1.5 1.5 0 0 0 .5-2.9V9.9A1.5 1.5 0 0 0 12.5 7z"/><circle cx="12" cy="19" r=".5"/></svg>\n
                                                        <span class="hidden xl:inline">Loại Thiên Tai Phụ</span>\n
                                                    </div>\n
                                                                                                    </a>\n
                                                                                            </li>\n
                                                                                    <li  class="group relative">\n
                                                <a class="flex items-center justify-between px-4 py-2 text-sm text-slate-300 hover:text-white hover:bg-slate-700 rounded transition "\n
                                                    href="http://localhost/list-risk-level">\n
                                                   <div class="flex items-center gap-2">\n
                                                        <svg class="lucide w-5 h-5 mr-2" xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24"><path d="M12 22a10 10 0 1 0-10-10a10.011 10.011 0 0 0 10 10z"/><path d="M12.5 7h-1a1.5 1.5 0 0 0-1.5 1.5v6A1.5 1.5 0 0 0 11.5 16h1a1.5 1.5 0 0 0 .5-2.9V9.9A1.5 1.5 0 0 0 12.5 7z"/><circle cx="12" cy="19" r=".5"/></svg>\n
                                                        <span class="hidden xl:inline">Cấp Độ Thiên Tai</span>\n
                                                    </div>\n
                                                                                                    </a>\n
                                                                                            </li>\n
                                                                                    <li  class="group relative">\n
                                                <a class="flex items-center justify-between px-4 py-2 text-sm text-slate-300 hover:text-white hover:bg-slate-700 rounded transition "\n
                                                    href="http://localhost/list-type-of-construction">\n
                                                   <div class="flex items-center gap-2">\n
                                                        <svg class="lucide w-5 h-5 mr-2" xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24"><path d="M12 22a10 10 0 1 0-10-10a10.011 10.011 0 0 0 10 10z"/><path d="M12.5 7h-1a1.5 1.5 0 0 0-1.5 1.5v6A1.5 1.5 0 0 0 11.5 16h1a1.5 1.5 0 0 0 .5-2.9V9.9A1.5 1.5 0 0 0 12.5 7z"/><circle cx="12" cy="19" r=".5"/></svg>\n
                                                        <span class="hidden xl:inline">Loại Công Trình</span>\n
                                                    </div>\n
                                                                                                    </a>\n
                                                                                            </li>\n
                                                                                    <li  class="group relative">\n
                                                <a class="flex items-center justify-between px-4 py-2 text-sm text-slate-300 hover:text-white hover:bg-slate-700 rounded transition "\n
                                                    href="http://localhost/list-scenarios">\n
                                                   <div class="flex items-center gap-2">\n
                                                        <svg class="lucide w-5 h-5 mr-2" xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24"><path d="M12 22a10 10 0 1 0-10-10a10.011 10.011 0 0 0 10 10z"/><path d="M12.5 7h-1a1.5 1.5 0 0 0-1.5 1.5v6A1.5 1.5 0 0 0 11.5 16h1a1.5 1.5 0 0 0 .5-2.9V9.9A1.5 1.5 0 0 0 12.5 7z"/><circle cx="12" cy="19" r=".5"/></svg>\n
                                                        <span class="hidden xl:inline">Phương Án Ứng Phó</span>\n
                                                    </div>\n
                                                                                                    </a>\n
                                                                                            </li>\n
                                                                            </ul>\n
                                                            </li>\n
                                                                                                <li>\n
                                <a class="flex items-center justify-between px-4 py-3 hover:bg-white hover:text-black text-white transition rounded cursor-pointer toggle-submenu"\n
                                    href="javascript:;">\n
                                    \n
                                    <div class="flex items-center gap-2" title="Dữ Liệu Thiên Tai">\n
                                        <div title="Dữ Liệu Thiên Tai"><svg class="lucide w-5 h-5 mr-2" xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24"><path d="M16 21v-2a4 4 0 0 0-8 0v2"/><circle cx="12" cy="7" r="4"/><path d="M20.88 18.5A3.5 3.5 0 0 1 17.5 22H6.5a3.5 3.5 0 0 1-3.38-2.5"/></svg></div>\n
                                        <span class="hidden xl:inline" >Dữ Liệu Thiên Tai</span>\n
                                    </div>\n
\n
                                                                            <span class="hidden xl:inline"><svg class="lucide w-5 h-5 mr-2" xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24"><path d="M6 9l6 6l6-6"/></svg></span>\n
                                                                    </a>\n
                                                                    <ul class="submenu ml-6 mt-1 hidden">\n
                                                                                    <li  class="group relative">\n
                                                <a class="flex items-center justify-between px-4 py-2 text-sm text-slate-300 hover:text-white hover:bg-slate-700 rounded transition "\n
                                                    href="http://localhost/calamity/list-river-bank">\n
                                                   <div class="flex items-center gap-2">\n
                                                        <svg class="lucide w-5 h-5 mr-2" xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24"><path d="M12 22a10 10 0 1 0-10-10a10.011 10.011 0 0 0 10 10z"/><path d="M12.5 7h-1a1.5 1.5 0 0 0-1.5 1.5v6A1.5 1.5 0 0 0 11.5 16h1a1.5 1.5 0 0 0 .5-2.9V9.9A1.5 1.5 0 0 0 12.5 7z"/><circle cx="12" cy="19" r=".5"/></svg>\n
                                                        <span class="hidden xl:inline">Sạt Lở</span>\n
                                                    </div>\n
                                                                                                    </a>\n
                                                                                            </li>\n
                                                                                    <li  class="group relative">\n
                                                <a class="flex items-center justify-between px-4 py-2 text-sm text-slate-300 hover:text-white hover:bg-slate-700 rounded transition "\n
                                                    href="http://localhost/calamity/list-flooding">\n
                                                   <div class="flex items-center gap-2">\n
                                                        <svg class="lucide w-5 h-5 mr-2" xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24"><path d="M12 22a10 10 0 1 0-10-10a10.011 10.011 0 0 0 10 10z"/><path d="M12.5 7h-1a1.5 1.5 0 0 0-1.5 1.5v6A1.5 1.5 0 0 0 11.5 16h1a1.5 1.5 0 0 0 .5-2.9V9.9A1.5 1.5 0 0 0 12.5 7z"/><circle cx="12" cy="19" r=".5"/></svg>\n
                                                        <span class="hidden xl:inline">Ngập Lụt</span>\n
                                                    </div>\n
                                                                                                    </a>\n
                                                                                            </li>\n
                                                                                    <li  class="group relative">\n
                                                <a class="flex items-center justify-between px-4 py-2 text-sm text-slate-300 hover:text-white hover:bg-slate-700 rounded transition "\n
                                                    href="http://localhost/calamity/list-storm">\n
                                                   <div class="flex items-center gap-2">\n
                                                        <svg class="lucide w-5 h-5 mr-2" xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24"><path d="M12 22a10 10 0 1 0-10-10a10.011 10.011 0 0 0 10 10z"/><path d="M12.5 7h-1a1.5 1.5 0 0 0-1.5 1.5v6A1.5 1.5 0 0 0 11.5 16h1a1.5 1.5 0 0 0 .5-2.9V9.9A1.5 1.5 0 0 0 12.5 7z"/><circle cx="12" cy="19" r=".5"/></svg>\n
                                                        <span class="hidden xl:inline">Bão và ATNĐ</span>\n
                                                    </div>\n
                                                                                                    </a>\n
                                                                                            </li>\n
                                                                            </ul>\n
                                                            </li>\n
                                                                                                <li>\n
                                <a class="flex items-center justify-between px-4 py-3 hover:bg-white hover:text-black text-white transition rounded cursor-pointer toggle-submenu"\n
                                    href="javascript:;">\n
                                    \n
                                    <div class="flex items-center gap-2" title="Công Trình PCTT">\n
                                        <div title="Công Trình PCTT"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-construction-icon lucide-construction"><rect x="2" y="6" width="20" height="8" rx="1"/><path d="M17 14v7"/><path d="M7 14v7"/><path d="M17 3v3"/><path d="M7 3v3"/><path d="M10 14 2.3 6.3"/><path d="m14 6 7.7 7.7"/><path d="m8 6 8 8"/></svg></div>\n
                                        <span class="hidden xl:inline" >Công Trình PCTT</span>\n
                                    </div>\n
\n
                                                                            <span class="hidden xl:inline"><svg class="lucide w-5 h-5 mr-2" xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24"><path d="M6 9l6 6l6-6"/></svg></span>\n
                                                                    </a>\n
                                                                    <ul class="submenu ml-6 mt-1 hidden">\n
                                                                                    <li  class="group relative">\n
                                                <a class="flex items-center justify-between px-4 py-2 text-sm text-slate-300 hover:text-white hover:bg-slate-700 rounded transition "\n
                                                    href="http://localhost/construction/list-river-bank">\n
                                                   <div class="flex items-center gap-2">\n
                                                        <svg class="lucide w-5 h-5 mr-2" xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24"><path d="M12 22a10 10 0 1 0-10-10a10.011 10.011 0 0 0 10 10z"/><path d="M12.5 7h-1a1.5 1.5 0 0 0-1.5 1.5v6A1.5 1.5 0 0 0 11.5 16h1a1.5 1.5 0 0 0 .5-2.9V9.9A1.5 1.5 0 0 0 12.5 7z"/><circle cx="12" cy="19" r=".5"/></svg>\n
                                                        <span class="hidden xl:inline">Sạt Lở</span>\n
                                                    </div>\n
                                                                                                    </a>\n
                                                                                            </li>\n
                                                                                    <li  class="group relative">\n
                                                <a class="flex items-center justify-between px-4 py-2 text-sm text-slate-300 hover:text-white hover:bg-slate-700 rounded transition "\n
                                                    href="http://localhost/construction/list-flooding">\n
                                                   <div class="flex items-center gap-2">\n
                                                        <svg class="lucide w-5 h-5 mr-2" xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24"><path d="M12 22a10 10 0 1 0-10-10a10.011 10.011 0 0 0 10 10z"/><path d="M12.5 7h-1a1.5 1.5 0 0 0-1.5 1.5v6A1.5 1.5 0 0 0 11.5 16h1a1.5 1.5 0 0 0 .5-2.9V9.9A1.5 1.5 0 0 0 12.5 7z"/><circle cx="12" cy="19" r=".5"/></svg>\n
                                                        <span class="hidden xl:inline">Ngập Lụt</span>\n
                                                    </div>\n
                                                                                                    </a>\n
                                                                                            </li>\n
                                                                                    <li  class="group relative">\n
                                                <a class="flex items-center justify-between px-4 py-2 text-sm text-slate-300 hover:text-white hover:bg-slate-700 rounded transition "\n
                                                    href="http://localhost/construction/list-storm">\n
                                                   <div class="flex items-center gap-2">\n
                                                        <svg class="lucide w-5 h-5 mr-2" xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24"><path d="M12 22a10 10 0 1 0-10-10a10.011 10.011 0 0 0 10 10z"/><path d="M12.5 7h-1a1.5 1.5 0 0 0-1.5 1.5v6A1.5 1.5 0 0 0 11.5 16h1a1.5 1.5 0 0 0 .5-2.9V9.9A1.5 1.5 0 0 0 12.5 7z"/><circle cx="12" cy="19" r=".5"/></svg>\n
                                                        <span class="hidden xl:inline">Bão và ATNĐ</span>\n
                                                    </div>\n
                                                                                                    </a>\n
                                                                                            </li>\n
                                                                            </ul>\n
                                                            </li>\n
                                                                                                <li>\n
                                <a class="flex items-center justify-between px-4 py-3 hover:bg-white hover:text-black text-white transition rounded cursor-pointer toggle-submenu"\n
                                    href="javascript:;">\n
                                    \n
                                    <div class="flex items-center gap-2" title="Địa danh hành chính">\n
                                        <div title="Địa danh hành chính"><svg class="lucide w-5 h-5 mr-2" xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24"><path d="M16 21v-2a4 4 0 0 0-8 0v2"/><circle cx="12" cy="7" r="4"/><path d="M20.88 18.5A3.5 3.5 0 0 1 17.5 22H6.5a3.5 3.5 0 0 1-3.38-2.5"/></svg></div>\n
                                        <span class="hidden xl:inline" >Địa danh hành chính</span>\n
                                    </div>\n
\n
                                                                            <span class="hidden xl:inline"><svg class="lucide w-5 h-5 mr-2" xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24"><path d="M6 9l6 6l6-6"/></svg></span>\n
                                                                    </a>\n
                                                                    <ul class="submenu ml-6 mt-1 hidden">\n
                                                                                    <li  class="group relative">\n
                                                <a class="flex items-center justify-between px-4 py-2 text-sm text-slate-300 hover:text-white hover:bg-slate-700 rounded transition "\n
                                                    href="http://localhost/administrative/list-school">\n
                                                   <div class="flex items-center gap-2">\n
                                                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-school-icon lucide-school"><path d="M14 22v-4a2 2 0 1 0-4 0v4"/><path d="m18 10 3.447 1.724a1 1 0 0 1 .553.894V20a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2v-7.382a1 1 0 0 1 .553-.894L6 10"/><path d="M18 5v17"/><path d="m4 6 7.106-3.553a2 2 0 0 1 1.788 0L20 6"/><path d="M6 5v17"/><circle cx="12" cy="9" r="2"/></svg>\n
                                                        <span class="hidden xl:inline">Trường Học</span>\n
                                                    </div>\n
                                                                                                    </a>\n
                                                                                            </li>\n
                                                                                    <li  class="group relative">\n
                                                <a class="flex items-center justify-between px-4 py-2 text-sm text-slate-300 hover:text-white hover:bg-slate-700 rounded transition "\n
                                                    href="http://localhost/administrative/list-medical">\n
                                                   <div class="flex items-center gap-2">\n
                                                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-hospital-icon lucide-hospital"><path d="M12 6v4"/><path d="M14 14h-4"/><path d="M14 18h-4"/><path d="M14 8h-4"/><path d="M18 12h2a2 2 0 0 1 2 2v6a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2v-9a2 2 0 0 1 2-2h2"/><path d="M18 22V4a2 2 0 0 0-2-2H8a2 2 0 0 0-2 2v18"/></svg>\n
                                                        <span class="hidden xl:inline">Địa Điểm Y Tế</span>\n
                                                    </div>\n
                                                                                                    </a>\n
                                                                                            </li>\n
                                                                                    <li  class="group relative">\n
                                                <a class="flex items-center justify-between px-4 py-2 text-sm text-slate-300 hover:text-white hover:bg-slate-700 rounded transition "\n
                                                    href="http://localhost/administrative/list-center">\n
                                                   <div class="flex items-center gap-2">\n
                                                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-university-icon lucide-university"><path d="M14 21v-3a2 2 0 0 0-4 0v3"/><path d="M18 12h.01"/><path d="M18 16h.01"/><path d="M22 7a1 1 0 0 0-1-1h-2a2 2 0 0 1-1.143-.359L13.143 2.36a2 2 0 0 0-2.286-.001L6.143 5.64A2 2 0 0 1 5 6H3a1 1 0 0 0-1 1v12a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2z"/><path d="M6 12h.01"/><path d="M6 16h.01"/><circle cx="12" cy="10" r="2"/></svg>\n
                                                        <span class="hidden xl:inline">TTHC và Khác</span>\n
                                                    </div>\n
                                                                                                    </a>\n
                                                                                            </li>\n
                                                                            </ul>\n
                                                            </li>\n
                                                                                                <li>\n
                                <a class="flex items-center justify-between px-4 py-3 hover:bg-white hover:text-black text-white transition rounded cursor-pointer toggle-submenu"\n
                                    href="javascript:;">\n
                                    \n
                                    <div class="flex items-center gap-2" title="Dữ Liệu Khác">\n
                                        <div title="Dữ Liệu Khác"><svg class="lucide w-5 h-5 mr-2" xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24"><path d="M16 21v-2a4 4 0 0 0-8 0v2"/><circle cx="12" cy="7" r="4"/><path d="M20.88 18.5A3.5 3.5 0 0 1 17.5 22H6.5a3.5 3.5 0 0 1-3.38-2.5"/></svg></div>\n
                                        <span class="hidden xl:inline" >Dữ Liệu Khác</span>\n
                                    </div>\n
\n
                                                                            <span class="hidden xl:inline"><svg class="lucide w-5 h-5 mr-2" xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24"><path d="M6 9l6 6l6-6"/></svg></span>\n
                                                                    </a>\n
                                                                    <ul class="submenu ml-6 mt-1 hidden">\n
                                                                                    <li  class="group relative">\n
                                                <a class="flex items-center justify-between px-4 py-2 text-sm text-slate-300 hover:text-white hover:bg-slate-700 rounded transition "\n
                                                    href="http://localhost/geographical/list-erosion">\n
                                                   <div class="flex items-center gap-2">\n
                                                        <svg class="lucide w-5 h-5 mr-2" xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24"><path d="M12 22a10 10 0 1 0-10-10a10.011 10.011 0 0 0 10 10z"/><path d="M12.5 7h-1a1.5 1.5 0 0 0-1.5 1.5v6A1.5 1.5 0 0 0 11.5 16h1a1.5 1.5 0 0 0 .5-2.9V9.9A1.5 1.5 0 0 0 12.5 7z"/><circle cx="12" cy="19" r=".5"/></svg>\n
                                                        <span class="hidden xl:inline">Khu vực xói, bồi</span>\n
                                                    </div>\n
                                                                                                    </a>\n
                                                                                            </li>\n
                                                                                    <li  class="group relative">\n
                                                <a class="flex items-center justify-between px-4 py-2 text-sm text-slate-300 hover:text-white hover:bg-slate-700 rounded transition "\n
                                                    href="http://localhost/geographical/list-shoreline">\n
                                                   <div class="flex items-center gap-2">\n
                                                        <svg class="lucide w-5 h-5 mr-2" xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24"><path d="M12 22a10 10 0 1 0-10-10a10.011 10.011 0 0 0 10 10z"/><path d="M12.5 7h-1a1.5 1.5 0 0 0-1.5 1.5v6A1.5 1.5 0 0 0 11.5 16h1a1.5 1.5 0 0 0 .5-2.9V9.9A1.5 1.5 0 0 0 12.5 7z"/><circle cx="12" cy="19" r=".5"/></svg>\n
                                                        <span class="hidden xl:inline">Lịch sử đường bờ</span>\n
                                                    </div>\n
                                                                                                    </a>\n
                                                                                            </li>\n
                                                                                    <li  class="group relative">\n
                                                <a class="flex items-center justify-between px-4 py-2 text-sm text-slate-300 hover:text-white hover:bg-slate-700 rounded transition "\n
                                                    href="http://localhost/geographical/list-cross-section">\n
                                                   <div class="flex items-center gap-2">\n
                                                        <svg class="lucide w-5 h-5 mr-2" xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24"><path d="M12 22a10 10 0 1 0-10-10a10.011 10.011 0 0 0 10 10z"/><path d="M12.5 7h-1a1.5 1.5 0 0 0-1.5 1.5v6A1.5 1.5 0 0 0 11.5 16h1a1.5 1.5 0 0 0 .5-2.9V9.9A1.5 1.5 0 0 0 12.5 7z"/><circle cx="12" cy="19" r=".5"/></svg>\n
                                                        <span class="hidden xl:inline">Mặt cắt ngang</span>\n
                                                    </div>\n
                                                                                                    </a>\n
                                                                                            </li>\n
                                                                                    <li  class="group relative">\n
                                                <a class="flex items-center justify-between px-4 py-2 text-sm text-slate-300 hover:text-white hover:bg-slate-700 rounded transition "\n
                                                    href="http://localhost/geographical/list-monitoring">\n
                                                   <div class="flex items-center gap-2">\n
                                                        <svg class="lucide w-5 h-5 mr-2" xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24"><path d="M12 22a10 10 0 1 0-10-10a10.011 10.011 0 0 0 10 10z"/><path d="M12.5 7h-1a1.5 1.5 0 0 0-1.5 1.5v6A1.5 1.5 0 0 0 11.5 16h1a1.5 1.5 0 0 0 .5-2.9V9.9A1.5 1.5 0 0 0 12.5 7z"/><circle cx="12" cy="19" r=".5"/></svg>\n
                                                        <span class="hidden xl:inline">Mốc quan trắc</span>\n
                                                    </div>\n
                                                                                                    </a>\n
                                                                                            </li>\n
                                                                            </ul>\n
                                                            </li>\n
                                                                                                <li>\n
                                <a class="flex items-center justify-between px-4 py-3 hover:bg-white hover:text-black text-white transition rounded cursor-pointer "\n
                                    href="http://localhost/map">\n
                                    \n
                                    <div class="flex items-center gap-2" title="Bản Đồ">\n
                                        <div title="Bản Đồ"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-map-icon lucide-map"><path d="M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z"/><path d="M15 5.764v15"/><path d="M9 3.236v15"/></svg></div>\n
                                        <span class="hidden xl:inline" >Bản Đồ</span>\n
                                    </div>\n
\n
                                                                    </a>\n
                                                            </li>\n
                                                                                                <li>\n
                                <a class="flex items-center justify-between px-4 py-3 hover:bg-white hover:text-black text-white transition rounded cursor-pointer "\n
                                    href="http://localhost/chat">\n
                                    \n
                                    <div class="flex items-center gap-2" title="Tham gia cộng đồng">\n
                                        <div title="Tham gia cộng đồng"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-message-circle-icon lucide-message-circle"><path d="M7.9 20A9 9 0 1 0 4 16.1L2 22Z"/></svg></div>\n
                                        <span class="hidden xl:inline" >Tham gia cộng đồng</span>\n
                                    </div>\n
\n
                                                                    </a>\n
                                                            </li>\n
                                                                                                <li>\n
                                <a class="flex items-center justify-between px-4 py-3 hover:bg-white hover:text-black text-white transition rounded cursor-pointer "\n
                                    href="http://localhost/incident-report">\n
                                    \n
                                    <div class="flex items-center gap-2" title="Báo cáo sự cố">\n
                                        <div title="Báo cáo sự cố"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-message-square-warning-icon lucide-message-square-warning"><path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"/><path d="M12 7v2"/><path d="M12 13h.01"/></svg></div>\n
                                        <span class="hidden xl:inline" >Báo cáo sự cố</span>\n
                                    </div>\n
\n
                                                                    </a>\n
                                                            </li>\n
                                                                \n
                                </ul>\n
            </nav>\n
            <div class="md:max-w-auto overflow-x-hidden overflow-y-auto max-h-[100vh] min-w-0 max-w-full flex-1 rounded-[30px] bg-slate-100 px-4 pb-10 before:block before:h-px before:w-full before:content-[''] md:px-[22px]">\n
                <div class="relative sticky top-0 z-2 flex items-center h-[68px] px-4 border-b border-slate-100 bg-slate-100">\n
  \n
                    <div class="mr-auto"> \n
                       <div class="rounded-[8px] overflow-hidden w-[200px] md:w-[325px] h-[40px] bg-[#1E3A8A] border-[2px] border-[#133086] shadow-[0_2px_6px_rgba(0,0,0,0.1)] flex items-center justify-center">\n
                  \n
                    <iframe src="https://thoitiet247.vn/widget/embed/ca-mau?style=6&day=7&td=%232e0000&ntd=%231e3a8a&mvb=%23000205&mv=%231e3a8a&mdk=%23000000&htd=true" \n
                        id="widgeturl" class = "w-[200px] md:w-[325px]" height="55px" scrolling="no" frameborder="0" allowtransparency="true" style="border:none;overflow:hidden;"></iframe><!-- End thoitiet.app widget -->\n
                    </div>\n
\n
                    </div>\n
                    \n
                    <div class="relative flex items-center gap-2">\n
                                                \n
                            <div class="relative mr-4">\n
                                <a href="javascript:void(0)" onclick="openNotification()" class="relative">\n
                                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="#dfc207" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-bell-icon lucide-bell"><path d="M10.268 21a2 2 0 0 0 3.464 0"/><path d="M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326"/></svg>\n
\n
                                    <!-- Badge đỏ số lượng -->\n
                                                                    </a>\n
                                \n
\n
                                <!-- Dropdown thông báo -->\n
                                <div class="absolute right-0 mt-2 w-80 bg-white border rounded shadow z-50 hidden" id="notification-dropdown">\n
                                    <ul class="divide-y divide-gray-100 max-h-80 overflow-y-auto">\n
                                                                                    <li class="p-3 text-sm text-gray-500">Không có thông báo nào</li>\n
                                                                            </ul>\n
                                </div>\n
                            </div>\n
\n
                            <button type="button" style="all: unset" id="user-menu-button" aria-expanded="false">\n
                                <svg class="lucide w-5 h-5 mr-2" xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24"><circle cx="12" cy="12" r="10"/><path d="M16 16a4 4 0 0 0-8 0v2a4 4 0 0 0 8 0z"/><circle cx="12" cy="9" r="3"/></svg>\n
                            </button>\n
\n
                            <div class="hidden absolute right-0 mt-2 w-48 z-1 text-base bg-white divide-y divide-gray-100 rounded-lg shadow-lg" id="user-dropdown">\n
                                <div class="px-4 py-3">\n
                                    <span class="block text-sm text-gray-900">Tên: Cathrine Murray</span>\n
                                    <span class="block text-sm text-gray-500 truncate">Tên đăng nhập: edubuque</span>\n
                                </div>\n
                                <ul class="py-2" aria-labelledby="user-menu-button">\n
                                    <li>\n
                                        <a href="http://localhost/edit-profile" class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100">Hồ sơ</a>\n
                                    </li>\n
                                   \n
                                    <li>\n
                                        <a href="http://localhost/logout" class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100">Đăng xuất</a>\n
                                    </li>\n
                                </ul>\n
                            </div>\n
                        \n
                                            </div>\n
                </div>\n
                \n
                    <div class="intro-y mt-5  flex items-center justify-between">\n
        <div class="flex items-center text-lg font-medium uppercase">\n
            <svg class="lucide w-5 h-5 mr-2" xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24"><path d="M16 21v-2a4 4 0 0 0-8 0v2"/><circle cx="12" cy="7" r="4"/></svg>\n
            Danh Sách CÁN BỘ\n
        </div>\n
        <a class="flex items-center text-primary" href="http://localhost/list-user">\n
            <svg class="lucide w-5 h-5 mr-2" xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24"><path d="M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8"/><path d="M3 3v5h5"/><path d="M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16"/><path d="M16 16h5v5"/></svg> Tải lại dữ liệu\n
        </a>\n
    </div>\n
        <div class="mt-5 grid grid-cols-12 gap-6">\n
        <div class="intro-y col-span-12 flex flex-wrap items-start gap-3">\n
            \n
            <form action="http://localhost/list-user" method="GET" class="flex flex-wrap items-center gap-3 grow">\n
                \n
                <div class="relative">\n
                    <div class="absolute inset-y-0 start-0 flex items-center ps-3 pointer-events-none">\n
                        <svg class="lucide w-5 h-5 mr-2" xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24"><circle cx="11" cy="11" r="8"/><path d="M21 21l-4.35-4.35"/></svg>\n
                    </div>\n
                    <input type="text" name="name" placeholder="Tên người dùng..." value="Test"\n
                            class="block w-full p-4 ps-10 text-sm text-gray-900 border border-gray-300 rounded-lg bg-gray-50 focus:ring-blue-500 focus:border-blue-500" />\n
                </div>\n
\n
                <button type="submit"\n
                    class="h-10 bg-blue-600 hover:bg-blue-700 text-white font-medium px-4 py-2 rounded-lg shadow-md transition-all">\n
                    Tìm kiếm\n
                </button>\n
            </form>\n
            <a href="http://localhost/create-user">\n
                <button type="button" class="text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center inline-flex items-center me-2">\n
                    <svg class="lucide w-5 h-5 mr-2" xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24"><circle cx="12" cy="12" r="10"/><path d="M12 8v8"/><path d="M8 12h8"/></svg> Thêm mới người dùng\n
                </button>\n
            </a>\n
            <form action="http://localhost/import-users" method="POST" enctype="multipart/form-data" formInline>\n
                <input type="hidden" name="_token" value="K2ZIQyPaSnIJDGpHCDgNs5CXym9EXutcaBlBWCJN" autocomplete="off">\n
               <div class="flex items-center gap-2">\n
                    <input type="file" id="fileImport" name="fileImport" accept=".xls,.xlsx"\n
                        class="block w-[200px] text-sm text-gray-900\n
                        file:mr-2 file:py-1 file:px-3\n
                        file:rounded file:border-0\n
                        file:text-sm file:font-medium\n
                        file:bg-blue-100 file:text-blue-700 file:w-[60px]\n
                        hover:file:bg-blue-200 border border-gray-300 rounded-md">\n
\n
                <button type="submit"\n
                    class="text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 focus:outline-none">\n
                    Thêm nhiều người dùng\n
                </button>\n
            </div>\n
            </form> \n
\n
        </div>\n
        \n
        <div\n
            class="intro-y col-span-3 overflow-auto lg:overflow-visible text-base text-gray-800  bg-gray-300 rounded-md px-4 py-2 shadow-sm text-center">\n
            Tổng số người dùng: <span class="font-semibold">0</span>\n
        </div>\n
\n
        <div class="intro-y col-span-12 overflow-auto lg:overflow-x-auto">\n
            <form action="http://localhost/delete-multiple-user" method="POST">\n
            <input type="hidden" name="_token" value="K2ZIQyPaSnIJDGpHCDgNs5CXym9EXutcaBlBWCJN" autocomplete="off">            <input type="hidden" name="_method" value="DELETE">             \n
            <button type="button" onclick="openDeleteMultipleModal()" class="bg-red-700 z-1 sticky left-0" id="delete-multiple-btn" disabled>\n
                <svg class="lucide w-5 h-5 mr-2" xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24"><polyline points="3 6 5 6 21 6"/><path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6"/><path d="M10 11v6"/><path d="M14 11v6"/><path d="M16.5 6l-1.5-4h-4l-1.5 4"/></svg> Xoá (<span id="selected-count">0</span>)\n
            </button>\n
         \n
            <table class="mt-2 border-separate border-spacing-y-[10px]">\n
                <thead class="text-gray-700 uppercase bg-blue-100">\n
                    <tr>\n
                        <th class="sticky left-0 z-1 bg-blue-100 w-[40px] min-w-[40px] max-w-[40px] px-1 text-center"><input type="checkbox" id="selectAll" class="block mx-auto"></th>\n
                        <th class="sticky left-[10px] z-1 bg-blue-100 whitespace-nowrap px-4 py-4 ">Tên người dùng</th>\n
                        <th scope="col"class="px-6 py-4 whitespace-nowrap min-w-[160px]">Tên đăng nhập</th>\n
                        <th scope="col"class="px-6 py-4 whitespace-nowrap min-w-[160px]">Email</th>\n
                        <th scope="col"class="px-6 py-4 whitespace-nowrap min-w-[160px]">Hành động</th>\n
                    </tr>\n
                </thead>\n
                <tbody>\n
                                        <tr>\n
                        <td colspan="11" class="text-center py-6">\n
                            <div class="flex flex-col items-center justify-center text-slate-500">\n
                                <svg class="lucide w-5 h-5 mr-2" xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24"><circle cx="12" cy="12" r="10"/><path d="M16 16a4 4 0 0 0-8 0"/><path d="M9 9h.01"/><path d="M15 9h.01"/></svg>\n
                                <div class="mt-2 text-lg">Hiện tại không có dữ liệu</div>\n
                            </div>\n
                        </td>\n
                    </tr>\n
                                </tbody>\n
            </table>\n
\n
            </form>\n
        </div>\n
\n
    </div>\n
\n
    <div class="intro-y col-span-12 overflow-auto lg:overflow-visible">\n
        \n
    </div>\n
    </div>\n
    <div class="fixed inset-0 z-50 hidden" id="delete-confirmation-modal" aria-modal="true">\r\n
    <div class="fixed inset-0 bg-black/50"></div>\r\n
    <div class="flex min-h-screen items-center justify-center">\r\n
        <div class="bg-white rounded-lg shadow-xl w-full max-w-md z-50 p-6">\r\n
            <div class="flex items-start space-x-3">\r\n
                <div class="text-red-500">\r\n
                    <svg class="lucide w-5 h-5 mr-2" xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24"><circle cx="12" cy="12" r="10"/><path d="M12 8v4"/><path d="M12 16h.01"/></svg>\r\n
                </div>\r\n
                <div>\r\n
                    <h3 class="text-lg font-semibold text-gray-900">Xác nhận xoá</h3>\r\n
                    <p class="mt-1 text-sm text-gray-600">Xác nhận xóa dữ liệu này?</p>\r\n
                </div>\r\n
            </div>\r\n
\r\n
            <div class="mt-6 flex justify-end space-x-2">\r\n
                <button type="button" onclick="closeDeleteModal()" class="bg-white px-4 py-2 rounded border text-gray-700 hover:bg-gray-100">\r\n
                    Hủy\r\n
                </button>\r\n
                <a href="#" id="confirm-delete"\r\n
                    class="px-4 py-2 rounded bg-red-600 text-white hover:bg-red-700">\r\n
                    Xoá\r\n
                </a>\r\n
            </div>\r\n
        </div>\r\n
    </div>\r\n
</div>    <div class="fixed inset-0 z-50 hidden" id="delete-multiple-confirmation-modal" aria-modal="true">\r\n
    <div class="fixed inset-0 bg-black/50"></div>\r\n
    <div class="flex min-h-screen items-center justify-center">\r\n
        <div class="bg-white rounded-lg shadow-xl w-full max-w-md z-50 p-6">\r\n
            <div class="flex items-start space-x-3">\r\n
                <div class="text-red-500">\r\n
                    <svg class="lucide w-5 h-5 mr-2" xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24"><circle cx="12" cy="12" r="10"/><path d="M12 8v4"/><path d="M12 16h.01"/></svg>\r\n
                </div>\r\n
                <div>\r\n
                    <h3 class="text-lg font-semibold text-gray-900">Xác nhận xoá nhiều </h3>\r\n
                    <p class="mt-1 text-sm text-gray-600">Xác nhận xóa dữ liệu này?</p>\r\n
                </div>\r\n
            </div>\r\n
\r\n
            <div class="mt-6 flex justify-end space-x-2">\r\n
                <button type="button" onclick="closeDeleteMultipleModal()"\r\n
                        class="bg-white px-4 py-2 rounded border text-gray-700 hover:bg-gray-100">\r\n
                    Hủy\r\n
                </button>\r\n
                <a href="#" id="confirm-delete-multiple"\r\n
                    class="px-4 py-2 rounded bg-red-600 text-white hover:bg-red-700">\r\n
                    Xoá\r\n
                </a>\r\n
            </div>\r\n
        </div>\r\n
    </div>\r\n
</div>\r\n
\r\n
    <script type="module" src="http://[::1]:5173/@vite/client"></script><script type="module" src="http://[::1]:5173/resources/js/confirm-delete.js"></script>   \n
\n
\n
            </div>\n
        </div>\n
    </div>\n
\n
</body>\n
\n
</html>\n
\n
<script>\n
    function openNotification() {\n
        console.log('openNotification');\n
        const dropdown = document.getElementById('notification-dropdown');\n
        if (dropdown) {\n
            dropdown.classList.toggle('hidden');\n
            \n
            // Nếu dropdown đang hiển thị, đánh dấu tất cả thông báo đã đọc\n
            if (!dropdown.classList.contains('hidden')) {\n
                markNotificationsAsRead();\n
            }\n
        }\n
    }\n
\n
    function markNotificationsAsRead() {\n
        // Gửi request để đánh dấu thông báo đã đọc\n
        fetch('/mark-notifications-as-read', {\n
            method: 'POST',\n
            headers: {\n
                'X-CSRF-TOKEN': document.querySelector('meta[name="csrf-token"]').getAttribute('content'),\n
                'Content-Type': 'application/json',\n
            },\n
        })\n
        .then(response => response.json())\n
        .then(data => {\n
            if (data.success) {\n
                // Ẩn badge số lượng thông báo\n
                const badge = document.getElementById('notification-badge');\n
                if (badge) {\n
                    badge.style.display = 'none';\n
                }\n
            }\n
        })\n
        .catch(error => {\n
            console.error('Error marking notifications as read:', error);\n
        });\n
    }\n
\n
    function markNotificationAsRead(notificationId, element) {\n
        // Gửi request để đánh dấu một thông báo cụ thể đã đọc\n
        fetch('/mark-notification-as-read', {\n
            method: 'POST',\n
            headers: {\n
                'X-CSRF-TOKEN': document.querySelector('meta[name="csrf-token"]').getAttribute('content'),\n
                'Content-Type': 'application/json',\n
            },\n
            body: JSON.stringify({\n
                notification_id: notificationId\n
            })\n
        })\n
        .then(response => response.json())\n
        .then(data => {\n
            if (data.success) {\n
                // Cập nhật giao diện\n
                element.classList.remove('bg-blue-50', 'border-l-4', 'border-blue-500');\n
                element.classList.add('bg-white');\n
                \n
                // Cập nhật màu text\n
                const titleElement = element.querySelector('.font-semibold');\n
                const messageElement = element.querySelector('.text-blue-700');\n
                if (titleElement) titleElement.classList.remove('text-blue-900');\n
                if (messageElement) messageElement.classList.remove('text-blue-700');\n
                \n
                // Ẩn dot xanh\n
                const dotElement = element.querySelector('.bg-blue-500');\n
                if (dotElement) dotElement.style.display = 'none';\n
                \n
                // Cập nhật badge số lượng\n
                updateNotificationBadge();\n
            }\n
        })\n
        .catch(error => {\n
            console.error('Error marking notification as read:', error);\n
        });\n
    }\n
\n
    function updateNotificationBadge() {\n
        // Đếm số thông báo chưa đọc còn lại\n
        const unreadItems = document.querySelectorAll('.bg-blue-50');\n
        const badge = document.getElementById('notification-badge');\n
        \n
        if (badge) {\n
            if (unreadItems.length === 0) {\n
                badge.style.display = 'none';\n
            } else {\n
                badge.textContent = unreadItems.length;\n
                badge.style.display = 'inline-block';\n
            }\n
        }\n
    }\n
\n
    document.addEventListener("DOMContentLoaded", function () {\n
        const toggles = document.querySelectorAll('.toggle-submenu');\n
\n
        toggles.forEach(toggle => {\n
            toggle.addEventListener('click', function (e) {\n
                e.preventDefault();\n
                const submenu = this.nextElementSibling;\n
\n
                document.querySelectorAll('.submenu').forEach(sm => {\n
                    if (sm !== submenu) sm.classList.add('hidden');\n
                });\n
\n
                if (submenu && submenu.classList.contains('submenu')) {\n
                    submenu.classList.toggle('hidden');\n
                }\n
            });\n
        });\n
        \n
        const btn = document.getElementById('user-menu-button');\n
        const dropdown = document.getElementById('user-dropdown');\n
\n
        if (btn && dropdown) {\n
            btn.addEventListener('click', function (e) {\n
                e.stopPropagation();\n
                dropdown.classList.toggle('hidden');\n
            });\n
\n
            document.addEventListener('click', function (e) {\n
                if (!dropdown.classList.contains('hidden') &&\n
                    !dropdown.contains(e.target) &&\n
                    !btn.contains(e.target)) {\n
                    dropdown.classList.add('hidden');\n
                }\n
            });\n
        }\n
\n
        // Thêm event listener để đóng dropdown thông báo khi click ra ngoài\n
        document.addEventListener('click', function (e) {\n
            const notificationDropdown = document.getElementById('notification-dropdown');\n
            const notificationButton = document.querySelector('[onclick="openNotification()"]');\n
            \n
            if (notificationDropdown && !notificationDropdown.classList.contains('hidden') &&\n
                !notificationDropdown.contains(e.target) &&\n
                !notificationButton.contains(e.target)) {\n
                notificationDropdown.classList.add('hidden');\n
            }\n
        });\n
    });\n
</script>\n


  To contain: Test User

  at tests\Feature\UserManagementTest.php:168
    164▕         $response = $this->actingAs($user)
    165▕             ->get('/list-user?name=Test');
    166▕ 
    167▕         $response->assertStatus(200);
  ➜ 168▕         $response->assertSee('Test User');
    169▕         $response->assertDontSee('Another User');
    170▕     }
    171▕ 
    172▕     public function test_guest_cannot_access_user_management(): void


  Tests:    15 failed, 2 skipped, 117 passed (296 assertions)
  Duration: 13.04s

Time: 00:12.938, Memory: 68.00 MB

Administrative Management (Tests\Feature\AdministrativeManagement)
 ✔ Guest can view school list
 ✔ Guest can view medical list
 ✔ Guest can view center list
 ✔ Authenticated user can view create school form
 ✔ Authenticated user can view create medical form
 ✔ Authenticated user can view create center form
 ✔ Authenticated user can create new school
 ✔ Authenticated user can create new medical
 ✔ Authenticated user can create new center
 ✔ Cannot create administrative with duplicate name
 ✔ Authenticated user can view edit school form
 ✔ Authenticated user can update school
 ✔ Authenticated user can delete school
 ✔ Authenticated user can delete multiple schools
 ✔ School list can be searched
 ✔ Guest cannot access create school form
 ✔ Guest cannot access create medical form
 ✔ Guest cannot access create center form

Auth (Tests\Feature\Auth)
 ✔ User can view login page
 ✔ User can login with valid credentials
 ✔ User cannot login with invalid credentials
 ✔ User can logout
 ✔ User can view edit profile page
 ✔ User can update profile
 ✔ User cannot update profile with duplicate username

Authentication (Tests\Feature\Auth\Authentication)
 ✔ Login screen can be rendered
 ✔ Users can authenticate using the login screen
 ✔ Users can not authenticate with invalid password
 ✔ Users can logout

Basic (Tests\Feature\Basic)
 ✔ Homepage works
 ✔ Login page works
 ✔ User can login
 ✔ User can logout
 ✔ City management works
 ✔ User management works
 ✔ Incident report works
 ✔ Chat functionality works
 ✔ Guest can subscribe to disaster alerts
 ✔ Basic factories work
 ✔ Public pages are accessible

Calamity Management (Tests\Feature\CalamityManagement)
 ✘ Guest can view flooding calamity list
   │
   │ Expected response status code [200] but received 500.
   │ Failed asserting that 500 is identical to 200.
   │
   │ The following exception occurred during the last request:
   │
   │ PDOException: SQLSTATE[HY000]: General error: 1 no such function: YEAR in D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Connection.php:404
   │ Stack trace:
   │ #0 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Connection.php(404): PDO->prepare()
   │ #1 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Connection.php(809): Illuminate\Database\Connection->Illuminate\Database\{closure}()
   │ #2 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Connection.php(776): Illuminate\Database\Connection->runQueryCallback()
   │ #3 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Connection.php(395): Illuminate\Database\Connection->run()
   │ #4 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Query\Builder.php(3131): Illuminate\Database\Connection->select()
   │ #5 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Query\Builder.php(3389): Illuminate\Database\Query\Builder->runSelect()
   │ #6 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Query\Builder.php(3706): Illuminate\Database\Query\Builder->Illuminate\Database\Query\{closure}()
   │ #7 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Query\Builder.php(3385): Illuminate\Database\Query\Builder->onceWithColumns()
   │ #8 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Eloquent\Builder.php(1052): Illuminate\Database\Query\Builder->pluck()
   │ #9 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\app\Http\Controllers\Calamities\FloodingCalamityController.php(82): Illuminate\Database\Eloquent\Builder->pluck()
   │ #10 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Routing\Controller.php(54): App\Http\Controllers\Calamities\FloodingCalamityController->index()
   │ #11 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Routing\ControllerDispatcher.php(43): Illuminate\Routing\Controller->callAction()
   │ #12 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Routing\Route.php(265): Illuminate\Routing\ControllerDispatcher->dispatch()
   │ #13 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Routing\Route.php(211): Illuminate\Routing\Route->runController()
   │ #14 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Routing\Router.php(808): Illuminate\Routing\Route->run()
   │ #15 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(169): Illuminate\Routing\Router->Illuminate\Routing\{closure}()
   │ #16 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Routing\Middleware\SubstituteBindings.php(50): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   │ #17 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Routing\Middleware\SubstituteBindings->handle()
   │ #18 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\VerifyCsrfToken.php(87): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   │ #19 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Foundation\Http\Middleware\VerifyCsrfToken->handle()
   │ #20 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\View\Middleware\ShareErrorsFromSession.php(48): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   │ #21 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\View\Middleware\ShareErrorsFromSession->handle()
   │ #22 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Session\Middleware\StartSession.php(120): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   │ #23 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Session\Middleware\StartSession.php(63): Illuminate\Session\Middleware\StartSession->handleStatefulRequest()
   │ #24 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Session\Middleware\StartSession->handle()
   │ #25 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Cookie\Middleware\AddQueuedCookiesToResponse.php(36): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   │ #26 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Cookie\Middleware\AddQueuedCookiesToResponse->handle()
   │ #27 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Cookie\Middleware\EncryptCookies.php(74): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   │ #28 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Cookie\Middleware\EncryptCookies->handle()
   │ #29 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(126): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   │ #30 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Routing\Router.php(807): Illuminate\Pipeline\Pipeline->then()
   │ #31 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Routing\Router.php(786): Illuminate\Routing\Router->runRouteWithinStack()
   │ #32 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Routing\Router.php(750): Illuminate\Routing\Router->runRoute()
   │ #33 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Routing\Router.php(739): Illuminate\Routing\Router->dispatchToRoute()
   │ #34 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Http\Kernel.php(200): Illuminate\Routing\Router->dispatch()
   │ #35 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(169): Illuminate\Foundation\Http\Kernel->Illuminate\Foundation\Http\{closure}()
   │ #36 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   │ #37 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\ConvertEmptyStringsToNull.php(31): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
   │ #38 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Foundation\Http\Middleware\ConvertEmptyStringsToNull->handle()
   │ #39 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   │ #40 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\TrimStrings.php(51): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
   │ #41 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Foundation\Http\Middleware\TrimStrings->handle()
   │ #42 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Http\Middleware\ValidatePostSize.php(27): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   │ #43 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Http\Middleware\ValidatePostSize->handle()
   │ #44 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\PreventRequestsDuringMaintenance.php(109): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   │ #45 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Foundation\Http\Middleware\PreventRequestsDuringMaintenance->handle()
   │ #46 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Http\Middleware\HandleCors.php(48): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   │ #47 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Http\Middleware\HandleCors->handle()
   │ #48 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Http\Middleware\TrustProxies.php(58): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   │ #49 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Http\Middleware\TrustProxies->handle()
   │ #50 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\InvokeDeferredCallbacks.php(22): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   │ #51 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Foundation\Http\Middleware\InvokeDeferredCallbacks->handle()
   │ #52 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Http\Middleware\ValidatePathEncoding.php(26): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   │ #53 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Http\Middleware\ValidatePathEncoding->handle()
   │ #54 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(126): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   │ #55 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Http\Kernel.php(175): Illuminate\Pipeline\Pipeline->then()
   │ #56 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Http\Kernel.php(144): Illuminate\Foundation\Http\Kernel->sendRequestThroughRouter()
   │ #57 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Testing\Concerns\MakesHttpRequests.php(607): Illuminate\Foundation\Http\Kernel->handle()
   │ #58 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Testing\Concerns\MakesHttpRequests.php(368): Illuminate\Foundation\Testing\TestCase->call()
   │ #59 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\tests\Feature\CalamityManagementTest.php(22): Illuminate\Foundation\Testing\TestCase->get()
   │ #60 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\phpunit\phpunit\src\Framework\TestCase.php(1656): Tests\Feature\CalamityManagementTest->test_guest_can_view_flooding_calamity_list()
   │ #61 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\phpunit\phpunit\src\Framework\TestCase.php(514): PHPUnit\Framework\TestCase->runTest()
   │ #62 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\phpunit\phpunit\src\Framework\TestRunner\TestRunner.php(87): PHPUnit\Framework\TestCase->runBare()
   │ #63 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\phpunit\phpunit\src\Framework\TestCase.php(361): PHPUnit\Framework\TestRunner->run()
   │ #64 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\phpunit\phpunit\src\Framework\TestSuite.php(369): PHPUnit\Framework\TestCase->run()
   │ #65 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\phpunit\phpunit\src\Framework\TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
   │ #66 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\phpunit\phpunit\src\Framework\TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
   │ #67 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\phpunit\phpunit\src\TextUI\TestRunner.php(64): PHPUnit\Framework\TestSuite->run()
   │ #68 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\phpunit\phpunit\src\TextUI\Application.php(210): PHPUnit\TextUI\TestRunner->run()
   │ #69 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\phpunit\phpunit\phpunit(104): PHPUnit\TextUI\Application->run()
   │ #70 {main}
   │
   │ Next Illuminate\Database\QueryException: SQLSTATE[HY000]: General error: 1 no such function: YEAR (Connection: sqlite, SQL: select distinct YEAR(time_start) as year from "calamities" where exists (select * from "risk_levels" where "calamities"."risk_level_id" = "risk_levels"."id" and exists (select * from "type_of_calamities" where "risk_levels"."type_of_calamity_id" = "type_of_calamities"."id" and "slug" = ngap-lut)) order by "year" desc) in D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Connection.php:822
   │ Stack trace:
   │ #0 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Connection.php(776): Illuminate\Database\Connection->runQueryCallback()
   │ #1 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Connection.php(395): Illuminate\Database\Connection->run()
   │ #2 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Query\Builder.php(3131): Illuminate\Database\Connection->select()
   │ #3 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Query\Builder.php(3389): Illuminate\Database\Query\Builder->runSelect()
   │ #4 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Query\Builder.php(3706): Illuminate\Database\Query\Builder->Illuminate\Database\Query\{closure}()
   │ #5 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Query\Builder.php(3385): Illuminate\Database\Query\Builder->onceWithColumns()
   │ #6 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Eloquent\Builder.php(1052): Illuminate\Database\Query\Builder->pluck()
   │ #7 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\app\Http\Controllers\Calamities\FloodingCalamityController.php(82): Illuminate\Database\Eloquent\Builder->pluck()
   │ #8 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Routing\Controller.php(54): App\Http\Controllers\Calamities\FloodingCalamityController->index()
   │ #9 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Routing\ControllerDispatcher.php(43): Illuminate\Routing\Controller->callAction()
   │ #10 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Routing\Route.php(265): Illuminate\Routing\ControllerDispatcher->dispatch()
   │ #11 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Routing\Route.php(211): Illuminate\Routing\Route->runController()
   │ #12 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Routing\Router.php(808): Illuminate\Routing\Route->run()
   │ #13 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(169): Illuminate\Routing\Router->Illuminate\Routing\{closure}()
   │ #14 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Routing\Middleware\SubstituteBindings.php(50): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   │ #15 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Routing\Middleware\SubstituteBindings->handle()
   │ #16 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\VerifyCsrfToken.php(87): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   │ #17 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Foundation\Http\Middleware\VerifyCsrfToken->handle()
   │ #18 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\View\Middleware\ShareErrorsFromSession.php(48): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   │ #19 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\View\Middleware\ShareErrorsFromSession->handle()
   │ #20 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Session\Middleware\StartSession.php(120): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   │ #21 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Session\Middleware\StartSession.php(63): Illuminate\Session\Middleware\StartSession->handleStatefulRequest()
   │ #22 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Session\Middleware\StartSession->handle()
   │ #23 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Cookie\Middleware\AddQueuedCookiesToResponse.php(36): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   │ #24 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Cookie\Middleware\AddQueuedCookiesToResponse->handle()
   │ #25 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Cookie\Middleware\EncryptCookies.php(74): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   │ #26 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Cookie\Middleware\EncryptCookies->handle()
   │ #27 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(126): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   │ #28 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Routing\Router.php(807): Illuminate\Pipeline\Pipeline->then()
   │ #29 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Routing\Router.php(786): Illuminate\Routing\Router->runRouteWithinStack()
   │ #30 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Routing\Router.php(750): Illuminate\Routing\Router->runRoute()
   │ #31 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Routing\Router.php(739): Illuminate\Routing\Router->dispatchToRoute()
   │ #32 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Http\Kernel.php(200): Illuminate\Routing\Router->dispatch()
   │ #33 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(169): Illuminate\Foundation\Http\Kernel->Illuminate\Foundation\Http\{closure}()
   │ #34 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   │ #35 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\ConvertEmptyStringsToNull.php(31): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
   │ #36 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Foundation\Http\Middleware\ConvertEmptyStringsToNull->handle()
   │ #37 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   │ #38 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\TrimStrings.php(51): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
   │ #39 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Foundation\Http\Middleware\TrimStrings->handle()
   │ #40 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Http\Middleware\ValidatePostSize.php(27): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   │ #41 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Http\Middleware\ValidatePostSize->handle()
   │ #42 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\PreventRequestsDuringMaintenance.php(109): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   │ #43 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Foundation\Http\Middleware\PreventRequestsDuringMaintenance->handle()
   │ #44 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Http\Middleware\HandleCors.php(48): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   │ #45 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Http\Middleware\HandleCors->handle()
   │ #46 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Http\Middleware\TrustProxies.php(58): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   │ #47 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Http\Middleware\TrustProxies->handle()
   │ #48 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\InvokeDeferredCallbacks.php(22): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   │ #49 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Foundation\Http\Middleware\InvokeDeferredCallbacks->handle()
   │ #50 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Http\Middleware\ValidatePathEncoding.php(26): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   │ #51 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Http\Middleware\ValidatePathEncoding->handle()
   │ #52 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(126): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   │ #53 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Http\Kernel.php(175): Illuminate\Pipeline\Pipeline->then()
   │ #54 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Http\Kernel.php(144): Illuminate\Foundation\Http\Kernel->sendRequestThroughRouter()
   │ #55 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Testing\Concerns\MakesHttpRequests.php(607): Illuminate\Foundation\Http\Kernel->handle()
   │ #56 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Testing\Concerns\MakesHttpRequests.php(368): Illuminate\Foundation\Testing\TestCase->call()
   │ #57 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\tests\Feature\CalamityManagementTest.php(22): Illuminate\Foundation\Testing\TestCase->get()
   │ #58 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\phpunit\phpunit\src\Framework\TestCase.php(1656): Tests\Feature\CalamityManagementTest->test_guest_can_view_flooding_calamity_list()
   │ #59 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\phpunit\phpunit\src\Framework\TestCase.php(514): PHPUnit\Framework\TestCase->runTest()
   │ #60 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\phpunit\phpunit\src\Framework\TestRunner\TestRunner.php(87): PHPUnit\Framework\TestCase->runBare()
   │ #61 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\phpunit\phpunit\src\Framework\TestCase.php(361): PHPUnit\Framework\TestRunner->run()
   │ #62 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\phpunit\phpunit\src\Framework\TestSuite.php(369): PHPUnit\Framework\TestCase->run()
   │ #63 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\phpunit\phpunit\src\Framework\TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
   │ #64 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\phpunit\phpunit\src\Framework\TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
   │ #65 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\phpunit\phpunit\src\TextUI\TestRunner.php(64): PHPUnit\Framework\TestSuite->run()
   │ #66 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\phpunit\phpunit\src\TextUI\Application.php(210): PHPUnit\TextUI\TestRunner->run()
   │ #67 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\phpunit\phpunit\phpunit(104): PHPUnit\TextUI\Application->run()
   │ #68 {main}
   │
   │ ----------------------------------------------------------------------------------
   │
   │ SQLSTATE[HY000]: General error: 1 no such function: YEAR (Connection: sqlite, SQL: select distinct YEAR(time_start) as year from "calamities" where exists (select * from "risk_levels" where "calamities"."risk_level_id" = "risk_levels"."id" and exists (select * from "type_of_calamities" where "risk_levels"."type_of_calamity_id" = "type_of_calamities"."id" and "slug" = ngap-lut)) order by "year" desc)
   │
   │ D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Testing\TestResponseAssert.php:45
   │ D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Testing\TestResponse.php:174
   │ D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\tests\Feature\CalamityManagementTest.php:23
   │
 ✘ Guest can view storm calamity list
   │
   │ Expected response status code [200] but received 500.
   │ Failed asserting that 500 is identical to 200.
   │
   │ The following exception occurred during the last request:
   │
   │ PDOException: SQLSTATE[HY000]: General error: 1 no such function: YEAR in D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Connection.php:404
   │ Stack trace:
   │ #0 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Connection.php(404): PDO->prepare()
   │ #1 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Connection.php(809): Illuminate\Database\Connection->Illuminate\Database\{closure}()
   │ #2 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Connection.php(776): Illuminate\Database\Connection->runQueryCallback()
   │ #3 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Connection.php(395): Illuminate\Database\Connection->run()
   │ #4 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Query\Builder.php(3131): Illuminate\Database\Connection->select()
   │ #5 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Query\Builder.php(3389): Illuminate\Database\Query\Builder->runSelect()
   │ #6 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Query\Builder.php(3706): Illuminate\Database\Query\Builder->Illuminate\Database\Query\{closure}()
   │ #7 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Query\Builder.php(3385): Illuminate\Database\Query\Builder->onceWithColumns()
   │ #8 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Eloquent\Builder.php(1052): Illuminate\Database\Query\Builder->pluck()
   │ #9 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\app\Http\Controllers\Calamities\StormCalamityController.php(83): Illuminate\Database\Eloquent\Builder->pluck()
   │ #10 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Routing\Controller.php(54): App\Http\Controllers\Calamities\StormCalamityController->index()
   │ #11 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Routing\ControllerDispatcher.php(43): Illuminate\Routing\Controller->callAction()
   │ #12 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Routing\Route.php(265): Illuminate\Routing\ControllerDispatcher->dispatch()
   │ #13 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Routing\Route.php(211): Illuminate\Routing\Route->runController()
   │ #14 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Routing\Router.php(808): Illuminate\Routing\Route->run()
   │ #15 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(169): Illuminate\Routing\Router->Illuminate\Routing\{closure}()
   │ #16 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Routing\Middleware\SubstituteBindings.php(50): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   │ #17 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Routing\Middleware\SubstituteBindings->handle()
   │ #18 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\VerifyCsrfToken.php(87): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   │ #19 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Foundation\Http\Middleware\VerifyCsrfToken->handle()
   │ #20 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\View\Middleware\ShareErrorsFromSession.php(48): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   │ #21 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\View\Middleware\ShareErrorsFromSession->handle()
   │ #22 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Session\Middleware\StartSession.php(120): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   │ #23 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Session\Middleware\StartSession.php(63): Illuminate\Session\Middleware\StartSession->handleStatefulRequest()
   │ #24 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Session\Middleware\StartSession->handle()
   │ #25 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Cookie\Middleware\AddQueuedCookiesToResponse.php(36): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   │ #26 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Cookie\Middleware\AddQueuedCookiesToResponse->handle()
   │ #27 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Cookie\Middleware\EncryptCookies.php(74): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   │ #28 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Cookie\Middleware\EncryptCookies->handle()
   │ #29 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(126): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   │ #30 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Routing\Router.php(807): Illuminate\Pipeline\Pipeline->then()
   │ #31 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Routing\Router.php(786): Illuminate\Routing\Router->runRouteWithinStack()
   │ #32 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Routing\Router.php(750): Illuminate\Routing\Router->runRoute()
   │ #33 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Routing\Router.php(739): Illuminate\Routing\Router->dispatchToRoute()
   │ #34 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Http\Kernel.php(200): Illuminate\Routing\Router->dispatch()
   │ #35 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(169): Illuminate\Foundation\Http\Kernel->Illuminate\Foundation\Http\{closure}()
   │ #36 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   │ #37 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\ConvertEmptyStringsToNull.php(31): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
   │ #38 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Foundation\Http\Middleware\ConvertEmptyStringsToNull->handle()
   │ #39 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   │ #40 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\TrimStrings.php(51): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
   │ #41 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Foundation\Http\Middleware\TrimStrings->handle()
   │ #42 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Http\Middleware\ValidatePostSize.php(27): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   │ #43 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Http\Middleware\ValidatePostSize->handle()
   │ #44 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\PreventRequestsDuringMaintenance.php(109): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   │ #45 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Foundation\Http\Middleware\PreventRequestsDuringMaintenance->handle()
   │ #46 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Http\Middleware\HandleCors.php(48): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   │ #47 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Http\Middleware\HandleCors->handle()
   │ #48 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Http\Middleware\TrustProxies.php(58): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   │ #49 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Http\Middleware\TrustProxies->handle()
   │ #50 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\InvokeDeferredCallbacks.php(22): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   │ #51 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Foundation\Http\Middleware\InvokeDeferredCallbacks->handle()
   │ #52 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Http\Middleware\ValidatePathEncoding.php(26): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   │ #53 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Http\Middleware\ValidatePathEncoding->handle()
   │ #54 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(126): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   │ #55 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Http\Kernel.php(175): Illuminate\Pipeline\Pipeline->then()
   │ #56 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Http\Kernel.php(144): Illuminate\Foundation\Http\Kernel->sendRequestThroughRouter()
   │ #57 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Testing\Concerns\MakesHttpRequests.php(607): Illuminate\Foundation\Http\Kernel->handle()
   │ #58 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Testing\Concerns\MakesHttpRequests.php(368): Illuminate\Foundation\Testing\TestCase->call()
   │ #59 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\tests\Feature\CalamityManagementTest.php(28): Illuminate\Foundation\Testing\TestCase->get()
   │ #60 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\phpunit\phpunit\src\Framework\TestCase.php(1656): Tests\Feature\CalamityManagementTest->test_guest_can_view_storm_calamity_list()
   │ #61 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\phpunit\phpunit\src\Framework\TestCase.php(514): PHPUnit\Framework\TestCase->runTest()
   │ #62 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\phpunit\phpunit\src\Framework\TestRunner\TestRunner.php(87): PHPUnit\Framework\TestCase->runBare()
   │ #63 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\phpunit\phpunit\src\Framework\TestCase.php(361): PHPUnit\Framework\TestRunner->run()
   │ #64 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\phpunit\phpunit\src\Framework\TestSuite.php(369): PHPUnit\Framework\TestCase->run()
   │ #65 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\phpunit\phpunit\src\Framework\TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
   │ #66 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\phpunit\phpunit\src\Framework\TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
   │ #67 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\phpunit\phpunit\src\TextUI\TestRunner.php(64): PHPUnit\Framework\TestSuite->run()
   │ #68 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\phpunit\phpunit\src\TextUI\Application.php(210): PHPUnit\TextUI\TestRunner->run()
   │ #69 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\phpunit\phpunit\phpunit(104): PHPUnit\TextUI\Application->run()
   │ #70 {main}
   │
   │ Next Illuminate\Database\QueryException: SQLSTATE[HY000]: General error: 1 no such function: YEAR (Connection: sqlite, SQL: select distinct YEAR(time_start) as year from "calamities" where exists (select * from "risk_levels" where "calamities"."risk_level_id" = "risk_levels"."id" and exists (select * from "type_of_calamities" where "risk_levels"."type_of_calamity_id" = "type_of_calamities"."id" and "slug" = bao-ap-thap-nhiet-doi)) order by "year" desc) in D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Connection.php:822
   │ Stack trace:
   │ #0 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Connection.php(776): Illuminate\Database\Connection->runQueryCallback()
   │ #1 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Connection.php(395): Illuminate\Database\Connection->run()
   │ #2 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Query\Builder.php(3131): Illuminate\Database\Connection->select()
   │ #3 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Query\Builder.php(3389): Illuminate\Database\Query\Builder->runSelect()
   │ #4 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Query\Builder.php(3706): Illuminate\Database\Query\Builder->Illuminate\Database\Query\{closure}()
   │ #5 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Query\Builder.php(3385): Illuminate\Database\Query\Builder->onceWithColumns()
   │ #6 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Eloquent\Builder.php(1052): Illuminate\Database\Query\Builder->pluck()
   │ #7 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\app\Http\Controllers\Calamities\StormCalamityController.php(83): Illuminate\Database\Eloquent\Builder->pluck()
   │ #8 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Routing\Controller.php(54): App\Http\Controllers\Calamities\StormCalamityController->index()
   │ #9 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Routing\ControllerDispatcher.php(43): Illuminate\Routing\Controller->callAction()
   │ #10 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Routing\Route.php(265): Illuminate\Routing\ControllerDispatcher->dispatch()
   │ #11 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Routing\Route.php(211): Illuminate\Routing\Route->runController()
   │ #12 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Routing\Router.php(808): Illuminate\Routing\Route->run()
   │ #13 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(169): Illuminate\Routing\Router->Illuminate\Routing\{closure}()
   │ #14 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Routing\Middleware\SubstituteBindings.php(50): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   │ #15 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Routing\Middleware\SubstituteBindings->handle()
   │ #16 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\VerifyCsrfToken.php(87): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   │ #17 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Foundation\Http\Middleware\VerifyCsrfToken->handle()
   │ #18 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\View\Middleware\ShareErrorsFromSession.php(48): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   │ #19 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\View\Middleware\ShareErrorsFromSession->handle()
   │ #20 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Session\Middleware\StartSession.php(120): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   │ #21 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Session\Middleware\StartSession.php(63): Illuminate\Session\Middleware\StartSession->handleStatefulRequest()
   │ #22 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Session\Middleware\StartSession->handle()
   │ #23 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Cookie\Middleware\AddQueuedCookiesToResponse.php(36): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   │ #24 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Cookie\Middleware\AddQueuedCookiesToResponse->handle()
   │ #25 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Cookie\Middleware\EncryptCookies.php(74): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   │ #26 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Cookie\Middleware\EncryptCookies->handle()
   │ #27 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(126): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   │ #28 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Routing\Router.php(807): Illuminate\Pipeline\Pipeline->then()
   │ #29 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Routing\Router.php(786): Illuminate\Routing\Router->runRouteWithinStack()
   │ #30 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Routing\Router.php(750): Illuminate\Routing\Router->runRoute()
   │ #31 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Routing\Router.php(739): Illuminate\Routing\Router->dispatchToRoute()
   │ #32 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Http\Kernel.php(200): Illuminate\Routing\Router->dispatch()
   │ #33 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(169): Illuminate\Foundation\Http\Kernel->Illuminate\Foundation\Http\{closure}()
   │ #34 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   │ #35 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\ConvertEmptyStringsToNull.php(31): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
   │ #36 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Foundation\Http\Middleware\ConvertEmptyStringsToNull->handle()
   │ #37 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   │ #38 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\TrimStrings.php(51): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
   │ #39 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Foundation\Http\Middleware\TrimStrings->handle()
   │ #40 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Http\Middleware\ValidatePostSize.php(27): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   │ #41 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Http\Middleware\ValidatePostSize->handle()
   │ #42 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\PreventRequestsDuringMaintenance.php(109): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   │ #43 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Foundation\Http\Middleware\PreventRequestsDuringMaintenance->handle()
   │ #44 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Http\Middleware\HandleCors.php(48): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   │ #45 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Http\Middleware\HandleCors->handle()
   │ #46 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Http\Middleware\TrustProxies.php(58): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   │ #47 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Http\Middleware\TrustProxies->handle()
   │ #48 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\InvokeDeferredCallbacks.php(22): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   │ #49 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Foundation\Http\Middleware\InvokeDeferredCallbacks->handle()
   │ #50 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Http\Middleware\ValidatePathEncoding.php(26): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   │ #51 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Http\Middleware\ValidatePathEncoding->handle()
   │ #52 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(126): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   │ #53 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Http\Kernel.php(175): Illuminate\Pipeline\Pipeline->then()
   │ #54 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Http\Kernel.php(144): Illuminate\Foundation\Http\Kernel->sendRequestThroughRouter()
   │ #55 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Testing\Concerns\MakesHttpRequests.php(607): Illuminate\Foundation\Http\Kernel->handle()
   │ #56 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Testing\Concerns\MakesHttpRequests.php(368): Illuminate\Foundation\Testing\TestCase->call()
   │ #57 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\tests\Feature\CalamityManagementTest.php(28): Illuminate\Foundation\Testing\TestCase->get()
   │ #58 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\phpunit\phpunit\src\Framework\TestCase.php(1656): Tests\Feature\CalamityManagementTest->test_guest_can_view_storm_calamity_list()
   │ #59 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\phpunit\phpunit\src\Framework\TestCase.php(514): PHPUnit\Framework\TestCase->runTest()
   │ #60 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\phpunit\phpunit\src\Framework\TestRunner\TestRunner.php(87): PHPUnit\Framework\TestCase->runBare()
   │ #61 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\phpunit\phpunit\src\Framework\TestCase.php(361): PHPUnit\Framework\TestRunner->run()
   │ #62 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\phpunit\phpunit\src\Framework\TestSuite.php(369): PHPUnit\Framework\TestCase->run()
   │ #63 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\phpunit\phpunit\src\Framework\TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
   │ #64 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\phpunit\phpunit\src\Framework\TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
   │ #65 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\phpunit\phpunit\src\TextUI\TestRunner.php(64): PHPUnit\Framework\TestSuite->run()
   │ #66 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\phpunit\phpunit\src\TextUI\Application.php(210): PHPUnit\TextUI\TestRunner->run()
   │ #67 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\phpunit\phpunit\phpunit(104): PHPUnit\TextUI\Application->run()
   │ #68 {main}
   │
   │ ----------------------------------------------------------------------------------
   │
   │ SQLSTATE[HY000]: General error: 1 no such function: YEAR (Connection: sqlite, SQL: select distinct YEAR(time_start) as year from "calamities" where exists (select * from "risk_levels" where "calamities"."risk_level_id" = "risk_levels"."id" and exists (select * from "type_of_calamities" where "risk_levels"."type_of_calamity_id" = "type_of_calamities"."id" and "slug" = bao-ap-thap-nhiet-doi)) order by "year" desc)
   │
   │ D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Testing\TestResponseAssert.php:45
   │ D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Testing\TestResponse.php:174
   │ D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\tests\Feature\CalamityManagementTest.php:29
   │
 ✘ Guest can view river bank calamity list
   │
   │ Expected response status code [200] but received 500.
   │ Failed asserting that 500 is identical to 200.
   │
   │ The following exception occurred during the last request:
   │
   │ PDOException: SQLSTATE[HY000]: General error: 1 no such function: YEAR in D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Connection.php:404
   │ Stack trace:
   │ #0 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Connection.php(404): PDO->prepare()
   │ #1 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Connection.php(809): Illuminate\Database\Connection->Illuminate\Database\{closure}()
   │ #2 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Connection.php(776): Illuminate\Database\Connection->runQueryCallback()
   │ #3 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Connection.php(395): Illuminate\Database\Connection->run()
   │ #4 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Query\Builder.php(3131): Illuminate\Database\Connection->select()
   │ #5 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Query\Builder.php(3389): Illuminate\Database\Query\Builder->runSelect()
   │ #6 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Query\Builder.php(3706): Illuminate\Database\Query\Builder->Illuminate\Database\Query\{closure}()
   │ #7 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Query\Builder.php(3385): Illuminate\Database\Query\Builder->onceWithColumns()
   │ #8 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Eloquent\Builder.php(1052): Illuminate\Database\Query\Builder->pluck()
   │ #9 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\app\Http\Controllers\Calamities\RiverBankCalamityController.php(81): Illuminate\Database\Eloquent\Builder->pluck()
   │ #10 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Routing\Controller.php(54): App\Http\Controllers\Calamities\RiverBankCalamityController->index()
   │ #11 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Routing\ControllerDispatcher.php(43): Illuminate\Routing\Controller->callAction()
   │ #12 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Routing\Route.php(265): Illuminate\Routing\ControllerDispatcher->dispatch()
   │ #13 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Routing\Route.php(211): Illuminate\Routing\Route->runController()
   │ #14 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Routing\Router.php(808): Illuminate\Routing\Route->run()
   │ #15 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(169): Illuminate\Routing\Router->Illuminate\Routing\{closure}()
   │ #16 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Routing\Middleware\SubstituteBindings.php(50): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   │ #17 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Routing\Middleware\SubstituteBindings->handle()
   │ #18 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\VerifyCsrfToken.php(87): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   │ #19 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Foundation\Http\Middleware\VerifyCsrfToken->handle()
   │ #20 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\View\Middleware\ShareErrorsFromSession.php(48): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   │ #21 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\View\Middleware\ShareErrorsFromSession->handle()
   │ #22 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Session\Middleware\StartSession.php(120): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   │ #23 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Session\Middleware\StartSession.php(63): Illuminate\Session\Middleware\StartSession->handleStatefulRequest()
   │ #24 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Session\Middleware\StartSession->handle()
   │ #25 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Cookie\Middleware\AddQueuedCookiesToResponse.php(36): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   │ #26 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Cookie\Middleware\AddQueuedCookiesToResponse->handle()
   │ #27 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Cookie\Middleware\EncryptCookies.php(74): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   │ #28 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Cookie\Middleware\EncryptCookies->handle()
   │ #29 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(126): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   │ #30 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Routing\Router.php(807): Illuminate\Pipeline\Pipeline->then()
   │ #31 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Routing\Router.php(786): Illuminate\Routing\Router->runRouteWithinStack()
   │ #32 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Routing\Router.php(750): Illuminate\Routing\Router->runRoute()
   │ #33 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Routing\Router.php(739): Illuminate\Routing\Router->dispatchToRoute()
   │ #34 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Http\Kernel.php(200): Illuminate\Routing\Router->dispatch()
   │ #35 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(169): Illuminate\Foundation\Http\Kernel->Illuminate\Foundation\Http\{closure}()
   │ #36 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   │ #37 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\ConvertEmptyStringsToNull.php(31): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
   │ #38 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Foundation\Http\Middleware\ConvertEmptyStringsToNull->handle()
   │ #39 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   │ #40 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\TrimStrings.php(51): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
   │ #41 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Foundation\Http\Middleware\TrimStrings->handle()
   │ #42 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Http\Middleware\ValidatePostSize.php(27): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   │ #43 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Http\Middleware\ValidatePostSize->handle()
   │ #44 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\PreventRequestsDuringMaintenance.php(109): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   │ #45 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Foundation\Http\Middleware\PreventRequestsDuringMaintenance->handle()
   │ #46 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Http\Middleware\HandleCors.php(48): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   │ #47 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Http\Middleware\HandleCors->handle()
   │ #48 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Http\Middleware\TrustProxies.php(58): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   │ #49 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Http\Middleware\TrustProxies->handle()
   │ #50 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\InvokeDeferredCallbacks.php(22): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   │ #51 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Foundation\Http\Middleware\InvokeDeferredCallbacks->handle()
   │ #52 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Http\Middleware\ValidatePathEncoding.php(26): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   │ #53 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Http\Middleware\ValidatePathEncoding->handle()
   │ #54 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(126): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   │ #55 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Http\Kernel.php(175): Illuminate\Pipeline\Pipeline->then()
   │ #56 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Http\Kernel.php(144): Illuminate\Foundation\Http\Kernel->sendRequestThroughRouter()
   │ #57 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Testing\Concerns\MakesHttpRequests.php(607): Illuminate\Foundation\Http\Kernel->handle()
   │ #58 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Testing\Concerns\MakesHttpRequests.php(368): Illuminate\Foundation\Testing\TestCase->call()
   │ #59 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\tests\Feature\CalamityManagementTest.php(34): Illuminate\Foundation\Testing\TestCase->get()
   │ #60 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\phpunit\phpunit\src\Framework\TestCase.php(1656): Tests\Feature\CalamityManagementTest->test_guest_can_view_river_bank_calamity_list()
   │ #61 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\phpunit\phpunit\src\Framework\TestCase.php(514): PHPUnit\Framework\TestCase->runTest()
   │ #62 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\phpunit\phpunit\src\Framework\TestRunner\TestRunner.php(87): PHPUnit\Framework\TestCase->runBare()
   │ #63 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\phpunit\phpunit\src\Framework\TestCase.php(361): PHPUnit\Framework\TestRunner->run()
   │ #64 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\phpunit\phpunit\src\Framework\TestSuite.php(369): PHPUnit\Framework\TestCase->run()
   │ #65 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\phpunit\phpunit\src\Framework\TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
   │ #66 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\phpunit\phpunit\src\Framework\TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
   │ #67 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\phpunit\phpunit\src\TextUI\TestRunner.php(64): PHPUnit\Framework\TestSuite->run()
   │ #68 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\phpunit\phpunit\src\TextUI\Application.php(210): PHPUnit\TextUI\TestRunner->run()
   │ #69 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\phpunit\phpunit\phpunit(104): PHPUnit\TextUI\Application->run()
   │ #70 {main}
   │
   │ Next Illuminate\Database\QueryException: SQLSTATE[HY000]: General error: 1 no such function: YEAR (Connection: sqlite, SQL: select distinct YEAR(time) as year from "calamities" where exists (select * from "risk_levels" where "calamities"."risk_level_id" = "risk_levels"."id" and exists (select * from "type_of_calamities" where "risk_levels"."type_of_calamity_id" = "type_of_calamities"."id" and "slug" = sat-lo-bo-song-bo-bien)) order by "year" desc) in D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Connection.php:822
   │ Stack trace:
   │ #0 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Connection.php(776): Illuminate\Database\Connection->runQueryCallback()
   │ #1 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Connection.php(395): Illuminate\Database\Connection->run()
   │ #2 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Query\Builder.php(3131): Illuminate\Database\Connection->select()
   │ #3 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Query\Builder.php(3389): Illuminate\Database\Query\Builder->runSelect()
   │ #4 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Query\Builder.php(3706): Illuminate\Database\Query\Builder->Illuminate\Database\Query\{closure}()
   │ #5 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Query\Builder.php(3385): Illuminate\Database\Query\Builder->onceWithColumns()
   │ #6 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Eloquent\Builder.php(1052): Illuminate\Database\Query\Builder->pluck()
   │ #7 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\app\Http\Controllers\Calamities\RiverBankCalamityController.php(81): Illuminate\Database\Eloquent\Builder->pluck()
   │ #8 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Routing\Controller.php(54): App\Http\Controllers\Calamities\RiverBankCalamityController->index()
   │ #9 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Routing\ControllerDispatcher.php(43): Illuminate\Routing\Controller->callAction()
   │ #10 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Routing\Route.php(265): Illuminate\Routing\ControllerDispatcher->dispatch()
   │ #11 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Routing\Route.php(211): Illuminate\Routing\Route->runController()
   │ #12 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Routing\Router.php(808): Illuminate\Routing\Route->run()
   │ #13 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(169): Illuminate\Routing\Router->Illuminate\Routing\{closure}()
   │ #14 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Routing\Middleware\SubstituteBindings.php(50): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   │ #15 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Routing\Middleware\SubstituteBindings->handle()
   │ #16 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\VerifyCsrfToken.php(87): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   │ #17 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Foundation\Http\Middleware\VerifyCsrfToken->handle()
   │ #18 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\View\Middleware\ShareErrorsFromSession.php(48): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   │ #19 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\View\Middleware\ShareErrorsFromSession->handle()
   │ #20 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Session\Middleware\StartSession.php(120): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   │ #21 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Session\Middleware\StartSession.php(63): Illuminate\Session\Middleware\StartSession->handleStatefulRequest()
   │ #22 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Session\Middleware\StartSession->handle()
   │ #23 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Cookie\Middleware\AddQueuedCookiesToResponse.php(36): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   │ #24 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Cookie\Middleware\AddQueuedCookiesToResponse->handle()
   │ #25 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Cookie\Middleware\EncryptCookies.php(74): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   │ #26 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Cookie\Middleware\EncryptCookies->handle()
   │ #27 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(126): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   │ #28 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Routing\Router.php(807): Illuminate\Pipeline\Pipeline->then()
   │ #29 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Routing\Router.php(786): Illuminate\Routing\Router->runRouteWithinStack()
   │ #30 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Routing\Router.php(750): Illuminate\Routing\Router->runRoute()
   │ #31 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Routing\Router.php(739): Illuminate\Routing\Router->dispatchToRoute()
   │ #32 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Http\Kernel.php(200): Illuminate\Routing\Router->dispatch()
   │ #33 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(169): Illuminate\Foundation\Http\Kernel->Illuminate\Foundation\Http\{closure}()
   │ #34 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   │ #35 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\ConvertEmptyStringsToNull.php(31): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
   │ #36 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Foundation\Http\Middleware\ConvertEmptyStringsToNull->handle()
   │ #37 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   │ #38 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\TrimStrings.php(51): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
   │ #39 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Foundation\Http\Middleware\TrimStrings->handle()
   │ #40 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Http\Middleware\ValidatePostSize.php(27): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   │ #41 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Http\Middleware\ValidatePostSize->handle()
   │ #42 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\PreventRequestsDuringMaintenance.php(109): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   │ #43 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Foundation\Http\Middleware\PreventRequestsDuringMaintenance->handle()
   │ #44 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Http\Middleware\HandleCors.php(48): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   │ #45 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Http\Middleware\HandleCors->handle()
   │ #46 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Http\Middleware\TrustProxies.php(58): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   │ #47 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Http\Middleware\TrustProxies->handle()
   │ #48 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\InvokeDeferredCallbacks.php(22): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   │ #49 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Foundation\Http\Middleware\InvokeDeferredCallbacks->handle()
   │ #50 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Http\Middleware\ValidatePathEncoding.php(26): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   │ #51 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Http\Middleware\ValidatePathEncoding->handle()
   │ #52 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(126): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   │ #53 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Http\Kernel.php(175): Illuminate\Pipeline\Pipeline->then()
   │ #54 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Http\Kernel.php(144): Illuminate\Foundation\Http\Kernel->sendRequestThroughRouter()
   │ #55 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Testing\Concerns\MakesHttpRequests.php(607): Illuminate\Foundation\Http\Kernel->handle()
   │ #56 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Testing\Concerns\MakesHttpRequests.php(368): Illuminate\Foundation\Testing\TestCase->call()
   │ #57 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\tests\Feature\CalamityManagementTest.php(34): Illuminate\Foundation\Testing\TestCase->get()
   │ #58 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\phpunit\phpunit\src\Framework\TestCase.php(1656): Tests\Feature\CalamityManagementTest->test_guest_can_view_river_bank_calamity_list()
   │ #59 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\phpunit\phpunit\src\Framework\TestCase.php(514): PHPUnit\Framework\TestCase->runTest()
   │ #60 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\phpunit\phpunit\src\Framework\TestRunner\TestRunner.php(87): PHPUnit\Framework\TestCase->runBare()
   │ #61 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\phpunit\phpunit\src\Framework\TestCase.php(361): PHPUnit\Framework\TestRunner->run()
   │ #62 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\phpunit\phpunit\src\Framework\TestSuite.php(369): PHPUnit\Framework\TestCase->run()
   │ #63 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\phpunit\phpunit\src\Framework\TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
   │ #64 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\phpunit\phpunit\src\Framework\TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
   │ #65 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\phpunit\phpunit\src\TextUI\TestRunner.php(64): PHPUnit\Framework\TestSuite->run()
   │ #66 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\phpunit\phpunit\src\TextUI\Application.php(210): PHPUnit\TextUI\TestRunner->run()
   │ #67 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\phpunit\phpunit\phpunit(104): PHPUnit\TextUI\Application->run()
   │ #68 {main}
   │
   │ ----------------------------------------------------------------------------------
   │
   │ SQLSTATE[HY000]: General error: 1 no such function: YEAR (Connection: sqlite, SQL: select distinct YEAR(time) as year from "calamities" where exists (select * from "risk_levels" where "calamities"."risk_level_id" = "risk_levels"."id" and exists (select * from "type_of_calamities" where "risk_levels"."type_of_calamity_id" = "type_of_calamities"."id" and "slug" = sat-lo-bo-song-bo-bien)) order by "year" desc)
   │
   │ D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Testing\TestResponseAssert.php:45
   │ D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Testing\TestResponse.php:174
   │ D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\tests\Feature\CalamityManagementTest.php:35
   │
 ✔ Authenticated user can view create flooding calamity form
 ✔ Authenticated user can view create storm calamity form
 ✔ Authenticated user can view create river bank calamity form
 ✘ Authenticated user can create new flooding calamity
   │
   │ Expected response status code [201, 301, 302, 303, 307, 308] but received 500.
   │ Failed asserting that false is true.
   │
   │ The following exception occurred during the last request:
   │
   │ PDOException: SQLSTATE[HY000]: General error: 1 table calamities has no column named created_by_user_id in D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Connection.php:562
   │ Stack trace:
   │ #0 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Connection.php(562): PDO->prepare()
   │ #1 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Connection.php(809): Illuminate\Database\Connection->Illuminate\Database\{closure}()
   │ #2 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Connection.php(776): Illuminate\Database\Connection->runQueryCallback()
   │ #3 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Connection.php(557): Illuminate\Database\Connection->run()
   │ #4 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Connection.php(521): Illuminate\Database\Connection->statement()
   │ #5 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Query\Processors\Processor.php(32): Illuminate\Database\Connection->insert()
   │ #6 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Query\Builder.php(3796): Illuminate\Database\Query\Processors\Processor->processInsertGetId()
   │ #7 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Eloquent\Builder.php(2205): Illuminate\Database\Query\Builder->insertGetId()
   │ #8 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Eloquent\Model.php(1410): Illuminate\Database\Eloquent\Builder->__call()
   │ #9 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Eloquent\Model.php(1375): Illuminate\Database\Eloquent\Model->insertAndSetId()
   │ #10 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Eloquent\Model.php(1214): Illuminate\Database\Eloquent\Model->performInsert()
   │ #11 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Eloquent\Builder.php(1189): Illuminate\Database\Eloquent\Model->save()
   │ #12 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Support\helpers.php(399): Illuminate\Database\Eloquent\Builder->Illuminate\Database\Eloquent\{closure}()
   │ #13 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Eloquent\Builder.php(1188): tap()
   │ #14 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Support\Traits\ForwardsCalls.php(23): Illuminate\Database\Eloquent\Builder->create()
   │ #15 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Eloquent\Model.php(2496): Illuminate\Database\Eloquent\Model->forwardCallTo()
   │ #16 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Eloquent\Model.php(2512): Illuminate\Database\Eloquent\Model->__call()
   │ #17 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\app\Http\Controllers\Calamities\FloodingCalamityController.php(179): Illuminate\Database\Eloquent\Model::__callStatic()
   │ #18 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Routing\Controller.php(54): App\Http\Controllers\Calamities\FloodingCalamityController->store()
   │ #19 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Routing\ControllerDispatcher.php(43): Illuminate\Routing\Controller->callAction()
   │ #20 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Routing\Route.php(265): Illuminate\Routing\ControllerDispatcher->dispatch()
   │ #21 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Routing\Route.php(211): Illuminate\Routing\Route->runController()
   │ #22 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Routing\Router.php(808): Illuminate\Routing\Route->run()
   │ #23 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(169): Illuminate\Routing\Router->Illuminate\Routing\{closure}()
   │ #24 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Routing\Middleware\SubstituteBindings.php(50): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   │ #25 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Routing\Middleware\SubstituteBindings->handle()
   │ #26 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Auth\Middleware\Authenticate.php(63): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   │ #27 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Auth\Middleware\Authenticate->handle()
   │ #28 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\VerifyCsrfToken.php(87): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   │ #29 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Foundation\Http\Middleware\VerifyCsrfToken->handle()
   │ #30 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\View\Middleware\ShareErrorsFromSession.php(48): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   │ #31 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\View\Middleware\ShareErrorsFromSession->handle()
   │ #32 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Session\Middleware\StartSession.php(120): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   │ #33 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Session\Middleware\StartSession.php(63): Illuminate\Session\Middleware\StartSession->handleStatefulRequest()
   │ #34 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Session\Middleware\StartSession->handle()
   │ #35 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Cookie\Middleware\AddQueuedCookiesToResponse.php(36): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   │ #36 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Cookie\Middleware\AddQueuedCookiesToResponse->handle()
   │ #37 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Cookie\Middleware\EncryptCookies.php(74): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   │ #38 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Cookie\Middleware\EncryptCookies->handle()
   │ #39 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(126): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   │ #40 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Routing\Router.php(807): Illuminate\Pipeline\Pipeline->then()
   │ #41 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Routing\Router.php(786): Illuminate\Routing\Router->runRouteWithinStack()
   │ #42 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Routing\Router.php(750): Illuminate\Routing\Router->runRoute()
   │ #43 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Routing\Router.php(739): Illuminate\Routing\Router->dispatchToRoute()
   │ #44 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Http\Kernel.php(200): Illuminate\Routing\Router->dispatch()
   │ #45 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(169): Illuminate\Foundation\Http\Kernel->Illuminate\Foundation\Http\{closure}()
   │ #46 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   │ #47 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\ConvertEmptyStringsToNull.php(31): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
   │ #48 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Foundation\Http\Middleware\ConvertEmptyStringsToNull->handle()
   │ #49 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   │ #50 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\TrimStrings.php(51): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
   │ #51 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Foundation\Http\Middleware\TrimStrings->handle()
   │ #52 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Http\Middleware\ValidatePostSize.php(27): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   │ #53 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Http\Middleware\ValidatePostSize->handle()
   │ #54 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\PreventRequestsDuringMaintenance.php(109): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   │ #55 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Foundation\Http\Middleware\PreventRequestsDuringMaintenance->handle()
   │ #56 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Http\Middleware\HandleCors.php(48): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   │ #57 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Http\Middleware\HandleCors->handle()
   │ #58 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Http\Middleware\TrustProxies.php(58): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   │ #59 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Http\Middleware\TrustProxies->handle()
   │ #60 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\InvokeDeferredCallbacks.php(22): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   │ #61 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Foundation\Http\Middleware\InvokeDeferredCallbacks->handle()
   │ #62 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Http\Middleware\ValidatePathEncoding.php(26): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   │ #63 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Http\Middleware\ValidatePathEncoding->handle()
   │ #64 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(126): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   │ #65 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Http\Kernel.php(175): Illuminate\Pipeline\Pipeline->then()
   │ #66 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Http\Kernel.php(144): Illuminate\Foundation\Http\Kernel->sendRequestThroughRouter()
   │ #67 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Testing\Concerns\MakesHttpRequests.php(607): Illuminate\Foundation\Http\Kernel->handle()
   │ #68 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Testing\Concerns\MakesHttpRequests.php(397): Illuminate\Foundation\Testing\TestCase->call()
   │ #69 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\tests\Feature\CalamityManagementTest.php(79): Illuminate\Foundation\Testing\TestCase->post()
   │ #70 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\phpunit\phpunit\src\Framework\TestCase.php(1656): Tests\Feature\CalamityManagementTest->test_authenticated_user_can_create_new_flooding_calamity()
   │ #71 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\phpunit\phpunit\src\Framework\TestCase.php(514): PHPUnit\Framework\TestCase->runTest()
   │ #72 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\phpunit\phpunit\src\Framework\TestRunner\TestRunner.php(87): PHPUnit\Framework\TestCase->runBare()
   │ #73 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\phpunit\phpunit\src\Framework\TestCase.php(361): PHPUnit\Framework\TestRunner->run()
   │ #74 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\phpunit\phpunit\src\Framework\TestSuite.php(369): PHPUnit\Framework\TestCase->run()
   │ #75 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\phpunit\phpunit\src\Framework\TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
   │ #76 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\phpunit\phpunit\src\Framework\TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
   │ #77 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\phpunit\phpunit\src\TextUI\TestRunner.php(64): PHPUnit\Framework\TestSuite->run()
   │ #78 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\phpunit\phpunit\src\TextUI\Application.php(210): PHPUnit\TextUI\TestRunner->run()
   │ #79 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\phpunit\phpunit\phpunit(104): PHPUnit\TextUI\Application->run()
   │ #80 {main}
   │
   │ Next Illuminate\Database\QueryException: SQLSTATE[HY000]: General error: 1 table calamities has no column named created_by_user_id (Connection: sqlite, SQL: insert into "calamities" ("risk_level_id", "name", "coordinates", "flood_level", "flood_range", "flooded_area", "time_start", "time_end", "sprint_time", "reason", "number_of_people_affected", "human_damage", "property_damage", "damaged_infrastructure", "mitigation_measures", "data_source", "created_by_user_id", "slug", "updated_at", "created_at") values (1, Test Flooding Calamity, 10.123,20.456, 2.5, 100m, 50, 2025-07-15, 2025-07-16, 24, Heavy rain, 100, None, Minor, Roads, Pumping, Local reports, 1, test-flooding-calamity, 2025-07-14 06:36:47, 2025-07-14 06:36:47)) in D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Connection.php:822
   │ Stack trace:
   │ #0 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Connection.php(776): Illuminate\Database\Connection->runQueryCallback()
   │ #1 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Connection.php(557): Illuminate\Database\Connection->run()
   │ #2 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Connection.php(521): Illuminate\Database\Connection->statement()
   │ #3 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Query\Processors\Processor.php(32): Illuminate\Database\Connection->insert()
   │ #4 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Query\Builder.php(3796): Illuminate\Database\Query\Processors\Processor->processInsertGetId()
   │ #5 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Eloquent\Builder.php(2205): Illuminate\Database\Query\Builder->insertGetId()
   │ #6 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Eloquent\Model.php(1410): Illuminate\Database\Eloquent\Builder->__call()
   │ #7 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Eloquent\Model.php(1375): Illuminate\Database\Eloquent\Model->insertAndSetId()
   │ #8 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Eloquent\Model.php(1214): Illuminate\Database\Eloquent\Model->performInsert()
   │ #9 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Eloquent\Builder.php(1189): Illuminate\Database\Eloquent\Model->save()
   │ #10 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Support\helpers.php(399): Illuminate\Database\Eloquent\Builder->Illuminate\Database\Eloquent\{closure}()
   │ #11 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Eloquent\Builder.php(1188): tap()
   │ #12 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Support\Traits\ForwardsCalls.php(23): Illuminate\Database\Eloquent\Builder->create()
   │ #13 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Eloquent\Model.php(2496): Illuminate\Database\Eloquent\Model->forwardCallTo()
   │ #14 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Eloquent\Model.php(2512): Illuminate\Database\Eloquent\Model->__call()
   │ #15 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\app\Http\Controllers\Calamities\FloodingCalamityController.php(179): Illuminate\Database\Eloquent\Model::__callStatic()
   │ #16 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Routing\Controller.php(54): App\Http\Controllers\Calamities\FloodingCalamityController->store()
   │ #17 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Routing\ControllerDispatcher.php(43): Illuminate\Routing\Controller->callAction()
   │ #18 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Routing\Route.php(265): Illuminate\Routing\ControllerDispatcher->dispatch()
   │ #19 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Routing\Route.php(211): Illuminate\Routing\Route->runController()
   │ #20 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Routing\Router.php(808): Illuminate\Routing\Route->run()
   │ #21 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(169): Illuminate\Routing\Router->Illuminate\Routing\{closure}()
   │ #22 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Routing\Middleware\SubstituteBindings.php(50): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   │ #23 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Routing\Middleware\SubstituteBindings->handle()
   │ #24 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Auth\Middleware\Authenticate.php(63): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   │ #25 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Auth\Middleware\Authenticate->handle()
   │ #26 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\VerifyCsrfToken.php(87): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   │ #27 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Foundation\Http\Middleware\VerifyCsrfToken->handle()
   │ #28 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\View\Middleware\ShareErrorsFromSession.php(48): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   │ #29 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\View\Middleware\ShareErrorsFromSession->handle()
   │ #30 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Session\Middleware\StartSession.php(120): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   │ #31 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Session\Middleware\StartSession.php(63): Illuminate\Session\Middleware\StartSession->handleStatefulRequest()
   │ #32 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Session\Middleware\StartSession->handle()
   │ #33 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Cookie\Middleware\AddQueuedCookiesToResponse.php(36): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   │ #34 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Cookie\Middleware\AddQueuedCookiesToResponse->handle()
   │ #35 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Cookie\Middleware\EncryptCookies.php(74): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   │ #36 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Cookie\Middleware\EncryptCookies->handle()
   │ #37 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(126): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   │ #38 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Routing\Router.php(807): Illuminate\Pipeline\Pipeline->then()
   │ #39 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Routing\Router.php(786): Illuminate\Routing\Router->runRouteWithinStack()
   │ #40 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Routing\Router.php(750): Illuminate\Routing\Router->runRoute()
   │ #41 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Routing\Router.php(739): Illuminate\Routing\Router->dispatchToRoute()
   │ #42 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Http\Kernel.php(200): Illuminate\Routing\Router->dispatch()
   │ #43 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(169): Illuminate\Foundation\Http\Kernel->Illuminate\Foundation\Http\{closure}()
   │ #44 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   │ #45 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\ConvertEmptyStringsToNull.php(31): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
   │ #46 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Foundation\Http\Middleware\ConvertEmptyStringsToNull->handle()
   │ #47 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   │ #48 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\TrimStrings.php(51): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
   │ #49 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Foundation\Http\Middleware\TrimStrings->handle()
   │ #50 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Http\Middleware\ValidatePostSize.php(27): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   │ #51 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Http\Middleware\ValidatePostSize->handle()
   │ #52 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\PreventRequestsDuringMaintenance.php(109): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   │ #53 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Foundation\Http\Middleware\PreventRequestsDuringMaintenance->handle()
   │ #54 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Http\Middleware\HandleCors.php(48): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   │ #55 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Http\Middleware\HandleCors->handle()
   │ #56 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Http\Middleware\TrustProxies.php(58): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   │ #57 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Http\Middleware\TrustProxies->handle()
   │ #58 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\InvokeDeferredCallbacks.php(22): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   │ #59 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Foundation\Http\Middleware\InvokeDeferredCallbacks->handle()
   │ #60 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Http\Middleware\ValidatePathEncoding.php(26): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   │ #61 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Http\Middleware\ValidatePathEncoding->handle()
   │ #62 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(126): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   │ #63 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Http\Kernel.php(175): Illuminate\Pipeline\Pipeline->then()
   │ #64 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Http\Kernel.php(144): Illuminate\Foundation\Http\Kernel->sendRequestThroughRouter()
   │ #65 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Testing\Concerns\MakesHttpRequests.php(607): Illuminate\Foundation\Http\Kernel->handle()
   │ #66 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Testing\Concerns\MakesHttpRequests.php(397): Illuminate\Foundation\Testing\TestCase->call()
   │ #67 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\tests\Feature\CalamityManagementTest.php(79): Illuminate\Foundation\Testing\TestCase->post()
   │ #68 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\phpunit\phpunit\src\Framework\TestCase.php(1656): Tests\Feature\CalamityManagementTest->test_authenticated_user_can_create_new_flooding_calamity()
   │ #69 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\phpunit\phpunit\src\Framework\TestCase.php(514): PHPUnit\Framework\TestCase->runTest()
   │ #70 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\phpunit\phpunit\src\Framework\TestRunner\TestRunner.php(87): PHPUnit\Framework\TestCase->runBare()
   │ #71 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\phpunit\phpunit\src\Framework\TestCase.php(361): PHPUnit\Framework\TestRunner->run()
   │ #72 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\phpunit\phpunit\src\Framework\TestSuite.php(369): PHPUnit\Framework\TestCase->run()
   │ #73 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\phpunit\phpunit\src\Framework\TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
   │ #74 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\phpunit\phpunit\src\Framework\TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
   │ #75 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\phpunit\phpunit\src\TextUI\TestRunner.php(64): PHPUnit\Framework\TestSuite->run()
   │ #76 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\phpunit\phpunit\src\TextUI\Application.php(210): PHPUnit\TextUI\TestRunner->run()
   │ #77 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\phpunit\phpunit\phpunit(104): PHPUnit\TextUI\Application->run()
   │ #78 {main}
   │
   │ ----------------------------------------------------------------------------------
   │
   │ SQLSTATE[HY000]: General error: 1 table calamities has no column named created_by_user_id (Connection: sqlite, SQL: insert into "calamities" ("risk_level_id", "name", "coordinates", "flood_level", "flood_range", "flooded_area", "time_start", "time_end", "sprint_time", "reason", "number_of_people_affected", "human_damage", "property_damage", "damaged_infrastructure", "mitigation_measures", "data_source", "created_by_user_id", "slug", "updated_at", "created_at") values (1, Test Flooding Calamity, 10.123,20.456, 2.5, 100m, 50, 2025-07-15, 2025-07-16, 24, Heavy rain, 100, None, Minor, Roads, Pumping, Local reports, 1, test-flooding-calamity, 2025-07-14 06:36:47, 2025-07-14 06:36:47))
   │
   │ D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Testing\TestResponseAssert.php:45
   │ D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Testing\TestResponse.php:199
   │ D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\tests\Feature\CalamityManagementTest.php:101
   │
 ✘ Authenticated user can create new storm calamity
   │
   │ Expected response status code [201, 301, 302, 303, 307, 308] but received 500.
   │ Failed asserting that false is true.
   │
   │ The following exception occurred during the last request:
   │
   │ PDOException: SQLSTATE[HY000]: General error: 1 table calamities has no column named created_by_user_id in D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Connection.php:562
   │ Stack trace:
   │ #0 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Connection.php(562): PDO->prepare()
   │ #1 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Connection.php(809): Illuminate\Database\Connection->Illuminate\Database\{closure}()
   │ #2 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Connection.php(776): Illuminate\Database\Connection->runQueryCallback()
   │ #3 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Connection.php(557): Illuminate\Database\Connection->run()
   │ #4 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Connection.php(521): Illuminate\Database\Connection->statement()
   │ #5 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Query\Processors\Processor.php(32): Illuminate\Database\Connection->insert()
   │ #6 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Query\Builder.php(3796): Illuminate\Database\Query\Processors\Processor->processInsertGetId()
   │ #7 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Eloquent\Builder.php(2205): Illuminate\Database\Query\Builder->insertGetId()
   │ #8 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Eloquent\Model.php(1410): Illuminate\Database\Eloquent\Builder->__call()
   │ #9 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Eloquent\Model.php(1375): Illuminate\Database\Eloquent\Model->insertAndSetId()
   │ #10 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Eloquent\Model.php(1214): Illuminate\Database\Eloquent\Model->performInsert()
   │ #11 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Eloquent\Builder.php(1189): Illuminate\Database\Eloquent\Model->save()
   │ #12 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Support\helpers.php(399): Illuminate\Database\Eloquent\Builder->Illuminate\Database\Eloquent\{closure}()
   │ #13 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Eloquent\Builder.php(1188): tap()
   │ #14 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Support\Traits\ForwardsCalls.php(23): Illuminate\Database\Eloquent\Builder->create()
   │ #15 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Eloquent\Model.php(2496): Illuminate\Database\Eloquent\Model->forwardCallTo()
   │ #16 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Eloquent\Model.php(2512): Illuminate\Database\Eloquent\Model->__call()
   │ #17 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\app\Http\Controllers\Calamities\StormCalamityController.php(173): Illuminate\Database\Eloquent\Model::__callStatic()
   │ #18 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Routing\Controller.php(54): App\Http\Controllers\Calamities\StormCalamityController->store()
   │ #19 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Routing\ControllerDispatcher.php(43): Illuminate\Routing\Controller->callAction()
   │ #20 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Routing\Route.php(265): Illuminate\Routing\ControllerDispatcher->dispatch()
   │ #21 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Routing\Route.php(211): Illuminate\Routing\Route->runController()
   │ #22 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Routing\Router.php(808): Illuminate\Routing\Route->run()
   │ #23 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(169): Illuminate\Routing\Router->Illuminate\Routing\{closure}()
   │ #24 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Routing\Middleware\SubstituteBindings.php(50): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   │ #25 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Routing\Middleware\SubstituteBindings->handle()
   │ #26 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Auth\Middleware\Authenticate.php(63): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   │ #27 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Auth\Middleware\Authenticate->handle()
   │ #28 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\VerifyCsrfToken.php(87): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   │ #29 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Foundation\Http\Middleware\VerifyCsrfToken->handle()
   │ #30 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\View\Middleware\ShareErrorsFromSession.php(48): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   │ #31 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\View\Middleware\ShareErrorsFromSession->handle()
   │ #32 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Session\Middleware\StartSession.php(120): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   │ #33 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Session\Middleware\StartSession.php(63): Illuminate\Session\Middleware\StartSession->handleStatefulRequest()
   │ #34 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Session\Middleware\StartSession->handle()
   │ #35 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Cookie\Middleware\AddQueuedCookiesToResponse.php(36): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   │ #36 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Cookie\Middleware\AddQueuedCookiesToResponse->handle()
   │ #37 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Cookie\Middleware\EncryptCookies.php(74): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   │ #38 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Cookie\Middleware\EncryptCookies->handle()
   │ #39 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(126): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   │ #40 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Routing\Router.php(807): Illuminate\Pipeline\Pipeline->then()
   │ #41 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Routing\Router.php(786): Illuminate\Routing\Router->runRouteWithinStack()
   │ #42 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Routing\Router.php(750): Illuminate\Routing\Router->runRoute()
   │ #43 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Routing\Router.php(739): Illuminate\Routing\Router->dispatchToRoute()
   │ #44 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Http\Kernel.php(200): Illuminate\Routing\Router->dispatch()
   │ #45 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(169): Illuminate\Foundation\Http\Kernel->Illuminate\Foundation\Http\{closure}()
   │ #46 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   │ #47 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\ConvertEmptyStringsToNull.php(31): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
   │ #48 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Foundation\Http\Middleware\ConvertEmptyStringsToNull->handle()
   │ #49 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   │ #50 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\TrimStrings.php(51): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
   │ #51 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Foundation\Http\Middleware\TrimStrings->handle()
   │ #52 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Http\Middleware\ValidatePostSize.php(27): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   │ #53 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Http\Middleware\ValidatePostSize->handle()
   │ #54 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\PreventRequestsDuringMaintenance.php(109): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   │ #55 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Foundation\Http\Middleware\PreventRequestsDuringMaintenance->handle()
   │ #56 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Http\Middleware\HandleCors.php(48): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   │ #57 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Http\Middleware\HandleCors->handle()
   │ #58 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Http\Middleware\TrustProxies.php(58): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   │ #59 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Http\Middleware\TrustProxies->handle()
   │ #60 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\InvokeDeferredCallbacks.php(22): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   │ #61 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Foundation\Http\Middleware\InvokeDeferredCallbacks->handle()
   │ #62 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Http\Middleware\ValidatePathEncoding.php(26): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   │ #63 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Http\Middleware\ValidatePathEncoding->handle()
   │ #64 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(126): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   │ #65 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Http\Kernel.php(175): Illuminate\Pipeline\Pipeline->then()
   │ #66 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Http\Kernel.php(144): Illuminate\Foundation\Http\Kernel->sendRequestThroughRouter()
   │ #67 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Testing\Concerns\MakesHttpRequests.php(607): Illuminate\Foundation\Http\Kernel->handle()
   │ #68 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Testing\Concerns\MakesHttpRequests.php(397): Illuminate\Foundation\Testing\TestCase->call()
   │ #69 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\tests\Feature\CalamityManagementTest.php(133): Illuminate\Foundation\Testing\TestCase->post()
   │ #70 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\phpunit\phpunit\src\Framework\TestCase.php(1656): Tests\Feature\CalamityManagementTest->test_authenticated_user_can_create_new_storm_calamity()
   │ #71 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\phpunit\phpunit\src\Framework\TestCase.php(514): PHPUnit\Framework\TestCase->runTest()
   │ #72 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\phpunit\phpunit\src\Framework\TestRunner\TestRunner.php(87): PHPUnit\Framework\TestCase->runBare()
   │ #73 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\phpunit\phpunit\src\Framework\TestCase.php(361): PHPUnit\Framework\TestRunner->run()
   │ #74 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\phpunit\phpunit\src\Framework\TestSuite.php(369): PHPUnit\Framework\TestCase->run()
   │ #75 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\phpunit\phpunit\src\Framework\TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
   │ #76 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\phpunit\phpunit\src\Framework\TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
   │ #77 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\phpunit\phpunit\src\TextUI\TestRunner.php(64): PHPUnit\Framework\TestSuite->run()
   │ #78 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\phpunit\phpunit\src\TextUI\Application.php(210): PHPUnit\TextUI\TestRunner->run()
   │ #79 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\phpunit\phpunit\phpunit(104): PHPUnit\TextUI\Application->run()
   │ #80 {main}
   │
   │ Next Illuminate\Database\QueryException: SQLSTATE[HY000]: General error: 1 table calamities has no column named created_by_user_id (Connection: sqlite, SQL: insert into "calamities" ("risk_level_id", "name", "coordinates", "investment_level", "time_start", "time_end", "human_damage", "property_damage", "mitigation_measures", "created_by_user_id", "slug", "updated_at", "created_at") values (1, Test Storm Calamity, 10.123,20.456, High, 2025-07-15, 2025-07-16, None, Minor, Evacuation, 1, test-storm-calamity, 2025-07-14 06:36:48, 2025-07-14 06:36:48)) in D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Connection.php:822
   │ Stack trace:
   │ #0 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Connection.php(776): Illuminate\Database\Connection->runQueryCallback()
   │ #1 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Connection.php(557): Illuminate\Database\Connection->run()
   │ #2 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Connection.php(521): Illuminate\Database\Connection->statement()
   │ #3 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Query\Processors\Processor.php(32): Illuminate\Database\Connection->insert()
   │ #4 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Query\Builder.php(3796): Illuminate\Database\Query\Processors\Processor->processInsertGetId()
   │ #5 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Eloquent\Builder.php(2205): Illuminate\Database\Query\Builder->insertGetId()
   │ #6 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Eloquent\Model.php(1410): Illuminate\Database\Eloquent\Builder->__call()
   │ #7 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Eloquent\Model.php(1375): Illuminate\Database\Eloquent\Model->insertAndSetId()
   │ #8 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Eloquent\Model.php(1214): Illuminate\Database\Eloquent\Model->performInsert()
   │ #9 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Eloquent\Builder.php(1189): Illuminate\Database\Eloquent\Model->save()
   │ #10 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Support\helpers.php(399): Illuminate\Database\Eloquent\Builder->Illuminate\Database\Eloquent\{closure}()
   │ #11 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Eloquent\Builder.php(1188): tap()
   │ #12 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Support\Traits\ForwardsCalls.php(23): Illuminate\Database\Eloquent\Builder->create()
   │ #13 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Eloquent\Model.php(2496): Illuminate\Database\Eloquent\Model->forwardCallTo()
   │ #14 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Eloquent\Model.php(2512): Illuminate\Database\Eloquent\Model->__call()
   │ #15 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\app\Http\Controllers\Calamities\StormCalamityController.php(173): Illuminate\Database\Eloquent\Model::__callStatic()
   │ #16 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Routing\Controller.php(54): App\Http\Controllers\Calamities\StormCalamityController->store()
   │ #17 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Routing\ControllerDispatcher.php(43): Illuminate\Routing\Controller->callAction()
   │ #18 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Routing\Route.php(265): Illuminate\Routing\ControllerDispatcher->dispatch()
   │ #19 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Routing\Route.php(211): Illuminate\Routing\Route->runController()
   │ #20 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Routing\Router.php(808): Illuminate\Routing\Route->run()
   │ #21 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(169): Illuminate\Routing\Router->Illuminate\Routing\{closure}()
   │ #22 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Routing\Middleware\SubstituteBindings.php(50): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   │ #23 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Routing\Middleware\SubstituteBindings->handle()
   │ #24 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Auth\Middleware\Authenticate.php(63): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   │ #25 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Auth\Middleware\Authenticate->handle()
   │ #26 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\VerifyCsrfToken.php(87): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   │ #27 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Foundation\Http\Middleware\VerifyCsrfToken->handle()
   │ #28 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\View\Middleware\ShareErrorsFromSession.php(48): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   │ #29 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\View\Middleware\ShareErrorsFromSession->handle()
   │ #30 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Session\Middleware\StartSession.php(120): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   │ #31 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Session\Middleware\StartSession.php(63): Illuminate\Session\Middleware\StartSession->handleStatefulRequest()
   │ #32 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Session\Middleware\StartSession->handle()
   │ #33 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Cookie\Middleware\AddQueuedCookiesToResponse.php(36): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   │ #34 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Cookie\Middleware\AddQueuedCookiesToResponse->handle()
   │ #35 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Cookie\Middleware\EncryptCookies.php(74): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   │ #36 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Cookie\Middleware\EncryptCookies->handle()
   │ #37 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(126): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   │ #38 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Routing\Router.php(807): Illuminate\Pipeline\Pipeline->then()
   │ #39 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Routing\Router.php(786): Illuminate\Routing\Router->runRouteWithinStack()
   │ #40 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Routing\Router.php(750): Illuminate\Routing\Router->runRoute()
   │ #41 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Routing\Router.php(739): Illuminate\Routing\Router->dispatchToRoute()
   │ #42 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Http\Kernel.php(200): Illuminate\Routing\Router->dispatch()
   │ #43 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(169): Illuminate\Foundation\Http\Kernel->Illuminate\Foundation\Http\{closure}()
   │ #44 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   │ #45 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\ConvertEmptyStringsToNull.php(31): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
   │ #46 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Foundation\Http\Middleware\ConvertEmptyStringsToNull->handle()
   │ #47 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   │ #48 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\TrimStrings.php(51): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
   │ #49 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Foundation\Http\Middleware\TrimStrings->handle()
   │ #50 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Http\Middleware\ValidatePostSize.php(27): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   │ #51 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Http\Middleware\ValidatePostSize->handle()
   │ #52 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\PreventRequestsDuringMaintenance.php(109): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   │ #53 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Foundation\Http\Middleware\PreventRequestsDuringMaintenance->handle()
   │ #54 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Http\Middleware\HandleCors.php(48): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   │ #55 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Http\Middleware\HandleCors->handle()
   │ #56 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Http\Middleware\TrustProxies.php(58): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   │ #57 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Http\Middleware\TrustProxies->handle()
   │ #58 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\InvokeDeferredCallbacks.php(22): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   │ #59 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Foundation\Http\Middleware\InvokeDeferredCallbacks->handle()
   │ #60 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Http\Middleware\ValidatePathEncoding.php(26): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   │ #61 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Http\Middleware\ValidatePathEncoding->handle()
   │ #62 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(126): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   │ #63 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Http\Kernel.php(175): Illuminate\Pipeline\Pipeline->then()
   │ #64 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Http\Kernel.php(144): Illuminate\Foundation\Http\Kernel->sendRequestThroughRouter()
   │ #65 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Testing\Concerns\MakesHttpRequests.php(607): Illuminate\Foundation\Http\Kernel->handle()
   │ #66 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Testing\Concerns\MakesHttpRequests.php(397): Illuminate\Foundation\Testing\TestCase->call()
   │ #67 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\tests\Feature\CalamityManagementTest.php(133): Illuminate\Foundation\Testing\TestCase->post()
   │ #68 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\phpunit\phpunit\src\Framework\TestCase.php(1656): Tests\Feature\CalamityManagementTest->test_authenticated_user_can_create_new_storm_calamity()
   │ #69 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\phpunit\phpunit\src\Framework\TestCase.php(514): PHPUnit\Framework\TestCase->runTest()
   │ #70 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\phpunit\phpunit\src\Framework\TestRunner\TestRunner.php(87): PHPUnit\Framework\TestCase->runBare()
   │ #71 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\phpunit\phpunit\src\Framework\TestCase.php(361): PHPUnit\Framework\TestRunner->run()
   │ #72 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\phpunit\phpunit\src\Framework\TestSuite.php(369): PHPUnit\Framework\TestCase->run()
   │ #73 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\phpunit\phpunit\src\Framework\TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
   │ #74 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\phpunit\phpunit\src\Framework\TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
   │ #75 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\phpunit\phpunit\src\TextUI\TestRunner.php(64): PHPUnit\Framework\TestSuite->run()
   │ #76 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\phpunit\phpunit\src\TextUI\Application.php(210): PHPUnit\TextUI\TestRunner->run()
   │ #77 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\phpunit\phpunit\phpunit(104): PHPUnit\TextUI\Application->run()
   │ #78 {main}
   │
   │ ----------------------------------------------------------------------------------
   │
   │ SQLSTATE[HY000]: General error: 1 table calamities has no column named created_by_user_id (Connection: sqlite, SQL: insert into "calamities" ("risk_level_id", "name", "coordinates", "investment_level", "time_start", "time_end", "human_damage", "property_damage", "mitigation_measures", "created_by_user_id", "slug", "updated_at", "created_at") values (1, Test Storm Calamity, 10.123,20.456, High, 2025-07-15, 2025-07-16, None, Minor, Evacuation, 1, test-storm-calamity, 2025-07-14 06:36:48, 2025-07-14 06:36:48))
   │
   │ D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Testing\TestResponseAssert.php:45
   │ D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Testing\TestResponse.php:199
   │ D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\tests\Feature\CalamityManagementTest.php:148
   │
 ✘ Authenticated user can create new river bank calamity
   │
   │ Expected response status code [201, 301, 302, 303, 307, 308] but received 500.
   │ Failed asserting that false is true.
   │
   │ The following exception occurred during the last request:
   │
   │ PDOException: SQLSTATE[HY000]: General error: 1 table calamities has no column named created_by_user_id in D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Connection.php:562
   │ Stack trace:
   │ #0 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Connection.php(562): PDO->prepare()
   │ #1 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Connection.php(809): Illuminate\Database\Connection->Illuminate\Database\{closure}()
   │ #2 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Connection.php(776): Illuminate\Database\Connection->runQueryCallback()
   │ #3 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Connection.php(557): Illuminate\Database\Connection->run()
   │ #4 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Connection.php(521): Illuminate\Database\Connection->statement()
   │ #5 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Query\Processors\Processor.php(32): Illuminate\Database\Connection->insert()
   │ #6 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Query\Builder.php(3796): Illuminate\Database\Query\Processors\Processor->processInsertGetId()
   │ #7 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Eloquent\Builder.php(2205): Illuminate\Database\Query\Builder->insertGetId()
   │ #8 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Eloquent\Model.php(1410): Illuminate\Database\Eloquent\Builder->__call()
   │ #9 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Eloquent\Model.php(1375): Illuminate\Database\Eloquent\Model->insertAndSetId()
   │ #10 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Eloquent\Model.php(1214): Illuminate\Database\Eloquent\Model->performInsert()
   │ #11 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Eloquent\Builder.php(1189): Illuminate\Database\Eloquent\Model->save()
   │ #12 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Support\helpers.php(399): Illuminate\Database\Eloquent\Builder->Illuminate\Database\Eloquent\{closure}()
   │ #13 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Eloquent\Builder.php(1188): tap()
   │ #14 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Support\Traits\ForwardsCalls.php(23): Illuminate\Database\Eloquent\Builder->create()
   │ #15 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Eloquent\Model.php(2496): Illuminate\Database\Eloquent\Model->forwardCallTo()
   │ #16 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Eloquent\Model.php(2512): Illuminate\Database\Eloquent\Model->__call()
   │ #17 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\app\Http\Controllers\Calamities\RiverBankCalamityController.php(175): Illuminate\Database\Eloquent\Model::__callStatic()
   │ #18 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Routing\Controller.php(54): App\Http\Controllers\Calamities\RiverBankCalamityController->store()
   │ #19 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Routing\ControllerDispatcher.php(43): Illuminate\Routing\Controller->callAction()
   │ #20 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Routing\Route.php(265): Illuminate\Routing\ControllerDispatcher->dispatch()
   │ #21 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Routing\Route.php(211): Illuminate\Routing\Route->runController()
   │ #22 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Routing\Router.php(808): Illuminate\Routing\Route->run()
   │ #23 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(169): Illuminate\Routing\Router->Illuminate\Routing\{closure}()
   │ #24 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Routing\Middleware\SubstituteBindings.php(50): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   │ #25 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Routing\Middleware\SubstituteBindings->handle()
   │ #26 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Auth\Middleware\Authenticate.php(63): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   │ #27 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Auth\Middleware\Authenticate->handle()
   │ #28 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\VerifyCsrfToken.php(87): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   │ #29 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Foundation\Http\Middleware\VerifyCsrfToken->handle()
   │ #30 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\View\Middleware\ShareErrorsFromSession.php(48): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   │ #31 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\View\Middleware\ShareErrorsFromSession->handle()
   │ #32 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Session\Middleware\StartSession.php(120): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   │ #33 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Session\Middleware\StartSession.php(63): Illuminate\Session\Middleware\StartSession->handleStatefulRequest()
   │ #34 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Session\Middleware\StartSession->handle()
   │ #35 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Cookie\Middleware\AddQueuedCookiesToResponse.php(36): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   │ #36 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Cookie\Middleware\AddQueuedCookiesToResponse->handle()
   │ #37 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Cookie\Middleware\EncryptCookies.php(74): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   │ #38 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Cookie\Middleware\EncryptCookies->handle()
   │ #39 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(126): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   │ #40 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Routing\Router.php(807): Illuminate\Pipeline\Pipeline->then()
   │ #41 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Routing\Router.php(786): Illuminate\Routing\Router->runRouteWithinStack()
   │ #42 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Routing\Router.php(750): Illuminate\Routing\Router->runRoute()
   │ #43 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Routing\Router.php(739): Illuminate\Routing\Router->dispatchToRoute()
   │ #44 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Http\Kernel.php(200): Illuminate\Routing\Router->dispatch()
   │ #45 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(169): Illuminate\Foundation\Http\Kernel->Illuminate\Foundation\Http\{closure}()
   │ #46 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   │ #47 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\ConvertEmptyStringsToNull.php(31): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
   │ #48 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Foundation\Http\Middleware\ConvertEmptyStringsToNull->handle()
   │ #49 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   │ #50 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\TrimStrings.php(51): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
   │ #51 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Foundation\Http\Middleware\TrimStrings->handle()
   │ #52 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Http\Middleware\ValidatePostSize.php(27): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   │ #53 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Http\Middleware\ValidatePostSize->handle()
   │ #54 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\PreventRequestsDuringMaintenance.php(109): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   │ #55 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Foundation\Http\Middleware\PreventRequestsDuringMaintenance->handle()
   │ #56 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Http\Middleware\HandleCors.php(48): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   │ #57 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Http\Middleware\HandleCors->handle()
   │ #58 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Http\Middleware\TrustProxies.php(58): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   │ #59 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Http\Middleware\TrustProxies->handle()
   │ #60 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\InvokeDeferredCallbacks.php(22): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   │ #61 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Foundation\Http\Middleware\InvokeDeferredCallbacks->handle()
   │ #62 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Http\Middleware\ValidatePathEncoding.php(26): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   │ #63 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Http\Middleware\ValidatePathEncoding->handle()
   │ #64 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(126): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   │ #65 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Http\Kernel.php(175): Illuminate\Pipeline\Pipeline->then()
   │ #66 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Http\Kernel.php(144): Illuminate\Foundation\Http\Kernel->sendRequestThroughRouter()
   │ #67 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Testing\Concerns\MakesHttpRequests.php(607): Illuminate\Foundation\Http\Kernel->handle()
   │ #68 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Testing\Concerns\MakesHttpRequests.php(397): Illuminate\Foundation\Testing\TestCase->call()
   │ #69 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\tests\Feature\CalamityManagementTest.php(173): Illuminate\Foundation\Testing\TestCase->post()
   │ #70 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\phpunit\phpunit\src\Framework\TestCase.php(1656): Tests\Feature\CalamityManagementTest->test_authenticated_user_can_create_new_river_bank_calamity()
   │ #71 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\phpunit\phpunit\src\Framework\TestCase.php(514): PHPUnit\Framework\TestCase->runTest()
   │ #72 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\phpunit\phpunit\src\Framework\TestRunner\TestRunner.php(87): PHPUnit\Framework\TestCase->runBare()
   │ #73 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\phpunit\phpunit\src\Framework\TestCase.php(361): PHPUnit\Framework\TestRunner->run()
   │ #74 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\phpunit\phpunit\src\Framework\TestSuite.php(369): PHPUnit\Framework\TestCase->run()
   │ #75 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\phpunit\phpunit\src\Framework\TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
   │ #76 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\phpunit\phpunit\src\Framework\TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
   │ #77 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\phpunit\phpunit\src\TextUI\TestRunner.php(64): PHPUnit\Framework\TestSuite->run()
   │ #78 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\phpunit\phpunit\src\TextUI\Application.php(210): PHPUnit\TextUI\TestRunner->run()
   │ #79 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\phpunit\phpunit\phpunit(104): PHPUnit\TextUI\Application->run()
   │ #80 {main}
   │
   │ Next Illuminate\Database\QueryException: SQLSTATE[HY000]: General error: 1 table calamities has no column named created_by_user_id (Connection: sqlite, SQL: insert into "calamities" ("risk_level_id", "name", "address", "length", "width", "acreage", "coordinates", "time", "reason", "geology", "watermark_points", "human_damage", "property_damage", "investment_level", "mitigation_measures", "support_policy", "created_by_user_id", "slug", "updated_at", "created_at") values (1, Test River Bank Calamity, Test Address, 150, 75, 50, 10.123,20.456, 2025-07-15, Soil erosion, Clay soil, High water level, None, Minor, Medium, Reinforcement, Government support, 1, test-river-bank-calamity, 2025-07-14 06:36:48, 2025-07-14 06:36:48)) in D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Connection.php:822
   │ Stack trace:
   │ #0 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Connection.php(776): Illuminate\Database\Connection->runQueryCallback()
   │ #1 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Connection.php(557): Illuminate\Database\Connection->run()
   │ #2 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Connection.php(521): Illuminate\Database\Connection->statement()
   │ #3 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Query\Processors\Processor.php(32): Illuminate\Database\Connection->insert()
   │ #4 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Query\Builder.php(3796): Illuminate\Database\Query\Processors\Processor->processInsertGetId()
   │ #5 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Eloquent\Builder.php(2205): Illuminate\Database\Query\Builder->insertGetId()
   │ #6 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Eloquent\Model.php(1410): Illuminate\Database\Eloquent\Builder->__call()
   │ #7 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Eloquent\Model.php(1375): Illuminate\Database\Eloquent\Model->insertAndSetId()
   │ #8 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Eloquent\Model.php(1214): Illuminate\Database\Eloquent\Model->performInsert()
   │ #9 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Eloquent\Builder.php(1189): Illuminate\Database\Eloquent\Model->save()
   │ #10 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Support\helpers.php(399): Illuminate\Database\Eloquent\Builder->Illuminate\Database\Eloquent\{closure}()
   │ #11 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Eloquent\Builder.php(1188): tap()
   │ #12 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Support\Traits\ForwardsCalls.php(23): Illuminate\Database\Eloquent\Builder->create()
   │ #13 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Eloquent\Model.php(2496): Illuminate\Database\Eloquent\Model->forwardCallTo()
   │ #14 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Eloquent\Model.php(2512): Illuminate\Database\Eloquent\Model->__call()
   │ #15 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\app\Http\Controllers\Calamities\RiverBankCalamityController.php(175): Illuminate\Database\Eloquent\Model::__callStatic()
   │ #16 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Routing\Controller.php(54): App\Http\Controllers\Calamities\RiverBankCalamityController->store()
   │ #17 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Routing\ControllerDispatcher.php(43): Illuminate\Routing\Controller->callAction()
   │ #18 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Routing\Route.php(265): Illuminate\Routing\ControllerDispatcher->dispatch()
   │ #19 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Routing\Route.php(211): Illuminate\Routing\Route->runController()
   │ #20 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Routing\Router.php(808): Illuminate\Routing\Route->run()
   │ #21 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(169): Illuminate\Routing\Router->Illuminate\Routing\{closure}()
   │ #22 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Routing\Middleware\SubstituteBindings.php(50): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   │ #23 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Routing\Middleware\SubstituteBindings->handle()
   │ #24 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Auth\Middleware\Authenticate.php(63): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   │ #25 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Auth\Middleware\Authenticate->handle()
   │ #26 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\VerifyCsrfToken.php(87): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   │ #27 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Foundation\Http\Middleware\VerifyCsrfToken->handle()
   │ #28 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\View\Middleware\ShareErrorsFromSession.php(48): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   │ #29 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\View\Middleware\ShareErrorsFromSession->handle()
   │ #30 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Session\Middleware\StartSession.php(120): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   │ #31 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Session\Middleware\StartSession.php(63): Illuminate\Session\Middleware\StartSession->handleStatefulRequest()
   │ #32 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Session\Middleware\StartSession->handle()
   │ #33 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Cookie\Middleware\AddQueuedCookiesToResponse.php(36): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   │ #34 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Cookie\Middleware\AddQueuedCookiesToResponse->handle()
   │ #35 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Cookie\Middleware\EncryptCookies.php(74): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   │ #36 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Cookie\Middleware\EncryptCookies->handle()
   │ #37 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(126): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   │ #38 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Routing\Router.php(807): Illuminate\Pipeline\Pipeline->then()
   │ #39 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Routing\Router.php(786): Illuminate\Routing\Router->runRouteWithinStack()
   │ #40 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Routing\Router.php(750): Illuminate\Routing\Router->runRoute()
   │ #41 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Routing\Router.php(739): Illuminate\Routing\Router->dispatchToRoute()
   │ #42 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Http\Kernel.php(200): Illuminate\Routing\Router->dispatch()
   │ #43 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(169): Illuminate\Foundation\Http\Kernel->Illuminate\Foundation\Http\{closure}()
   │ #44 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   │ #45 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\ConvertEmptyStringsToNull.php(31): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
   │ #46 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Foundation\Http\Middleware\ConvertEmptyStringsToNull->handle()
   │ #47 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   │ #48 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\TrimStrings.php(51): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
   │ #49 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Foundation\Http\Middleware\TrimStrings->handle()
   │ #50 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Http\Middleware\ValidatePostSize.php(27): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   │ #51 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Http\Middleware\ValidatePostSize->handle()
   │ #52 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\PreventRequestsDuringMaintenance.php(109): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   │ #53 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Foundation\Http\Middleware\PreventRequestsDuringMaintenance->handle()
   │ #54 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Http\Middleware\HandleCors.php(48): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   │ #55 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Http\Middleware\HandleCors->handle()
   │ #56 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Http\Middleware\TrustProxies.php(58): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   │ #57 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Http\Middleware\TrustProxies->handle()
   │ #58 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\InvokeDeferredCallbacks.php(22): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   │ #59 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Foundation\Http\Middleware\InvokeDeferredCallbacks->handle()
   │ #60 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Http\Middleware\ValidatePathEncoding.php(26): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   │ #61 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Http\Middleware\ValidatePathEncoding->handle()
   │ #62 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(126): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   │ #63 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Http\Kernel.php(175): Illuminate\Pipeline\Pipeline->then()
   │ #64 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Http\Kernel.php(144): Illuminate\Foundation\Http\Kernel->sendRequestThroughRouter()
   │ #65 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Testing\Concerns\MakesHttpRequests.php(607): Illuminate\Foundation\Http\Kernel->handle()
   │ #66 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Testing\Concerns\MakesHttpRequests.php(397): Illuminate\Foundation\Testing\TestCase->call()
   │ #67 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\tests\Feature\CalamityManagementTest.php(173): Illuminate\Foundation\Testing\TestCase->post()
   │ #68 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\phpunit\phpunit\src\Framework\TestCase.php(1656): Tests\Feature\CalamityManagementTest->test_authenticated_user_can_create_new_river_bank_calamity()
   │ #69 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\phpunit\phpunit\src\Framework\TestCase.php(514): PHPUnit\Framework\TestCase->runTest()
   │ #70 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\phpunit\phpunit\src\Framework\TestRunner\TestRunner.php(87): PHPUnit\Framework\TestCase->runBare()
   │ #71 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\phpunit\phpunit\src\Framework\TestCase.php(361): PHPUnit\Framework\TestRunner->run()
   │ #72 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\phpunit\phpunit\src\Framework\TestSuite.php(369): PHPUnit\Framework\TestCase->run()
   │ #73 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\phpunit\phpunit\src\Framework\TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
   │ #74 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\phpunit\phpunit\src\Framework\TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
   │ #75 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\phpunit\phpunit\src\TextUI\TestRunner.php(64): PHPUnit\Framework\TestSuite->run()
   │ #76 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\phpunit\phpunit\src\TextUI\Application.php(210): PHPUnit\TextUI\TestRunner->run()
   │ #77 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\phpunit\phpunit\phpunit(104): PHPUnit\TextUI\Application->run()
   │ #78 {main}
   │
   │ ----------------------------------------------------------------------------------
   │
   │ SQLSTATE[HY000]: General error: 1 table calamities has no column named created_by_user_id (Connection: sqlite, SQL: insert into "calamities" ("risk_level_id", "name", "address", "length", "width", "acreage", "coordinates", "time", "reason", "geology", "watermark_points", "human_damage", "property_damage", "investment_level", "mitigation_measures", "support_policy", "created_by_user_id", "slug", "updated_at", "created_at") values (1, Test River Bank Calamity, Test Address, 150, 75, 50, 10.123,20.456, 2025-07-15, Soil erosion, Clay soil, High water level, None, Minor, Medium, Reinforcement, Government support, 1, test-river-bank-calamity, 2025-07-14 06:36:48, 2025-07-14 06:36:48))
   │
   │ D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Testing\TestResponseAssert.php:45
   │ D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Testing\TestResponse.php:199
   │ D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\tests\Feature\CalamityManagementTest.php:194
   │
 ✔ Authenticated user can view edit flooding calamity form
 ✘ Authenticated user can update flooding calamity
   │
   │ Expected response status code [201, 301, 302, 303, 307, 308] but received 500.
   │ Failed asserting that false is true.
   │
   │ The following exception occurred during the last request:
   │
   │ PDOException: SQLSTATE[HY000]: General error: 1 no such column: updated_by_user_id in D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Connection.php:589
   │ Stack trace:
   │ #0 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Connection.php(589): PDO->prepare()
   │ #1 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Connection.php(809): Illuminate\Database\Connection->Illuminate\Database\{closure}()
   │ #2 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Connection.php(776): Illuminate\Database\Connection->runQueryCallback()
   │ #3 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Connection.php(581): Illuminate\Database\Connection->run()
   │ #4 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Connection.php(533): Illuminate\Database\Connection->affectingStatement()
   │ #5 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Query\Builder.php(3860): Illuminate\Database\Connection->update()
   │ #6 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Eloquent\Builder.php(1236): Illuminate\Database\Query\Builder->update()
   │ #7 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Eloquent\Model.php(1290): Illuminate\Database\Eloquent\Builder->update()
   │ #8 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Eloquent\Model.php(1207): Illuminate\Database\Eloquent\Model->performUpdate()
   │ #9 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Eloquent\Model.php(1064): Illuminate\Database\Eloquent\Model->save()
   │ #10 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\app\Http\Controllers\Calamities\FloodingCalamityController.php(382): Illuminate\Database\Eloquent\Model->update()
   │ #11 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Routing\Controller.php(54): App\Http\Controllers\Calamities\FloodingCalamityController->update()
   │ #12 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Routing\ControllerDispatcher.php(43): Illuminate\Routing\Controller->callAction()
   │ #13 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Routing\Route.php(265): Illuminate\Routing\ControllerDispatcher->dispatch()
   │ #14 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Routing\Route.php(211): Illuminate\Routing\Route->runController()
   │ #15 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Routing\Router.php(808): Illuminate\Routing\Route->run()
   │ #16 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(169): Illuminate\Routing\Router->Illuminate\Routing\{closure}()
   │ #17 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Routing\Middleware\SubstituteBindings.php(50): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   │ #18 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Routing\Middleware\SubstituteBindings->handle()
   │ #19 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Auth\Middleware\Authenticate.php(63): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   │ #20 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Auth\Middleware\Authenticate->handle()
   │ #21 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\VerifyCsrfToken.php(87): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   │ #22 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Foundation\Http\Middleware\VerifyCsrfToken->handle()
   │ #23 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\View\Middleware\ShareErrorsFromSession.php(48): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   │ #24 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\View\Middleware\ShareErrorsFromSession->handle()
   │ #25 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Session\Middleware\StartSession.php(120): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   │ #26 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Session\Middleware\StartSession.php(63): Illuminate\Session\Middleware\StartSession->handleStatefulRequest()
   │ #27 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Session\Middleware\StartSession->handle()
   │ #28 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Cookie\Middleware\AddQueuedCookiesToResponse.php(36): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   │ #29 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Cookie\Middleware\AddQueuedCookiesToResponse->handle()
   │ #30 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Cookie\Middleware\EncryptCookies.php(74): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   │ #31 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Cookie\Middleware\EncryptCookies->handle()
   │ #32 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(126): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   │ #33 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Routing\Router.php(807): Illuminate\Pipeline\Pipeline->then()
   │ #34 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Routing\Router.php(786): Illuminate\Routing\Router->runRouteWithinStack()
   │ #35 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Routing\Router.php(750): Illuminate\Routing\Router->runRoute()
   │ #36 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Routing\Router.php(739): Illuminate\Routing\Router->dispatchToRoute()
   │ #37 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Http\Kernel.php(200): Illuminate\Routing\Router->dispatch()
   │ #38 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(169): Illuminate\Foundation\Http\Kernel->Illuminate\Foundation\Http\{closure}()
   │ #39 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   │ #40 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\ConvertEmptyStringsToNull.php(31): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
   │ #41 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Foundation\Http\Middleware\ConvertEmptyStringsToNull->handle()
   │ #42 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   │ #43 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\TrimStrings.php(51): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
   │ #44 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Foundation\Http\Middleware\TrimStrings->handle()
   │ #45 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Http\Middleware\ValidatePostSize.php(27): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   │ #46 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Http\Middleware\ValidatePostSize->handle()
   │ #47 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\PreventRequestsDuringMaintenance.php(109): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   │ #48 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Foundation\Http\Middleware\PreventRequestsDuringMaintenance->handle()
   │ #49 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Http\Middleware\HandleCors.php(48): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   │ #50 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Http\Middleware\HandleCors->handle()
   │ #51 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Http\Middleware\TrustProxies.php(58): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   │ #52 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Http\Middleware\TrustProxies->handle()
   │ #53 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\InvokeDeferredCallbacks.php(22): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   │ #54 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Foundation\Http\Middleware\InvokeDeferredCallbacks->handle()
   │ #55 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Http\Middleware\ValidatePathEncoding.php(26): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   │ #56 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Http\Middleware\ValidatePathEncoding->handle()
   │ #57 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(126): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   │ #58 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Http\Kernel.php(175): Illuminate\Pipeline\Pipeline->then()
   │ #59 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Http\Kernel.php(144): Illuminate\Foundation\Http\Kernel->sendRequestThroughRouter()
   │ #60 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Testing\Concerns\MakesHttpRequests.php(607): Illuminate\Foundation\Http\Kernel->handle()
   │ #61 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Testing\Concerns\MakesHttpRequests.php(397): Illuminate\Foundation\Testing\TestCase->call()
   │ #62 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\tests\Feature\CalamityManagementTest.php(238): Illuminate\Foundation\Testing\TestCase->post()
   │ #63 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\phpunit\phpunit\src\Framework\TestCase.php(1656): Tests\Feature\CalamityManagementTest->test_authenticated_user_can_update_flooding_calamity()
   │ #64 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\phpunit\phpunit\src\Framework\TestCase.php(514): PHPUnit\Framework\TestCase->runTest()
   │ #65 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\phpunit\phpunit\src\Framework\TestRunner\TestRunner.php(87): PHPUnit\Framework\TestCase->runBare()
   │ #66 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\phpunit\phpunit\src\Framework\TestCase.php(361): PHPUnit\Framework\TestRunner->run()
   │ #67 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\phpunit\phpunit\src\Framework\TestSuite.php(369): PHPUnit\Framework\TestCase->run()
   │ #68 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\phpunit\phpunit\src\Framework\TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
   │ #69 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\phpunit\phpunit\src\Framework\TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
   │ #70 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\phpunit\phpunit\src\TextUI\TestRunner.php(64): PHPUnit\Framework\TestSuite->run()
   │ #71 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\phpunit\phpunit\src\TextUI\Application.php(210): PHPUnit\TextUI\TestRunner->run()
   │ #72 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\phpunit\phpunit\phpunit(104): PHPUnit\TextUI\Application->run()
   │ #73 {main}
   │
   │ Next Illuminate\Database\QueryException: SQLSTATE[HY000]: General error: 1 no such column: updated_by_user_id (Connection: sqlite, SQL: update "calamities" set "risk_level_id" = 1, "name" = Updated Flooding Calamity, "slug" = updated-flooding-calamity, "coordinates" = 15.789,25.123, "map" = [], "reason" = Updated reason, "human_damage" = None, "property_damage" = Minor, "mitigation_measures" = Pumping, "flood_level" = 3, "flooded_area" = 75, "flood_range" = 150m, "time_start" = 2025-07-15, "time_end" = 2025-07-16, "sprint_time" = 36, "number_of_people_affected" = 150, "damaged_infrastructure" = Roads, "data_source" = Local reports, "updated_by_user_id" = 1, "updated_at" = 2025-07-14 06:36:49 where "id" = 1) in D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Connection.php:822
   │ Stack trace:
   │ #0 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Connection.php(776): Illuminate\Database\Connection->runQueryCallback()
   │ #1 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Connection.php(581): Illuminate\Database\Connection->run()
   │ #2 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Connection.php(533): Illuminate\Database\Connection->affectingStatement()
   │ #3 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Query\Builder.php(3860): Illuminate\Database\Connection->update()
   │ #4 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Eloquent\Builder.php(1236): Illuminate\Database\Query\Builder->update()
   │ #5 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Eloquent\Model.php(1290): Illuminate\Database\Eloquent\Builder->update()
   │ #6 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Eloquent\Model.php(1207): Illuminate\Database\Eloquent\Model->performUpdate()
   │ #7 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Eloquent\Model.php(1064): Illuminate\Database\Eloquent\Model->save()
   │ #8 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\app\Http\Controllers\Calamities\FloodingCalamityController.php(382): Illuminate\Database\Eloquent\Model->update()
   │ #9 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Routing\Controller.php(54): App\Http\Controllers\Calamities\FloodingCalamityController->update()
   │ #10 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Routing\ControllerDispatcher.php(43): Illuminate\Routing\Controller->callAction()
   │ #11 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Routing\Route.php(265): Illuminate\Routing\ControllerDispatcher->dispatch()
   │ #12 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Routing\Route.php(211): Illuminate\Routing\Route->runController()
   │ #13 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Routing\Router.php(808): Illuminate\Routing\Route->run()
   │ #14 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(169): Illuminate\Routing\Router->Illuminate\Routing\{closure}()
   │ #15 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Routing\Middleware\SubstituteBindings.php(50): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   │ #16 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Routing\Middleware\SubstituteBindings->handle()
   │ #17 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Auth\Middleware\Authenticate.php(63): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   │ #18 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Auth\Middleware\Authenticate->handle()
   │ #19 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\VerifyCsrfToken.php(87): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   │ #20 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Foundation\Http\Middleware\VerifyCsrfToken->handle()
   │ #21 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\View\Middleware\ShareErrorsFromSession.php(48): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   │ #22 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\View\Middleware\ShareErrorsFromSession->handle()
   │ #23 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Session\Middleware\StartSession.php(120): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   │ #24 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Session\Middleware\StartSession.php(63): Illuminate\Session\Middleware\StartSession->handleStatefulRequest()
   │ #25 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Session\Middleware\StartSession->handle()
   │ #26 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Cookie\Middleware\AddQueuedCookiesToResponse.php(36): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   │ #27 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Cookie\Middleware\AddQueuedCookiesToResponse->handle()
   │ #28 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Cookie\Middleware\EncryptCookies.php(74): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   │ #29 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Cookie\Middleware\EncryptCookies->handle()
   │ #30 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(126): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   │ #31 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Routing\Router.php(807): Illuminate\Pipeline\Pipeline->then()
   │ #32 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Routing\Router.php(786): Illuminate\Routing\Router->runRouteWithinStack()
   │ #33 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Routing\Router.php(750): Illuminate\Routing\Router->runRoute()
   │ #34 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Routing\Router.php(739): Illuminate\Routing\Router->dispatchToRoute()
   │ #35 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Http\Kernel.php(200): Illuminate\Routing\Router->dispatch()
   │ #36 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(169): Illuminate\Foundation\Http\Kernel->Illuminate\Foundation\Http\{closure}()
   │ #37 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   │ #38 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\ConvertEmptyStringsToNull.php(31): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
   │ #39 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Foundation\Http\Middleware\ConvertEmptyStringsToNull->handle()
   │ #40 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   │ #41 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\TrimStrings.php(51): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
   │ #42 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Foundation\Http\Middleware\TrimStrings->handle()
   │ #43 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Http\Middleware\ValidatePostSize.php(27): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   │ #44 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Http\Middleware\ValidatePostSize->handle()
   │ #45 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\PreventRequestsDuringMaintenance.php(109): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   │ #46 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Foundation\Http\Middleware\PreventRequestsDuringMaintenance->handle()
   │ #47 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Http\Middleware\HandleCors.php(48): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   │ #48 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Http\Middleware\HandleCors->handle()
   │ #49 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Http\Middleware\TrustProxies.php(58): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   │ #50 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Http\Middleware\TrustProxies->handle()
   │ #51 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\InvokeDeferredCallbacks.php(22): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   │ #52 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Foundation\Http\Middleware\InvokeDeferredCallbacks->handle()
   │ #53 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Http\Middleware\ValidatePathEncoding.php(26): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   │ #54 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Http\Middleware\ValidatePathEncoding->handle()
   │ #55 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(126): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   │ #56 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Http\Kernel.php(175): Illuminate\Pipeline\Pipeline->then()
   │ #57 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Http\Kernel.php(144): Illuminate\Foundation\Http\Kernel->sendRequestThroughRouter()
   │ #58 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Testing\Concerns\MakesHttpRequests.php(607): Illuminate\Foundation\Http\Kernel->handle()
   │ #59 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Testing\Concerns\MakesHttpRequests.php(397): Illuminate\Foundation\Testing\TestCase->call()
   │ #60 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\tests\Feature\CalamityManagementTest.php(238): Illuminate\Foundation\Testing\TestCase->post()
   │ #61 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\phpunit\phpunit\src\Framework\TestCase.php(1656): Tests\Feature\CalamityManagementTest->test_authenticated_user_can_update_flooding_calamity()
   │ #62 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\phpunit\phpunit\src\Framework\TestCase.php(514): PHPUnit\Framework\TestCase->runTest()
   │ #63 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\phpunit\phpunit\src\Framework\TestRunner\TestRunner.php(87): PHPUnit\Framework\TestCase->runBare()
   │ #64 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\phpunit\phpunit\src\Framework\TestCase.php(361): PHPUnit\Framework\TestRunner->run()
   │ #65 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\phpunit\phpunit\src\Framework\TestSuite.php(369): PHPUnit\Framework\TestCase->run()
   │ #66 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\phpunit\phpunit\src\Framework\TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
   │ #67 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\phpunit\phpunit\src\Framework\TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
   │ #68 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\phpunit\phpunit\src\TextUI\TestRunner.php(64): PHPUnit\Framework\TestSuite->run()
   │ #69 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\phpunit\phpunit\src\TextUI\Application.php(210): PHPUnit\TextUI\TestRunner->run()
   │ #70 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\phpunit\phpunit\phpunit(104): PHPUnit\TextUI\Application->run()
   │ #71 {main}
   │
   │ ----------------------------------------------------------------------------------
   │
   │ SQLSTATE[HY000]: General error: 1 no such column: updated_by_user_id (Connection: sqlite, SQL: update "calamities" set "risk_level_id" = 1, "name" = Updated Flooding Calamity, "slug" = updated-flooding-calamity, "coordinates" = 15.789,25.123, "map" = [], "reason" = Updated reason, "human_damage" = None, "property_damage" = Minor, "mitigation_measures" = Pumping, "flood_level" = 3, "flooded_area" = 75, "flood_range" = 150m, "time_start" = 2025-07-15, "time_end" = 2025-07-16, "sprint_time" = 36, "number_of_people_affected" = 150, "damaged_infrastructure" = Roads, "data_source" = Local reports, "updated_by_user_id" = 1, "updated_at" = 2025-07-14 06:36:49 where "id" = 1)
   │
   │ D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Testing\TestResponseAssert.php:45
   │ D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Testing\TestResponse.php:199
   │ D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\tests\Feature\CalamityManagementTest.php:261
   │
 ✘ Authenticated user can delete flooding calamity
   │
   │ Expected response status code [201, 301, 302, 303, 307, 308] but received 404.
   │ Failed asserting that false is true.
   │
   │ D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Testing\TestResponseAssert.php:45
   │ D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Testing\TestResponse.php:199
   │ D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\tests\Feature\CalamityManagementTest.php:282
   │
 ✔ Authenticated user can delete multiple flooding calamities
 ✘ Flooding calamity list can be searched
   │
   │ Expected response status code [200] but received 500.
   │ Failed asserting that 500 is identical to 200.
   │
   │ The following exception occurred during the last request:
   │
   │ PDOException: SQLSTATE[HY000]: General error: 1 no such function: YEAR in D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Connection.php:404
   │ Stack trace:
   │ #0 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Connection.php(404): PDO->prepare()
   │ #1 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Connection.php(809): Illuminate\Database\Connection->Illuminate\Database\{closure}()
   │ #2 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Connection.php(776): Illuminate\Database\Connection->runQueryCallback()
   │ #3 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Connection.php(395): Illuminate\Database\Connection->run()
   │ #4 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Query\Builder.php(3131): Illuminate\Database\Connection->select()
   │ #5 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Query\Builder.php(3389): Illuminate\Database\Query\Builder->runSelect()
   │ #6 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Query\Builder.php(3706): Illuminate\Database\Query\Builder->Illuminate\Database\Query\{closure}()
   │ #7 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Query\Builder.php(3385): Illuminate\Database\Query\Builder->onceWithColumns()
   │ #8 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Eloquent\Builder.php(1052): Illuminate\Database\Query\Builder->pluck()
   │ #9 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\app\Http\Controllers\Calamities\FloodingCalamityController.php(82): Illuminate\Database\Eloquent\Builder->pluck()
   │ #10 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Routing\Controller.php(54): App\Http\Controllers\Calamities\FloodingCalamityController->index()
   │ #11 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Routing\ControllerDispatcher.php(43): Illuminate\Routing\Controller->callAction()
   │ #12 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Routing\Route.php(265): Illuminate\Routing\ControllerDispatcher->dispatch()
   │ #13 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Routing\Route.php(211): Illuminate\Routing\Route->runController()
   │ #14 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Routing\Router.php(808): Illuminate\Routing\Route->run()
   │ #15 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(169): Illuminate\Routing\Router->Illuminate\Routing\{closure}()
   │ #16 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Routing\Middleware\SubstituteBindings.php(50): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   │ #17 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Routing\Middleware\SubstituteBindings->handle()
   │ #18 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\VerifyCsrfToken.php(87): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   │ #19 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Foundation\Http\Middleware\VerifyCsrfToken->handle()
   │ #20 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\View\Middleware\ShareErrorsFromSession.php(48): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   │ #21 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\View\Middleware\ShareErrorsFromSession->handle()
   │ #22 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Session\Middleware\StartSession.php(120): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   │ #23 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Session\Middleware\StartSession.php(63): Illuminate\Session\Middleware\StartSession->handleStatefulRequest()
   │ #24 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Session\Middleware\StartSession->handle()
   │ #25 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Cookie\Middleware\AddQueuedCookiesToResponse.php(36): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   │ #26 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Cookie\Middleware\AddQueuedCookiesToResponse->handle()
   │ #27 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Cookie\Middleware\EncryptCookies.php(74): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   │ #28 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Cookie\Middleware\EncryptCookies->handle()
   │ #29 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(126): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   │ #30 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Routing\Router.php(807): Illuminate\Pipeline\Pipeline->then()
   │ #31 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Routing\Router.php(786): Illuminate\Routing\Router->runRouteWithinStack()
   │ #32 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Routing\Router.php(750): Illuminate\Routing\Router->runRoute()
   │ #33 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Routing\Router.php(739): Illuminate\Routing\Router->dispatchToRoute()
   │ #34 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Http\Kernel.php(200): Illuminate\Routing\Router->dispatch()
   │ #35 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(169): Illuminate\Foundation\Http\Kernel->Illuminate\Foundation\Http\{closure}()
   │ #36 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   │ #37 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\ConvertEmptyStringsToNull.php(31): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
   │ #38 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Foundation\Http\Middleware\ConvertEmptyStringsToNull->handle()
   │ #39 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   │ #40 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\TrimStrings.php(51): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
   │ #41 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Foundation\Http\Middleware\TrimStrings->handle()
   │ #42 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Http\Middleware\ValidatePostSize.php(27): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   │ #43 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Http\Middleware\ValidatePostSize->handle()
   │ #44 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\PreventRequestsDuringMaintenance.php(109): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   │ #45 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Foundation\Http\Middleware\PreventRequestsDuringMaintenance->handle()
   │ #46 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Http\Middleware\HandleCors.php(48): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   │ #47 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Http\Middleware\HandleCors->handle()
   │ #48 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Http\Middleware\TrustProxies.php(58): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   │ #49 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Http\Middleware\TrustProxies->handle()
   │ #50 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\InvokeDeferredCallbacks.php(22): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   │ #51 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Foundation\Http\Middleware\InvokeDeferredCallbacks->handle()
   │ #52 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Http\Middleware\ValidatePathEncoding.php(26): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   │ #53 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Http\Middleware\ValidatePathEncoding->handle()
   │ #54 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(126): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   │ #55 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Http\Kernel.php(175): Illuminate\Pipeline\Pipeline->then()
   │ #56 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Http\Kernel.php(144): Illuminate\Foundation\Http\Kernel->sendRequestThroughRouter()
   │ #57 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Testing\Concerns\MakesHttpRequests.php(607): Illuminate\Foundation\Http\Kernel->handle()
   │ #58 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Testing\Concerns\MakesHttpRequests.php(368): Illuminate\Foundation\Testing\TestCase->call()
   │ #59 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\tests\Feature\CalamityManagementTest.php(310): Illuminate\Foundation\Testing\TestCase->get()
   │ #60 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\phpunit\phpunit\src\Framework\TestCase.php(1656): Tests\Feature\CalamityManagementTest->test_flooding_calamity_list_can_be_searched()
   │ #61 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\phpunit\phpunit\src\Framework\TestCase.php(514): PHPUnit\Framework\TestCase->runTest()
   │ #62 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\phpunit\phpunit\src\Framework\TestRunner\TestRunner.php(87): PHPUnit\Framework\TestCase->runBare()
   │ #63 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\phpunit\phpunit\src\Framework\TestCase.php(361): PHPUnit\Framework\TestRunner->run()
   │ #64 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\phpunit\phpunit\src\Framework\TestSuite.php(369): PHPUnit\Framework\TestCase->run()
   │ #65 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\phpunit\phpunit\src\Framework\TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
   │ #66 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\phpunit\phpunit\src\Framework\TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
   │ #67 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\phpunit\phpunit\src\TextUI\TestRunner.php(64): PHPUnit\Framework\TestSuite->run()
   │ #68 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\phpunit\phpunit\src\TextUI\Application.php(210): PHPUnit\TextUI\TestRunner->run()
   │ #69 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\phpunit\phpunit\phpunit(104): PHPUnit\TextUI\Application->run()
   │ #70 {main}
   │
   │ Next Illuminate\Database\QueryException: SQLSTATE[HY000]: General error: 1 no such function: YEAR (Connection: sqlite, SQL: select distinct YEAR(time_start) as year from "calamities" where exists (select * from "risk_levels" where "calamities"."risk_level_id" = "risk_levels"."id" and exists (select * from "type_of_calamities" where "risk_levels"."type_of_calamity_id" = "type_of_calamities"."id" and "slug" = ngap-lut)) order by "year" desc) in D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Connection.php:822
   │ Stack trace:
   │ #0 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Connection.php(776): Illuminate\Database\Connection->runQueryCallback()
   │ #1 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Connection.php(395): Illuminate\Database\Connection->run()
   │ #2 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Query\Builder.php(3131): Illuminate\Database\Connection->select()
   │ #3 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Query\Builder.php(3389): Illuminate\Database\Query\Builder->runSelect()
   │ #4 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Query\Builder.php(3706): Illuminate\Database\Query\Builder->Illuminate\Database\Query\{closure}()
   │ #5 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Query\Builder.php(3385): Illuminate\Database\Query\Builder->onceWithColumns()
   │ #6 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Eloquent\Builder.php(1052): Illuminate\Database\Query\Builder->pluck()
   │ #7 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\app\Http\Controllers\Calamities\FloodingCalamityController.php(82): Illuminate\Database\Eloquent\Builder->pluck()
   │ #8 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Routing\Controller.php(54): App\Http\Controllers\Calamities\FloodingCalamityController->index()
   │ #9 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Routing\ControllerDispatcher.php(43): Illuminate\Routing\Controller->callAction()
   │ #10 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Routing\Route.php(265): Illuminate\Routing\ControllerDispatcher->dispatch()
   │ #11 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Routing\Route.php(211): Illuminate\Routing\Route->runController()
   │ #12 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Routing\Router.php(808): Illuminate\Routing\Route->run()
   │ #13 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(169): Illuminate\Routing\Router->Illuminate\Routing\{closure}()
   │ #14 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Routing\Middleware\SubstituteBindings.php(50): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   │ #15 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Routing\Middleware\SubstituteBindings->handle()
   │ #16 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\VerifyCsrfToken.php(87): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   │ #17 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Foundation\Http\Middleware\VerifyCsrfToken->handle()
   │ #18 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\View\Middleware\ShareErrorsFromSession.php(48): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   │ #19 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\View\Middleware\ShareErrorsFromSession->handle()
   │ #20 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Session\Middleware\StartSession.php(120): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   │ #21 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Session\Middleware\StartSession.php(63): Illuminate\Session\Middleware\StartSession->handleStatefulRequest()
   │ #22 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Session\Middleware\StartSession->handle()
   │ #23 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Cookie\Middleware\AddQueuedCookiesToResponse.php(36): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   │ #24 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Cookie\Middleware\AddQueuedCookiesToResponse->handle()
   │ #25 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Cookie\Middleware\EncryptCookies.php(74): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   │ #26 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Cookie\Middleware\EncryptCookies->handle()
   │ #27 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(126): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   │ #28 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Routing\Router.php(807): Illuminate\Pipeline\Pipeline->then()
   │ #29 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Routing\Router.php(786): Illuminate\Routing\Router->runRouteWithinStack()
   │ #30 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Routing\Router.php(750): Illuminate\Routing\Router->runRoute()
   │ #31 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Routing\Router.php(739): Illuminate\Routing\Router->dispatchToRoute()
   │ #32 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Http\Kernel.php(200): Illuminate\Routing\Router->dispatch()
   │ #33 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(169): Illuminate\Foundation\Http\Kernel->Illuminate\Foundation\Http\{closure}()
   │ #34 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   │ #35 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\ConvertEmptyStringsToNull.php(31): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
   │ #36 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Foundation\Http\Middleware\ConvertEmptyStringsToNull->handle()
   │ #37 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   │ #38 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\TrimStrings.php(51): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
   │ #39 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Foundation\Http\Middleware\TrimStrings->handle()
   │ #40 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Http\Middleware\ValidatePostSize.php(27): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   │ #41 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Http\Middleware\ValidatePostSize->handle()
   │ #42 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\PreventRequestsDuringMaintenance.php(109): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   │ #43 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Foundation\Http\Middleware\PreventRequestsDuringMaintenance->handle()
   │ #44 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Http\Middleware\HandleCors.php(48): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   │ #45 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Http\Middleware\HandleCors->handle()
   │ #46 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Http\Middleware\TrustProxies.php(58): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   │ #47 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Http\Middleware\TrustProxies->handle()
   │ #48 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\InvokeDeferredCallbacks.php(22): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   │ #49 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Foundation\Http\Middleware\InvokeDeferredCallbacks->handle()
   │ #50 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Http\Middleware\ValidatePathEncoding.php(26): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   │ #51 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Http\Middleware\ValidatePathEncoding->handle()
   │ #52 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(126): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   │ #53 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Http\Kernel.php(175): Illuminate\Pipeline\Pipeline->then()
   │ #54 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Http\Kernel.php(144): Illuminate\Foundation\Http\Kernel->sendRequestThroughRouter()
   │ #55 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Testing\Concerns\MakesHttpRequests.php(607): Illuminate\Foundation\Http\Kernel->handle()
   │ #56 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Testing\Concerns\MakesHttpRequests.php(368): Illuminate\Foundation\Testing\TestCase->call()
   │ #57 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\tests\Feature\CalamityManagementTest.php(310): Illuminate\Foundation\Testing\TestCase->get()
   │ #58 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\phpunit\phpunit\src\Framework\TestCase.php(1656): Tests\Feature\CalamityManagementTest->test_flooding_calamity_list_can_be_searched()
   │ #59 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\phpunit\phpunit\src\Framework\TestCase.php(514): PHPUnit\Framework\TestCase->runTest()
   │ #60 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\phpunit\phpunit\src\Framework\TestRunner\TestRunner.php(87): PHPUnit\Framework\TestCase->runBare()
   │ #61 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\phpunit\phpunit\src\Framework\TestCase.php(361): PHPUnit\Framework\TestRunner->run()
   │ #62 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\phpunit\phpunit\src\Framework\TestSuite.php(369): PHPUnit\Framework\TestCase->run()
   │ #63 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\phpunit\phpunit\src\Framework\TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
   │ #64 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\phpunit\phpunit\src\Framework\TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
   │ #65 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\phpunit\phpunit\src\TextUI\TestRunner.php(64): PHPUnit\Framework\TestSuite->run()
   │ #66 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\phpunit\phpunit\src\TextUI\Application.php(210): PHPUnit\TextUI\TestRunner->run()
   │ #67 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\phpunit\phpunit\phpunit(104): PHPUnit\TextUI\Application->run()
   │ #68 {main}
   │
   │ ----------------------------------------------------------------------------------
   │
   │ SQLSTATE[HY000]: General error: 1 no such function: YEAR (Connection: sqlite, SQL: select distinct YEAR(time_start) as year from "calamities" where exists (select * from "risk_levels" where "calamities"."risk_level_id" = "risk_levels"."id" and exists (select * from "type_of_calamities" where "risk_levels"."type_of_calamity_id" = "type_of_calamities"."id" and "slug" = ngap-lut)) order by "year" desc)
   │
   │ D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Testing\TestResponseAssert.php:45
   │ D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Testing\TestResponse.php:174
   │ D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\tests\Feature\CalamityManagementTest.php:311
   │
 ✔ Guest cannot access create flooding calamity form
 ✔ Guest cannot access create storm calamity form
 ✔ Guest cannot access create river bank calamity form

City Management (Tests\Feature\CityManagement)
 ✔ Guest can view city list
 ✔ Authenticated user can view create city form
 ✔ Authenticated user can create new city
 ✔ Cannot create city with duplicate name
 ✔ Cannot create city with duplicate code
 ✔ Authenticated user can view edit city form
 ✔ Authenticated user can update city
 ✔ Authenticated user can delete city
 ✔ Authenticated user can delete multiple cities
 ✔ City list can be searched
 ✔ Guest cannot access create city form

Commune Management (Tests\Feature\CommuneManagement)
 ✔ Guest can view commune list
 ✔ Authenticated user can view create commune form
 ✔ Authenticated user can create new commune
 ✔ Cannot create commune with duplicate name
 ✔ Cannot create commune with duplicate code
 ✔ Authenticated user can view edit commune form
 ✔ Authenticated user can update commune
 ✔ Authenticated user can delete commune
 ✔ Authenticated user can delete multiple communes
 ✔ Commune list can be searched
 ✔ Can get communes by district
 ✔ Guest cannot access create commune form

District Management (Tests\Feature\DistrictManagement)
 ✔ Guest can view district list
 ✔ Authenticated user can view create district form
 ✔ Authenticated user can create new district
 ✔ Cannot create district with duplicate name
 ✔ Cannot create district with duplicate code
 ✔ Authenticated user can view edit district form
 ✔ Authenticated user can update district
 ✔ Authenticated user can delete district
 ✔ Authenticated user can delete multiple districts
 ✔ District list can be searched
 ✔ Guest cannot access create district form

Example (Tests\Feature\Example)
 ✘ The application returns a successful response
   │
   │ Expected response status code [200] but received 500.
   │ Failed asserting that 500 is identical to 200.
   │
   │ The following exception occurred during the last request:
   │
   │ PDOException: SQLSTATE[HY000]: General error: 1 no such table: type_of_calamities in D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Connection.php:404
   │ Stack trace:
   │ #0 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Connection.php(404): PDO->prepare()
   │ #1 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Connection.php(809): Illuminate\Database\Connection->Illuminate\Database\{closure}()
   │ #2 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Connection.php(776): Illuminate\Database\Connection->runQueryCallback()
   │ #3 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Connection.php(395): Illuminate\Database\Connection->run()
   │ #4 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Query\Builder.php(3131): Illuminate\Database\Connection->select()
   │ #5 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Query\Builder.php(3116): Illuminate\Database\Query\Builder->runSelect()
   │ #6 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Query\Builder.php(3706): Illuminate\Database\Query\Builder->Illuminate\Database\Query\{closure}()
   │ #7 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Query\Builder.php(3115): Illuminate\Database\Query\Builder->onceWithColumns()
   │ #8 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Eloquent\Builder.php(872): Illuminate\Database\Query\Builder->get()
   │ #9 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Eloquent\Builder.php(854): Illuminate\Database\Eloquent\Builder->getModels()
   │ #10 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\app\Http\Controllers\AdminController.php(26): Illuminate\Database\Eloquent\Builder->get()
   │ #11 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Routing\Controller.php(54): App\Http\Controllers\AdminController->dashboard()
   │ #12 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Routing\ControllerDispatcher.php(43): Illuminate\Routing\Controller->callAction()
   │ #13 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Routing\Route.php(265): Illuminate\Routing\ControllerDispatcher->dispatch()
   │ #14 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Routing\Route.php(211): Illuminate\Routing\Route->runController()
   │ #15 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Routing\Router.php(808): Illuminate\Routing\Route->run()
   │ #16 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(169): Illuminate\Routing\Router->Illuminate\Routing\{closure}()
   │ #17 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Routing\Middleware\SubstituteBindings.php(50): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   │ #18 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Routing\Middleware\SubstituteBindings->handle()
   │ #19 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\VerifyCsrfToken.php(87): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   │ #20 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Foundation\Http\Middleware\VerifyCsrfToken->handle()
   │ #21 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\View\Middleware\ShareErrorsFromSession.php(48): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   │ #22 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\View\Middleware\ShareErrorsFromSession->handle()
   │ #23 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Session\Middleware\StartSession.php(120): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   │ #24 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Session\Middleware\StartSession.php(63): Illuminate\Session\Middleware\StartSession->handleStatefulRequest()
   │ #25 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Session\Middleware\StartSession->handle()
   │ #26 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Cookie\Middleware\AddQueuedCookiesToResponse.php(36): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   │ #27 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Cookie\Middleware\AddQueuedCookiesToResponse->handle()
   │ #28 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Cookie\Middleware\EncryptCookies.php(74): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   │ #29 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Cookie\Middleware\EncryptCookies->handle()
   │ #30 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(126): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   │ #31 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Routing\Router.php(807): Illuminate\Pipeline\Pipeline->then()
   │ #32 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Routing\Router.php(786): Illuminate\Routing\Router->runRouteWithinStack()
   │ #33 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Routing\Router.php(750): Illuminate\Routing\Router->runRoute()
   │ #34 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Routing\Router.php(739): Illuminate\Routing\Router->dispatchToRoute()
   │ #35 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Http\Kernel.php(200): Illuminate\Routing\Router->dispatch()
   │ #36 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(169): Illuminate\Foundation\Http\Kernel->Illuminate\Foundation\Http\{closure}()
   │ #37 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   │ #38 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\ConvertEmptyStringsToNull.php(31): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
   │ #39 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Foundation\Http\Middleware\ConvertEmptyStringsToNull->handle()
   │ #40 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   │ #41 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\TrimStrings.php(51): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
   │ #42 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Foundation\Http\Middleware\TrimStrings->handle()
   │ #43 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Http\Middleware\ValidatePostSize.php(27): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   │ #44 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Http\Middleware\ValidatePostSize->handle()
   │ #45 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\PreventRequestsDuringMaintenance.php(109): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   │ #46 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Foundation\Http\Middleware\PreventRequestsDuringMaintenance->handle()
   │ #47 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Http\Middleware\HandleCors.php(48): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   │ #48 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Http\Middleware\HandleCors->handle()
   │ #49 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Http\Middleware\TrustProxies.php(58): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   │ #50 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Http\Middleware\TrustProxies->handle()
   │ #51 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\InvokeDeferredCallbacks.php(22): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   │ #52 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Foundation\Http\Middleware\InvokeDeferredCallbacks->handle()
   │ #53 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Http\Middleware\ValidatePathEncoding.php(26): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   │ #54 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Http\Middleware\ValidatePathEncoding->handle()
   │ #55 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(126): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   │ #56 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Http\Kernel.php(175): Illuminate\Pipeline\Pipeline->then()
   │ #57 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Http\Kernel.php(144): Illuminate\Foundation\Http\Kernel->sendRequestThroughRouter()
   │ #58 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Testing\Concerns\MakesHttpRequests.php(607): Illuminate\Foundation\Http\Kernel->handle()
   │ #59 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Testing\Concerns\MakesHttpRequests.php(368): Illuminate\Foundation\Testing\TestCase->call()
   │ #60 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\tests\Feature\ExampleTest.php(15): Illuminate\Foundation\Testing\TestCase->get()
   │ #61 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\phpunit\phpunit\src\Framework\TestCase.php(1656): Tests\Feature\ExampleTest->test_the_application_returns_a_successful_response()
   │ #62 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\phpunit\phpunit\src\Framework\TestCase.php(514): PHPUnit\Framework\TestCase->runTest()
   │ #63 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\phpunit\phpunit\src\Framework\TestRunner\TestRunner.php(87): PHPUnit\Framework\TestCase->runBare()
   │ #64 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\phpunit\phpunit\src\Framework\TestCase.php(361): PHPUnit\Framework\TestRunner->run()
   │ #65 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\phpunit\phpunit\src\Framework\TestSuite.php(369): PHPUnit\Framework\TestCase->run()
   │ #66 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\phpunit\phpunit\src\Framework\TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
   │ #67 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\phpunit\phpunit\src\Framework\TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
   │ #68 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\phpunit\phpunit\src\TextUI\TestRunner.php(64): PHPUnit\Framework\TestSuite->run()
   │ #69 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\phpunit\phpunit\src\TextUI\Application.php(210): PHPUnit\TextUI\TestRunner->run()
   │ #70 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\phpunit\phpunit\phpunit(104): PHPUnit\TextUI\Application->run()
   │ #71 {main}
   │
   │ Next Illuminate\Database\QueryException: SQLSTATE[HY000]: General error: 1 no such table: type_of_calamities (Connection: sqlite, SQL: select "type_of_calamities".*, (select count(*) from "calamities" inner join "risk_levels" on "risk_levels"."id" = "calamities"."risk_level_id" where "type_of_calamities"."id" = "risk_levels"."type_of_calamity_id") as "calamities_count", (select count(*) from "constructions" inner join "risk_levels" on "risk_levels"."id" = "constructions"."risk_level_id" where "type_of_calamities"."id" = "risk_levels"."type_of_calamity_id") as "constructions_count" from "type_of_calamities") in D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Connection.php:822
   │ Stack trace:
   │ #0 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Connection.php(776): Illuminate\Database\Connection->runQueryCallback()
   │ #1 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Connection.php(395): Illuminate\Database\Connection->run()
   │ #2 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Query\Builder.php(3131): Illuminate\Database\Connection->select()
   │ #3 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Query\Builder.php(3116): Illuminate\Database\Query\Builder->runSelect()
   │ #4 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Query\Builder.php(3706): Illuminate\Database\Query\Builder->Illuminate\Database\Query\{closure}()
   │ #5 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Query\Builder.php(3115): Illuminate\Database\Query\Builder->onceWithColumns()
   │ #6 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Eloquent\Builder.php(872): Illuminate\Database\Query\Builder->get()
   │ #7 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Eloquent\Builder.php(854): Illuminate\Database\Eloquent\Builder->getModels()
   │ #8 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\app\Http\Controllers\AdminController.php(26): Illuminate\Database\Eloquent\Builder->get()
   │ #9 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Routing\Controller.php(54): App\Http\Controllers\AdminController->dashboard()
   │ #10 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Routing\ControllerDispatcher.php(43): Illuminate\Routing\Controller->callAction()
   │ #11 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Routing\Route.php(265): Illuminate\Routing\ControllerDispatcher->dispatch()
   │ #12 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Routing\Route.php(211): Illuminate\Routing\Route->runController()
   │ #13 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Routing\Router.php(808): Illuminate\Routing\Route->run()
   │ #14 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(169): Illuminate\Routing\Router->Illuminate\Routing\{closure}()
   │ #15 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Routing\Middleware\SubstituteBindings.php(50): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   │ #16 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Routing\Middleware\SubstituteBindings->handle()
   │ #17 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\VerifyCsrfToken.php(87): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   │ #18 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Foundation\Http\Middleware\VerifyCsrfToken->handle()
   │ #19 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\View\Middleware\ShareErrorsFromSession.php(48): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   │ #20 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\View\Middleware\ShareErrorsFromSession->handle()
   │ #21 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Session\Middleware\StartSession.php(120): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   │ #22 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Session\Middleware\StartSession.php(63): Illuminate\Session\Middleware\StartSession->handleStatefulRequest()
   │ #23 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Session\Middleware\StartSession->handle()
   │ #24 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Cookie\Middleware\AddQueuedCookiesToResponse.php(36): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   │ #25 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Cookie\Middleware\AddQueuedCookiesToResponse->handle()
   │ #26 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Cookie\Middleware\EncryptCookies.php(74): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   │ #27 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Cookie\Middleware\EncryptCookies->handle()
   │ #28 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(126): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   │ #29 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Routing\Router.php(807): Illuminate\Pipeline\Pipeline->then()
   │ #30 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Routing\Router.php(786): Illuminate\Routing\Router->runRouteWithinStack()
   │ #31 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Routing\Router.php(750): Illuminate\Routing\Router->runRoute()
   │ #32 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Routing\Router.php(739): Illuminate\Routing\Router->dispatchToRoute()
   │ #33 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Http\Kernel.php(200): Illuminate\Routing\Router->dispatch()
   │ #34 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(169): Illuminate\Foundation\Http\Kernel->Illuminate\Foundation\Http\{closure}()
   │ #35 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   │ #36 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\ConvertEmptyStringsToNull.php(31): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
   │ #37 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Foundation\Http\Middleware\ConvertEmptyStringsToNull->handle()
   │ #38 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   │ #39 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\TrimStrings.php(51): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
   │ #40 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Foundation\Http\Middleware\TrimStrings->handle()
   │ #41 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Http\Middleware\ValidatePostSize.php(27): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   │ #42 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Http\Middleware\ValidatePostSize->handle()
   │ #43 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\PreventRequestsDuringMaintenance.php(109): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   │ #44 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Foundation\Http\Middleware\PreventRequestsDuringMaintenance->handle()
   │ #45 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Http\Middleware\HandleCors.php(48): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   │ #46 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Http\Middleware\HandleCors->handle()
   │ #47 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Http\Middleware\TrustProxies.php(58): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   │ #48 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Http\Middleware\TrustProxies->handle()
   │ #49 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\InvokeDeferredCallbacks.php(22): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   │ #50 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Foundation\Http\Middleware\InvokeDeferredCallbacks->handle()
   │ #51 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Http\Middleware\ValidatePathEncoding.php(26): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   │ #52 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(208): Illuminate\Http\Middleware\ValidatePathEncoding->handle()
   │ #53 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(126): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   │ #54 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Http\Kernel.php(175): Illuminate\Pipeline\Pipeline->then()
   │ #55 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Http\Kernel.php(144): Illuminate\Foundation\Http\Kernel->sendRequestThroughRouter()
   │ #56 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Testing\Concerns\MakesHttpRequests.php(607): Illuminate\Foundation\Http\Kernel->handle()
   │ #57 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Foundation\Testing\Concerns\MakesHttpRequests.php(368): Illuminate\Foundation\Testing\TestCase->call()
   │ #58 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\tests\Feature\ExampleTest.php(15): Illuminate\Foundation\Testing\TestCase->get()
   │ #59 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\phpunit\phpunit\src\Framework\TestCase.php(1656): Tests\Feature\ExampleTest->test_the_application_returns_a_successful_response()
   │ #60 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\phpunit\phpunit\src\Framework\TestCase.php(514): PHPUnit\Framework\TestCase->runTest()
   │ #61 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\phpunit\phpunit\src\Framework\TestRunner\TestRunner.php(87): PHPUnit\Framework\TestCase->runBare()
   │ #62 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\phpunit\phpunit\src\Framework\TestCase.php(361): PHPUnit\Framework\TestRunner->run()
   │ #63 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\phpunit\phpunit\src\Framework\TestSuite.php(369): PHPUnit\Framework\TestCase->run()
   │ #64 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\phpunit\phpunit\src\Framework\TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
   │ #65 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\phpunit\phpunit\src\Framework\TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
   │ #66 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\phpunit\phpunit\src\TextUI\TestRunner.php(64): PHPUnit\Framework\TestSuite->run()
   │ #67 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\phpunit\phpunit\src\TextUI\Application.php(210): PHPUnit\TextUI\TestRunner->run()
   │ #68 D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\phpunit\phpunit\phpunit(104): PHPUnit\TextUI\Application->run()
   │ #69 {main}
   │
   │ ----------------------------------------------------------------------------------
   │
   │ SQLSTATE[HY000]: General error: 1 no such table: type_of_calamities (Connection: sqlite, SQL: select "type_of_calamities".*, (select count(*) from "calamities" inner join "risk_levels" on "risk_levels"."id" = "calamities"."risk_level_id" where "type_of_calamities"."id" = "risk_levels"."type_of_calamity_id") as "calamities_count", (select count(*) from "constructions" inner join "risk_levels" on "risk_levels"."id" = "constructions"."risk_level_id" where "type_of_calamities"."id" = "risk_levels"."type_of_calamity_id") as "constructions_count" from "type_of_calamities")
   │
   │ D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Testing\TestResponseAssert.php:45
   │ D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Testing\TestResponse.php:174
   │ D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\tests\Feature\ExampleTest.php:17
   │

Example (Tests\Unit\Example)
 ✔ That true is true

Incident Report (Tests\Feature\IncidentReport)
 ✔ Guest can view incident report page
 ✔ Guest can view create incident report page
 ✔ Guest can create incident report
 ✔ Incident report requires required fields
 ✔ Authenticated user can delete incident report
 ✘ Authenticated user can delete multiple incident reports
   │
   │ Illuminate\Database\UniqueConstraintViolationException: SQLSTATE[23000]: Integrity constraint violation: 19 UNIQUE constraint failed: sub_type_of_calamities.slug (Connection: sqlite, SQL: insert into "sub_type_of_calamities" ("name", "slug", "description", "type_of_calamity_id", "updated_at", "created_at") values (Sạt lở trung bình, sat-lo-trung-binh, Similique voluptate recusandae exercitationem ratione ut maiores quidem., 2, 2025-07-14 06:36:52, 2025-07-14 06:36:52))
   │
   │ D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Connection.php:817
   │ D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Connection.php:776
   │ D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Connection.php:557
   │ D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Connection.php:521
   │ D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Query\Processors\Processor.php:32
   │ D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Query\Builder.php:3796
   │ D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Eloquent\Builder.php:2205
   │ D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Eloquent\Model.php:1410
   │ D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Eloquent\Model.php:1375
   │ D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Eloquent\Model.php:1214
   │ D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Eloquent\Factories\Factory.php:350
   │ D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Collections\Traits\EnumeratesValues.php:271
   │ D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Eloquent\Factories\Factory.php:345
   │ D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Eloquent\Factories\Factory.php:301
   │ D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Eloquent\Factories\Factory.php:496
   │ D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Collections\Arr.php:749
   │ D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Collections\Collection.php:809
   │ D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Eloquent\Factories\Factory.php:491
   │ D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Eloquent\Factories\Factory.php:445
   │ D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Eloquent\Factories\Factory.php:429
   │ D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Eloquent\Concerns\GuardsAttributes.php:157
   │ D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Eloquent\Factories\Factory.php:428
   │ D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Eloquent\Factories\Factory.php:412
   │ D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Eloquent\Factories\Factory.php:411
   │ D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Database\Eloquent\Factories\Factory.php:298
   │ D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\tests\Feature\IncidentReportTest.php:81
   │
 ✔ Can get sub type of calamities
 ✔ Can get communes by district
 ✔ Incident report list displays data
 ✔ Guest cannot delete incident reports

Integration (Tests\Feature\Integration)
 ✘ Complete workflow from login to calamity management
   │
   │ Failed asserting that '<!DOCTYPE html>\n
   │ <html class="opacity-0" lang="vi">\n
   │ \n
   │ <head>\n
   │     <meta charset="utf-8">\n
   │     <meta name="csrf-token" content="MMFf9W5ZacSQEjDuZFJQXqRqU3Cb3QM9WkxaF9tB">\n
   │     <meta name="viewport" content="width=device-width, initial-scale=1">\n
   │     <meta name="author" content="LEFT4CODE">\n
   │     \n
   │     \n
   │     <script type="module" src="http://[::1]:5173/@vite/client"></script><script type="module" src="http://[::1]:5173/resources/js/vendors/dom.js"></script>    \n
   │         <script type="module" src="http://[::1]:5173/@vite/client"></script><script type="module" src="http://[::1]:5173/resources/js/vendors/modal.js"></script>\n
   │     <script type="module" src="http://[::1]:5173/@vite/client"></script><script type="module" src="http://[::1]:5173/resources/js/components/base/theme-color.js"></script>    <script type="module" src="http://[::1]:5173/@vite/client"></script><link rel="stylesheet" href="http://[::1]:5173/resources/css/app.css" /><script type="module" src="http://[::1]:5173/resources/js/app.js"></script>\n
   │         <script src="https://cdn.jsdelivr.net/npm/apexcharts"></script>\n
   │     <script>\n
   │ \n
   │         document.addEventListener("DOMContentLoaded", function() {\n
   │             var disasterData = [{"type":"S\u1ea1t L\u1edf","count":0,"percentage":0},{"type":"Ng\u1eadp L\u1ee5t","count":0,"percentage":0},{"type":"B\u00e3o","count":0,"percentage":0}];\n
   │             var labels = disasterData.map(item => item.type);\n
   │             var series = disasterData.map(item => item.count);\n
   │             \n
   │             var colors = ['#2563eb', '#f59e0b', '#ef4444'];\n
   │             if (series.reduce((a, b) => a + b, 0) === 0) {\n
   │                 document.getElementById("disaster-chart").innerHTML =\n
   │                     "<p class='text-gray-500 text-center'>Không có dữ liệu để hiển thị</p>";\n
   │             } else {\n
   │                 var options = {\n
   │                     series: series,\n
   │                     chart: {\n
   │                         type: 'pie',\n
   │                         height: 370\n
   │                     },\n
   │                     labels: labels,\n
   │                     colors: colors,\n
   │                     legend: {\n
   │                         show: false\n
   │                     },\n
   │                     stroke: {\n
   │                         show: true,\n
   │                         width: 2,\n
   │                         colors: ['#ffffff']\n
   │                     }\n
   │                 };\n
   │                 var chart = new ApexCharts(document.querySelector("#disaster-chart"), options);\n
   │                 chart.render();\n
   │             }\n
   │         });\n
   │ \n
   │         document.addEventListener("DOMContentLoaded", function() {\n
   │             if (typeof google === "undefined" || typeof google.maps === "undefined") {\n
   │                 console.warn("Google Maps API chưa tải xong, đợi 1 giây...");\n
   │                 let checkGoogleMaps = setInterval(() => {\n
   │                     if (typeof google !== "undefined" && typeof google.maps !== "undefined") {\n
   │                         clearInterval(checkGoogleMaps);\n
   │                         console.log("Google Maps API đã sẵn sàng!");\n
   │                         initializeApp();\n
   │                     }\n
   │                 }, 1000);\n
   │             } else {\n
   │                 console.log("Google Maps API đã sẵn sàng!");\n
   │                 initializeApp();\n
   │             }\n
   │         });\n
   │         let calamitiesData = [{"type":"S\u1ea1t L\u1edf","data":[]},{"type":"Ng\u1eadp L\u1ee5t","data":[]},{"type":"B\u00e3o","data":[]}]\n
   │         let map;\n
   │         let markers = {}; \n
   │         let kmlLayers = {}; \n
   │         let map1, marker;\n
   │ \n
   │         function initializeApp() {\n
   │             initMap();\n
   │             addMarkersAndKML()\n
   │             setupCheckboxListeners()\n
   │         }\n
   │ \n
   │         function initMap() {\n
   │             \n
   │             map = new google.maps.Map(document.getElementById('map'), {\n
   │                 center: {\n
   │                     lat: 9.176,\n
   │                     lng: 105.15\n
   │                 },\n
   │                 zoom: 10\n
   │             });\n
   │             addDistrictLabels();\n
   │ \n
   │         }\n
   │ \n
   │         function addDistrictLabels() {\n
   │             const districts = [{\n
   │                     name: "TP.Cà Mau",\n
   │                     lat: 9.180768,\n
   │                     lng: 105.191980\n
   │                 },\n
   │                 {\n
   │                     name: "H.U Minh",\n
   │                     lat: 9.3458,\n
   │                     lng: 104.9432\n
   │                 },\n
   │                 {\n
   │                     name: "H.Thới Bình",\n
   │                     lat: 9.340954,\n
   │                     lng: 105.163154\n
   │                 },\n
   │                 {\n
   │                     name: "H.Trần Văn Thời",\n
   │                     lat: 9.139329,\n
   │                     lng: 104.916711\n
   │                 },\n
   │                 {\n
   │                     name: "H.Cái Nước",\n
   │                     lat: 9.028582,\n
   │                     lng: 105.046749\n
   │                 },\n
   │                 {\n
   │                     name: "H.Đầm Dơi",\n
   │                     lat: 8.965907,\n
   │                     lng: 105.243772\n
   │                 },\n
   │                 {\n
   │                     name: "H.Năm Căn",\n
   │                     lat: 8.7815,\n
   │                     lng: 104.9735\n
   │                 },\n
   │                 {\n
   │                     name: "H.Phú Tân",\n
   │                     lat: 8.889554,\n
   │                     lng: 104.877030\n
   │                 },\n
   │                 {\n
   │                     name: "H.Ngọc Hiển",\n
   │                     lat: 8.6235,\n
   │                     lng: 104.8435\n
   │                 }\n
   │             ];\n
   │             districts.forEach(district => {\n
   │                 new google.maps.Marker({\n
   │                     position: {\n
   │                         lat: district.lat,\n
   │                         lng: district.lng\n
   │                     },\n
   │                     map,\n
   │                     label: {\n
   │                         text: district.name,\n
   │                         color: "black",\n
   │                         fontSize: "12px"\n
   │                     },\n
   │                     icon: {\n
   │                         path: google.maps.SymbolPath.CIRCLE,\n
   │                         scale: 0\n
   │                     },\n
   │                 });\n
   │             });\n
   │         }\n
   │ \n
   │         function removeVietnameseTones(str) {\n
   │             return str.normalize("NFD").replace(/[\u0300-\u036f]/g, "") \n
   │                 .replace(/đ/g, "d").replace(/Đ/g, "D") \n
   │                 .replace(/\s+/g, '-').toLowerCase(); \n
   │         }\n
   │ \n
   │         function addMarkersAndKML() {\n
   │             markers = {}; \n
   │             let sharedInfoWindow = new google.maps.InfoWindow();\n
   │             calamitiesData.forEach(disaster => {\n
   │                 disaster.data.forEach(item => {\n
   │                     console.log("📍 Marker:", item.name, item.coordinates);\n
   │                 });\n
   │ \n
   │                 let type = disaster.type;\n
   │                 let slug = removeVietnameseTones(type); \n
   │                 markers[slug] = [];\n
   │                 \n
   │                 let iconUrl = "";\n
   │                 switch (type.toLowerCase()) {\n
   │                     case "sạt lở":\n
   │                         iconUrl = "/uploads/map/falling_rocks.png";\n
   │                         break;\n
   │                     case "ngập lụt":\n
   │                         iconUrl = "/uploads/map/swimming.png";\n
   │                         break;\n
   │                     case "bão":\n
   │                         iconUrl = "/uploads/map/caution.png";\n
   │                         break;\n
   │                     default:\n
   │                         iconUrl = "https://maps.google.com/mapfiles/kml/shapes/info-i_maps.png"; \n
   │                 }\n
   │                 \n
   │                 if (Array.isArray(disaster.data)) {\n
   │                     disaster.data.forEach(item => {\n
   │                         if (item.coordinates) {\n
   │                             let [lat, lng] = item.coordinates.split(',').map(coord => parseFloat(coord\n
   │                                 .trim()));\n
   │                             let marker = new google.maps.Marker({\n
   │                                 position: {\n
   │                                     lat,\n
   │                                     lng\n
   │                                 },\n
   │                                 map: map,\n
   │                                 icon: {\n
   │                                     url: iconUrl,\n
   │                                     scaledSize: new google.maps.Size(25, 25)\n
   │                                 }\n
   │                             });\n
   │                             marker.addListener("click", () => {\n
   │                                 sharedInfoWindow.setContent(generateContent(item, type));\n
   │                                 sharedInfoWindow.open(map, marker);\n
   │                             });\n
   │                             google.maps.event.addListener(sharedInfoWindow, "domready", function() {\n
   │                                 const closeBtn = document.querySelector(".gm-ui-hover-effect");\n
   │                                 if (closeBtn) closeBtn.style.display = "none";\n
   │                                 const customClose = document.getElementById("custom-close-btn");\n
   │                                 if (customClose) {\n
   │                                     customClose.addEventListener("click", () => {\n
   │                                         sharedInfoWindow.close();\n
   │                                     });\n
   │                                 }\n
   │                             });\n
   │                             markers[slug].push(marker);\n
   │                         }\n
   │                     });\n
   │                 }\n
   │             });\n
   │         }\n
   │ \n
   │         function generateContent(calamity, type) {\n
   │             let headerColor = "linear-gradient(to right, #95a5a6, #7f8c8d)";\n
   │             if (type === "Sạt Lở") {\n
   │                 headerColor = "linear-gradient(to right, #e74c3c, #c0392b)";\n
   │             } else if (type === "Ngập Lụt") {\n
   │                 headerColor = "linear-gradient(to right, #3498db, #2980b9)";\n
   │             } else if (type === "Bão") {\n
   │                 headerColor = "linear-gradient(to right, #f39c12, #e67e22)";\n
   │             }\n
   │             const content = `\n
   │                     <div style="max-width: 320px; font-family: 'Segoe UI', sans-serif; border-radius: 16px; overflow: hidden; box-shadow: 0 8px 20px rgba(0,0,0,0.15); background: #fff; position: relative;">\n
   │                         <button id="custom-close-btn"\n
   │                             style="position: absolute; top: 10px; right: 10px; background: rgba(255,255,255,0.9); border: none; border-radius: 50%; padding: 6px 10px; font-size: 16px; cursor: pointer; box-shadow: 0 2px 6px rgba(0,0,0,0.2); z-index: 2;">\n
   │                             ✕\n
   │                         </button>\n
   │                         <div style="background: ${headerColor}; color: white; padding: 14px 20px; text-align: center;">\n
   │                             <div style="font-size: 17px; font-weight: bold; letter-spacing: 0.5px;">\n
   │                                 ${calamity.name || "Không có tên"} (${type})\n
   │                             </div>\n
   │                         </div>\n
   │                     <div style="padding: 16px 20px; font-size: 14.5px; color: #333; line-height: 1.8;">\n
   │                             <div style="margin-bottom: 6px;"><strong>🌍 Thiên tai:</strong> ${calamity.risk_level.type_of_calamities.name || "Không có"}</div>\n
   │                             <div style="margin-bottom: 6px;"><strong>🌀 Tác nhân:</strong> ${calamity.sub_type_of_calamities[0].name || "Không có"}</div>\n
   │                             <div style="margin-bottom: 6px;"><strong>⚠️ Cấp độ:</strong> ${calamity.risk_level.name || "Không có"}</div>\n
   │                             <div style="margin-bottom: 6px;"><strong>📍 Địa chỉ:</strong> ${calamity.address || "Không có"}</div>\n
   │                             <div style="margin-bottom: 6px;"><strong>🏘️ Xã:</strong> ${calamity.communes?.[0]?.name || "Không có"}</div>\n
   │                             <div style="margin-bottom: 6px;"><strong>🏞️ Huyện:</strong> ${calamity.communes?.[0]?.district?.name || "Không có"}</div>\n
   │                         </div>\n
   │                     </div>\n
   │                     `;\n
   │             return content;\n
   │         }\n
   │ \n
   │         function setupCheckboxListeners() {\n
   │             document.querySelectorAll("input[type='checkbox']").forEach(checkbox => {\n
   │                 checkbox.addEventListener("change", function() {\n
   │                     let typeSlug = this.id.replace("toggle-", "");\n
   │                     if (this.checked) {\n
   │                         if (markers[typeSlug]) {\n
   │                             markers[typeSlug].forEach(marker => marker.setVisible(true));\n
   │                         }\n
   │                         if (kmlLayers[typeSlug]) {\n
   │                             kmlLayers[typeSlug].forEach(layer => layer.setMap(map));\n
   │                         }\n
   │                     } else {\n
   │                         if (markers[typeSlug]) {\n
   │                             markers[typeSlug].forEach(marker => marker.setVisible(false));\n
   │                         }\n
   │                         if (kmlLayers[typeSlug]) {\n
   │                             kmlLayers[typeSlug].forEach(layer => layer.setMap(null));\n
   │                         }\n
   │                     }\n
   │                 });\n
   │             });\n
   │         }\n
   │ \n
   │         function showToast(message) {\n
   │             let toast = document.createElement("div");\n
   │             toast.innerText = message;\n
   │             toast.style.position = "fixed";\n
   │             toast.style.bottom = "20px";\n
   │             toast.style.left = "50%";\n
   │             toast.style.transform = "translateX(-50%)";\n
   │             toast.style.background = "#ff4d4d";\n
   │             toast.style.color = "white";\n
   │             toast.style.padding = "10px 20px";\n
   │             toast.style.borderRadius = "5px";\n
   │             toast.style.zIndex = "1000";\n
   │             document.body.appendChild(toast);\n
   │ \n
   │             setTimeout(() => {\n
   │                 toast.remove();\n
   │             }, 3000);\n
   │         }\n
   │     </script>\n
   │     <script async\n
   │         src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDMhd9dHKpWfJ57Ndv2alnxEcSvP_-_uN8&libraries=places&callback=initMap">\n
   │     </script>\n
   │     \n
   │ </head>\n
   │ \n
   │ <body style="background-color: #1E3A8A;">\n
   │ \n
   │     <div class=" px-5 sm:px-8 py-5 ">\n
   │         <div class="mobile-menu hidden lg:hidden fixed inset-0 bg-slate-900 text-white z-50 overflow-y-auto" style="background-color: #1E3A8A;">\n
   │     \n
   │     <div class="flex h-[70px] items-center px-4 sm:px-8 justify-between border-b border-slate-700 lg:hidden">\n
   │         <a href="http://localhost" class="flex items-center gap-2">\n
   │             <span class="font-semibold text-lg">Quản lý thiên tai</span>\n
   │         </a>\n
   │         <span role="button" class="mobile-menu-close cursor-pointer"\n
   │       onclick="document.querySelector('.mobile-menu')?.classList.add('hidden')">\n
   │     <svg class="lucide w-5 h-5 mr-2" xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24"><circle cx="12" cy="12" r="10"/><path d="M15 9l-6 6m0-6l6 6"/></svg>\n
   │     </span>\n
   │ \n
   │     </div>\n
   │ \n
   │     <ul class="py-4 px-4 space-y-2">\n
   │                                                         <li>\n
   │                         <a class="flex items-center justify-between px-4 py-3 hover:bg-slate-700 rounded transition "\n
   │                            href="http://localhost">\n
   │                             <div class="flex items-center gap-2">\n
   │                                 <svg class="lucide w-5 h-5 mr-2" xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24"><path d="M12 22a10 10 0 1 0-10-10a10.011 10.011 0 0 0 10 10z"/><path d="M12.5 7h-1a1.5 1.5 0 0 0-1.5 1.5v6A1.5 1.5 0 0 0 11.5 16h1a1.5 1.5 0 0 0 .5-2.9V9.9A1.5 1.5 0 0 0 12.5 7z"/><circle cx="12" cy="19" r=".5"/></svg>\n
   │                                 <span>Tổng Quan</span>\n
   │                             </div>\n
   │                                                     </a>\n
   │ \n
   │                                             </li>\n
   │                                                                 <li>\n
   │                         <a class="flex items-center justify-between px-4 py-3 hover:bg-slate-700 rounded transition toggle-submenu"\n
   │                            href="javascript:;">\n
   │                             <div class="flex items-center gap-2">\n
   │                                 <svg class="lucide w-5 h-5 mr-2" xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24"><path d="M3 9l9-7l9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V9z"/><polyline points="9 22 9 12 15 12 15 22"/></svg>\n
   │                                 <span>Địa Điểm</span>\n
   │                             </div>\n
   │                                                             <svg class="lucide w-5 h-5 mr-2" xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24"><path d="M6 9l6 6l6-6"/></svg>\n
   │                                                     </a>\n
   │ \n
   │                                                     <ul class="submenu ml-4 mt-1 hidden space-y-1">\n
   │                                                                     <li>\n
   │                                         <a class="flex items-center justify-between px-4 py-2 text-sm hover:bg-slate-700 rounded transition "\n
   │                                            href="http://localhost/list-city">\n
   │                                             <div class="flex items-center gap-2">\n
   │                                                 <svg class="lucide w-5 h-5 mr-2" xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24"><path d="M12 22a10 10 0 1 0-10-10a10.011 10.011 0 0 0 10 10z"/><path d="M12.5 7h-1a1.5 1.5 0 0 0-1.5 1.5v6A1.5 1.5 0 0 0 11.5 16h1a1.5 1.5 0 0 0 .5-2.9V9.9A1.5 1.5 0 0 0 12.5 7z"/><circle cx="12" cy="19" r=".5"/></svg>\n
   │                                                 <span>Tỉnh-Thành</span>\n
   │                                             </div>\n
   │                                                                                     </a>\n
   │ \n
   │                                                                             </li>\n
   │                                                                     <li>\n
   │                                         <a class="flex items-center justify-between px-4 py-2 text-sm hover:bg-slate-700 rounded transition "\n
   │                                            href="http://localhost/list-district">\n
   │                                             <div class="flex items-center gap-2">\n
   │                                                 <svg class="lucide w-5 h-5 mr-2" xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24"><path d="M12 22a10 10 0 1 0-10-10a10.011 10.011 0 0 0 10 10z"/><path d="M12.5 7h-1a1.5 1.5 0 0 0-1.5 1.5v6A1.5 1.5 0 0 0 11.5 16h1a1.5 1.5 0 0 0 .5-2.9V9.9A1.5 1.5 0 0 0 12.5 7z"/><circle cx="12" cy="19" r=".5"/></svg>\n
   │                                                 <span>Quận-Huyện</span>\n
   │                                             </div>\n
   │                                                                                     </a>\n
   │ \n
   │                                                                             </li>\n
   │                                                                     <li>\n
   │                                         <a class="flex items-center justify-between px-4 py-2 text-sm hover:bg-slate-700 rounded transition "\n
   │                                            href="http://localhost/list-commune">\n
   │                                             <div class="flex items-center gap-2">\n
   │                                                 <svg class="lucide w-5 h-5 mr-2" xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24"><path d="M12 22a10 10 0 1 0-10-10a10.011 10.011 0 0 0 10 10z"/><path d="M12.5 7h-1a1.5 1.5 0 0 0-1.5 1.5v6A1.5 1.5 0 0 0 11.5 16h1a1.5 1.5 0 0 0 .5-2.9V9.9A1.5 1.5 0 0 0 12.5 7z"/><circle cx="12" cy="19" r=".5"/></svg>\n
   │                                                 <span>Phường-Xã</span>\n
   │                                             </div>\n
   │                                                                                     </a>\n
   │ \n
   │                                                                             </li>\n
   │                                                             </ul>\n
   │                                             </li>\n
   │                                                                 <li>\n
   │                         <a class="flex items-center justify-between px-4 py-3 hover:bg-slate-700 rounded transition toggle-submenu"\n
   │                            href="javascript:;">\n
   │                             <div class="flex items-center gap-2">\n
   │                                 <svg class="lucide w-5 h-5 mr-2" xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24"><path d="M16 21v-2a4 4 0 0 0-8 0v2"/><circle cx="12" cy="7" r="4"/><path d="M20.88 18.5A3.5 3.5 0 0 1 17.5 22H6.5a3.5 3.5 0 0 1-3.38-2.5"/></svg>\n
   │                                 <span>Loại Thiên Tai</span>\n
   │                             </div>\n
   │                                                             <svg class="lucide w-5 h-5 mr-2" xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24"><path d="M6 9l6 6l6-6"/></svg>\n
   │                                                     </a>\n
   │ \n
   │                                                     <ul class="submenu ml-4 mt-1 hidden space-y-1">\n
   │                                                                     <li>\n
   │                                         <a class="flex items-center justify-between px-4 py-2 text-sm hover:bg-slate-700 rounded transition "\n
   │                                            href="http://localhost/list-type-of-calamity">\n
   │                                             <div class="flex items-center gap-2">\n
   │                                                 <svg class="lucide w-5 h-5 mr-2" xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24"><path d="M12 22a10 10 0 1 0-10-10a10.011 10.011 0 0 0 10 10z"/><path d="M12.5 7h-1a1.5 1.5 0 0 0-1.5 1.5v6A1.5 1.5 0 0 0 11.5 16h1a1.5 1.5 0 0 0 .5-2.9V9.9A1.5 1.5 0 0 0 12.5 7z"/><circle cx="12" cy="19" r=".5"/></svg>\n
   │                                                 <span>Loại Thiên Tai</span>\n
   │                                             </div>\n
   │                                                                                     </a>\n
   │ \n
   │                                                                             </li>\n
   │                                                                     <li>\n
   │                                         <a class="flex items-center justify-between px-4 py-2 text-sm hover:bg-slate-700 rounded transition "\n
   │                                            href="http://localhost/list-sub-type-of-calamity">\n
   │                                             <div class="flex items-center gap-2">\n
   │                                                 <svg class="lucide w-5 h-5 mr-2" xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24"><path d="M12 22a10 10 0 1 0-10-10a10.011 10.011 0 0 0 10 10z"/><path d="M12.5 7h-1a1.5 1.5 0 0 0-1.5 1.5v6A1.5 1.5 0 0 0 11.5 16h1a1.5 1.5 0 0 0 .5-2.9V9.9A1.5 1.5 0 0 0 12.5 7z"/><circle cx="12" cy="19" r=".5"/></svg>\n
   │                                                 <span>Loại Thiên Tai Phụ</span>\n
   │                                             </div>\n
   │                                                                                     </a>\n
   │ \n
   │                                                                             </li>\n
   │                                                                     <li>\n
   │                                         <a class="flex items-center justify-between px-4 py-2 text-sm hover:bg-slate-700 rounded transition "\n
   │                                            href="http://localhost/list-risk-level">\n
   │                                             <div class="flex items-center gap-2">\n
   │                                                 <svg class="lucide w-5 h-5 mr-2" xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24"><path d="M12 22a10 10 0 1 0-10-10a10.011 10.011 0 0 0 10 10z"/><path d="M12.5 7h-1a1.5 1.5 0 0 0-1.5 1.5v6A1.5 1.5 0 0 0 11.5 16h1a1.5 1.5 0 0 0 .5-2.9V9.9A1.5 1.5 0 0 0 12.5 7z"/><circle cx="12" cy="19" r=".5"/></svg>\n
   │                                                 <span>Cấp Độ Thiên Tai</span>\n
   │                                             </div>\n
   │                                                                                     </a>\n
   │ \n
   │                                                                             </li>\n
   │                                                                     <li>\n
   │                                         <a class="flex items-center justify-between px-4 py-2 text-sm hover:bg-slate-700 rounded transition "\n
   │                                            href="http://localhost/list-type-of-construction">\n
   │                                             <div class="flex items-center gap-2">\n
   │                                                 <svg class="lucide w-5 h-5 mr-2" xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24"><path d="M12 22a10 10 0 1 0-10-10a10.011 10.011 0 0 0 10 10z"/><path d="M12.5 7h-1a1.5 1.5 0 0 0-1.5 1.5v6A1.5 1.5 0 0 0 11.5 16h1a1.5 1.5 0 0 0 .5-2.9V9.9A1.5 1.5 0 0 0 12.5 7z"/><circle cx="12" cy="19" r=".5"/></svg>\n
   │                                                 <span>Loại Công Trình</span>\n
   │                                             </div>\n
   │                                                                                     </a>\n
   │ \n
   │                                                                             </li>\n
   │                                                                     <li>\n
   │                                         <a class="flex items-center justify-between px-4 py-2 text-sm hover:bg-slate-700 rounded transition "\n
   │                                            href="http://localhost/list-scenarios">\n
   │                                             <div class="flex items-center gap-2">\n
   │                                                 <svg class="lucide w-5 h-5 mr-2" xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24"><path d="M12 22a10 10 0 1 0-10-10a10.011 10.011 0 0 0 10 10z"/><path d="M12.5 7h-1a1.5 1.5 0 0 0-1.5 1.5v6A1.5 1.5 0 0 0 11.5 16h1a1.5 1.5 0 0 0 .5-2.9V9.9A1.5 1.5 0 0 0 12.5 7z"/><circle cx="12" cy="19" r=".5"/></svg>\n
   │                                                 <span>Phương Án Ứng Phó</span>\n
   │                                             </div>\n
   │                                                                                     </a>\n
   │ \n
   │                                                                             </li>\n
   │                                                             </ul>\n
   │                                             </li>\n
   │                                                                 <li>\n
   │                         <a class="flex items-center justify-between px-4 py-3 hover:bg-slate-700 rounded transition toggle-submenu"\n
   │                            href="javascript:;">\n
   │                             <div class="flex items-center gap-2">\n
   │                                 <svg class="lucide w-5 h-5 mr-2" xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24"><path d="M16 21v-2a4 4 0 0 0-8 0v2"/><circle cx="12" cy="7" r="4"/><path d="M20.88 18.5A3.5 3.5 0 0 1 17.5 22H6.5a3.5 3.5 0 0 1-3.38-2.5"/></svg>\n
   │                                 <span>Dữ Liệu Thiên Tai</span>\n
   │                             </div>\n
   │                                                             <svg class="lucide w-5 h-5 mr-2" xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24"><path d="M6 9l6 6l6-6"/></svg>\n
   │                                                     </a>\n
   │ \n
   │                                                     <ul class="submenu ml-4 mt-1 hidden space-y-1">\n
   │                                                                     <li>\n
   │                                         <a class="flex items-center justify-between px-4 py-2 text-sm hover:bg-slate-700 rounded transition "\n
   │                                            href="http://localhost/calamity/list-river-bank">\n
   │                                             <div class="flex items-center gap-2">\n
   │                                                 <svg class="lucide w-5 h-5 mr-2" xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24"><path d="M12 22a10 10 0 1 0-10-10a10.011 10.011 0 0 0 10 10z"/><path d="M12.5 7h-1a1.5 1.5 0 0 0-1.5 1.5v6A1.5 1.5 0 0 0 11.5 16h1a1.5 1.5 0 0 0 .5-2.9V9.9A1.5 1.5 0 0 0 12.5 7z"/><circle cx="12" cy="19" r=".5"/></svg>\n
   │                                                 <span>Sạt Lở</span>\n
   │                                             </div>\n
   │                                                                                     </a>\n
   │ \n
   │                                                                             </li>\n
   │                                                                     <li>\n
   │                                         <a class="flex items-center justify-between px-4 py-2 text-sm hover:bg-slate-700 rounded transition "\n
   │                                            href="http://localhost/calamity/list-flooding">\n
   │                                             <div class="flex items-center gap-2">\n
   │                                                 <svg class="lucide w-5 h-5 mr-2" xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24"><path d="M12 22a10 10 0 1 0-10-10a10.011 10.011 0 0 0 10 10z"/><path d="M12.5 7h-1a1.5 1.5 0 0 0-1.5 1.5v6A1.5 1.5 0 0 0 11.5 16h1a1.5 1.5 0 0 0 .5-2.9V9.9A1.5 1.5 0 0 0 12.5 7z"/><circle cx="12" cy="19" r=".5"/></svg>\n
   │                                                 <span>Ngập Lụt</span>\n
   │                                             </div>\n
   │                                                                                     </a>\n
   │ \n
   │                                                                             </li>\n
   │                                                                     <li>\n
   │                                         <a class="flex items-center justify-between px-4 py-2 text-sm hover:bg-slate-700 rounded transition "\n
   │                                            href="http://localhost/calamity/list-storm">\n
   │                                             <div class="flex items-center gap-2">\n
   │                                                 <svg class="lucide w-5 h-5 mr-2" xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24"><path d="M12 22a10 10 0 1 0-10-10a10.011 10.011 0 0 0 10 10z"/><path d="M12.5 7h-1a1.5 1.5 0 0 0-1.5 1.5v6A1.5 1.5 0 0 0 11.5 16h1a1.5 1.5 0 0 0 .5-2.9V9.9A1.5 1.5 0 0 0 12.5 7z"/><circle cx="12" cy="19" r=".5"/></svg>\n
   │                                                 <span>Bão và ATNĐ</span>\n
   │                                             </div>\n
   │                                                                                     </a>\n
   │ \n
   │                                                                             </li>\n
   │                                                             </ul>\n
   │                                             </li>\n
   │                                                                 <li>\n
   │                         <a class="flex items-center justify-between px-4 py-3 hover:bg-slate-700 rounded transition toggle-submenu"\n
   │                            href="javascript:;">\n
   │                             <div class="flex items-center gap-2">\n
   │                                 <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-construction-icon lucide-construction"><rect x="2" y="6" width="20" height="8" rx="1"/><path d="M17 14v7"/><path d="M7 14v7"/><path d="M17 3v3"/><path d="M7 3v3"/><path d="M10 14 2.3 6.3"/><path d="m14 6 7.7 7.7"/><path d="m8 6 8 8"/></svg>\n
   │                                 <span>Công Trình PCTT</span>\n
   │                             </div>\n
   │                                                             <svg class="lucide w-5 h-5 mr-2" xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24"><path d="M6 9l6 6l6-6"/></svg>\n
   │                                                     </a>\n
   │ \n
   │                                                     <ul class="submenu ml-4 mt-1 hidden space-y-1">\n
   │                                                                     <li>\n
   │                                         <a class="flex items-center justify-between px-4 py-2 text-sm hover:bg-slate-700 rounded transition "\n
   │                                            href="http://localhost/construction/list-river-bank">\n
   │                                             <div class="flex items-center gap-2">\n
   │                                                 <svg class="lucide w-5 h-5 mr-2" xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24"><path d="M12 22a10 10 0 1 0-10-10a10.011 10.011 0 0 0 10 10z"/><path d="M12.5 7h-1a1.5 1.5 0 0 0-1.5 1.5v6A1.5 1.5 0 0 0 11.5 16h1a1.5 1.5 0 0 0 .5-2.9V9.9A1.5 1.5 0 0 0 12.5 7z"/><circle cx="12" cy="19" r=".5"/></svg>\n
   │                                                 <span>Sạt Lở</span>\n
   │                                             </div>\n
   │                                                                                     </a>\n
   │ \n
   │                                                                             </li>\n
   │                                                                     <li>\n
   │                                         <a class="flex items-center justify-between px-4 py-2 text-sm hover:bg-slate-700 rounded transition "\n
   │                                            href="http://localhost/construction/list-flooding">\n
   │                                             <div class="flex items-center gap-2">\n
   │                                                 <svg class="lucide w-5 h-5 mr-2" xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24"><path d="M12 22a10 10 0 1 0-10-10a10.011 10.011 0 0 0 10 10z"/><path d="M12.5 7h-1a1.5 1.5 0 0 0-1.5 1.5v6A1.5 1.5 0 0 0 11.5 16h1a1.5 1.5 0 0 0 .5-2.9V9.9A1.5 1.5 0 0 0 12.5 7z"/><circle cx="12" cy="19" r=".5"/></svg>\n
   │                                                 <span>Ngập Lụt</span>\n
   │                                             </div>\n
   │                                                                                     </a>\n
   │ \n
   │                                                                             </li>\n
   │                                                                     <li>\n
   │                                         <a class="flex items-center justify-between px-4 py-2 text-sm hover:bg-slate-700 rounded transition "\n
   │                                            href="http://localhost/construction/list-storm">\n
   │                                             <div class="flex items-center gap-2">\n
   │                                                 <svg class="lucide w-5 h-5 mr-2" xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24"><path d="M12 22a10 10 0 1 0-10-10a10.011 10.011 0 0 0 10 10z"/><path d="M12.5 7h-1a1.5 1.5 0 0 0-1.5 1.5v6A1.5 1.5 0 0 0 11.5 16h1a1.5 1.5 0 0 0 .5-2.9V9.9A1.5 1.5 0 0 0 12.5 7z"/><circle cx="12" cy="19" r=".5"/></svg>\n
   │                                                 <span>Bão và ATNĐ</span>\n
   │                                             </div>\n
   │                                                                                     </a>\n
   │ \n
   │                                                                             </li>\n
   │                                                             </ul>\n
   │                                             </li>\n
   │                                                                 <li>\n
   │                         <a class="flex items-center justify-between px-4 py-3 hover:bg-slate-700 rounded transition toggle-submenu"\n
   │                            href="javascript:;">\n
   │                             <div class="flex items-center gap-2">\n
   │                                 <svg class="lucide w-5 h-5 mr-2" xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24"><path d="M16 21v-2a4 4 0 0 0-8 0v2"/><circle cx="12" cy="7" r="4"/><path d="M20.88 18.5A3.5 3.5 0 0 1 17.5 22H6.5a3.5 3.5 0 0 1-3.38-2.5"/></svg>\n
   │                                 <span>Địa danh hành chính</span>\n
   │                             </div>\n
   │                                                             <svg class="lucide w-5 h-5 mr-2" xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24"><path d="M6 9l6 6l6-6"/></svg>\n
   │                                                     </a>\n
   │ \n
   │                                                     <ul class="submenu ml-4 mt-1 hidden space-y-1">\n
   │                                                                     <li>\n
   │                                         <a class="flex items-center justify-between px-4 py-2 text-sm hover:bg-slate-700 rounded transition "\n
   │                                            href="http://localhost/administrative/list-school">\n
   │                                             <div class="flex items-center gap-2">\n
   │                                                 <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-school-icon lucide-school"><path d="M14 22v-4a2 2 0 1 0-4 0v4"/><path d="m18 10 3.447 1.724a1 1 0 0 1 .553.894V20a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2v-7.382a1 1 0 0 1 .553-.894L6 10"/><path d="M18 5v17"/><path d="m4 6 7.106-3.553a2 2 0 0 1 1.788 0L20 6"/><path d="M6 5v17"/><circle cx="12" cy="9" r="2"/></svg>\n
   │                                                 <span>Trường Học</span>\n
   │                                             </div>\n
   │                                                                                     </a>\n
   │ \n
   │                                                                             </li>\n
   │                                                                     <li>\n
   │                                         <a class="flex items-center justify-between px-4 py-2 text-sm hover:bg-slate-700 rounded transition "\n
   │                                            href="http://localhost/administrative/list-medical">\n
   │                                             <div class="flex items-center gap-2">\n
   │                                                 <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-hospital-icon lucide-hospital"><path d="M12 6v4"/><path d="M14 14h-4"/><path d="M14 18h-4"/><path d="M14 8h-4"/><path d="M18 12h2a2 2 0 0 1 2 2v6a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2v-9a2 2 0 0 1 2-2h2"/><path d="M18 22V4a2 2 0 0 0-2-2H8a2 2 0 0 0-2 2v18"/></svg>\n
   │                                                 <span>Địa Điểm Y Tế</span>\n
   │                                             </div>\n
   │                                                                                     </a>\n
   │ \n
   │                                                                             </li>\n
   │                                                                     <li>\n
   │                                         <a class="flex items-center justify-between px-4 py-2 text-sm hover:bg-slate-700 rounded transition "\n
   │                                            href="http://localhost/administrative/list-center">\n
   │                                             <div class="flex items-center gap-2">\n
   │                                                 <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-university-icon lucide-university"><path d="M14 21v-3a2 2 0 0 0-4 0v3"/><path d="M18 12h.01"/><path d="M18 16h.01"/><path d="M22 7a1 1 0 0 0-1-1h-2a2 2 0 0 1-1.143-.359L13.143 2.36a2 2 0 0 0-2.286-.001L6.143 5.64A2 2 0 0 1 5 6H3a1 1 0 0 0-1 1v12a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2z"/><path d="M6 12h.01"/><path d="M6 16h.01"/><circle cx="12" cy="10" r="2"/></svg>\n
   │                                                 <span>TTHC và Khác</span>\n
   │                                             </div>\n
   │                                                                                     </a>\n
   │ \n
   │                                                                             </li>\n
   │                                                             </ul>\n
   │                                             </li>\n
   │                                                                 <li>\n
   │                         <a class="flex items-center justify-between px-4 py-3 hover:bg-slate-700 rounded transition toggle-submenu"\n
   │                            href="javascript:;">\n
   │                             <div class="flex items-center gap-2">\n
   │                                 <svg class="lucide w-5 h-5 mr-2" xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24"><path d="M16 21v-2a4 4 0 0 0-8 0v2"/><circle cx="12" cy="7" r="4"/><path d="M20.88 18.5A3.5 3.5 0 0 1 17.5 22H6.5a3.5 3.5 0 0 1-3.38-2.5"/></svg>\n
   │                                 <span>Dữ Liệu Khác</span>\n
   │                             </div>\n
   │                                                             <svg class="lucide w-5 h-5 mr-2" xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24"><path d="M6 9l6 6l6-6"/></svg>\n
   │                                                     </a>\n
   │ \n
   │                                                     <ul class="submenu ml-4 mt-1 hidden space-y-1">\n
   │                                                                     <li>\n
   │                                         <a class="flex items-center justify-between px-4 py-2 text-sm hover:bg-slate-700 rounded transition "\n
   │                                            href="http://localhost/geographical/list-erosion">\n
   │                                             <div class="flex items-center gap-2">\n
   │                                                 <svg class="lucide w-5 h-5 mr-2" xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24"><path d="M12 22a10 10 0 1 0-10-10a10.011 10.011 0 0 0 10 10z"/><path d="M12.5 7h-1a1.5 1.5 0 0 0-1.5 1.5v6A1.5 1.5 0 0 0 11.5 16h1a1.5 1.5 0 0 0 .5-2.9V9.9A1.5 1.5 0 0 0 12.5 7z"/><circle cx="12" cy="19" r=".5"/></svg>\n
   │                                                 <span>Khu vực xói, bồi</span>\n
   │                                             </div>\n
   │                                                                                     </a>\n
   │ \n
   │                                                                             </li>\n
   │                                                                     <li>\n
   │                                         <a class="flex items-center justify-between px-4 py-2 text-sm hover:bg-slate-700 rounded transition "\n
   │                                            href="http://localhost/geographical/list-shoreline">\n
   │                                             <div class="flex items-center gap-2">\n
   │                                                 <svg class="lucide w-5 h-5 mr-2" xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24"><path d="M12 22a10 10 0 1 0-10-10a10.011 10.011 0 0 0 10 10z"/><path d="M12.5 7h-1a1.5 1.5 0 0 0-1.5 1.5v6A1.5 1.5 0 0 0 11.5 16h1a1.5 1.5 0 0 0 .5-2.9V9.9A1.5 1.5 0 0 0 12.5 7z"/><circle cx="12" cy="19" r=".5"/></svg>\n
   │                                                 <span>Lịch sử đường bờ</span>\n
   │                                             </div>\n
   │                                                                                     </a>\n
   │ \n
   │                                                                             </li>\n
   │                                                                     <li>\n
   │                                         <a class="flex items-center justify-between px-4 py-2 text-sm hover:bg-slate-700 rounded transition "\n
   │                                            href="http://localhost/geographical/list-cross-section">\n
   │                                             <div class="flex items-center gap-2">\n
   │                                                 <svg class="lucide w-5 h-5 mr-2" xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24"><path d="M12 22a10 10 0 1 0-10-10a10.011 10.011 0 0 0 10 10z"/><path d="M12.5 7h-1a1.5 1.5 0 0 0-1.5 1.5v6A1.5 1.5 0 0 0 11.5 16h1a1.5 1.5 0 0 0 .5-2.9V9.9A1.5 1.5 0 0 0 12.5 7z"/><circle cx="12" cy="19" r=".5"/></svg>\n
   │                                                 <span>Mặt cắt ngang</span>\n
   │                                             </div>\n
   │                                                                                     </a>\n
   │ \n
   │                                                                             </li>\n
   │                                                                     <li>\n
   │                                         <a class="flex items-center justify-between px-4 py-2 text-sm hover:bg-slate-700 rounded transition "\n
   │                                            href="http://localhost/geographical/list-monitoring">\n
   │                                             <div class="flex items-center gap-2">\n
   │                                                 <svg class="lucide w-5 h-5 mr-2" xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24"><path d="M12 22a10 10 0 1 0-10-10a10.011 10.011 0 0 0 10 10z"/><path d="M12.5 7h-1a1.5 1.5 0 0 0-1.5 1.5v6A1.5 1.5 0 0 0 11.5 16h1a1.5 1.5 0 0 0 .5-2.9V9.9A1.5 1.5 0 0 0 12.5 7z"/><circle cx="12" cy="19" r=".5"/></svg>\n
   │                                                 <span>Mốc quan trắc</span>\n
   │                                             </div>\n
   │                                                                                     </a>\n
   │ \n
   │                                                                             </li>\n
   │                                                             </ul>\n
   │                                             </li>\n
   │                                                                 <li>\n
   │                         <a class="flex items-center justify-between px-4 py-3 hover:bg-slate-700 rounded transition "\n
   │                            href="http://localhost/map">\n
   │                             <div class="flex items-center gap-2">\n
   │                                 <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-map-icon lucide-map"><path d="M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z"/><path d="M15 5.764v15"/><path d="M9 3.236v15"/></svg>\n
   │                                 <span>Bản Đồ</span>\n
   │                             </div>\n
   │                                                     </a>\n
   │ \n
   │                                             </li>\n
   │                                                                 <li>\n
   │                         <a class="flex items-center justify-between px-4 py-3 hover:bg-slate-700 rounded transition "\n
   │                            href="http://localhost/chat">\n
   │                             <div class="flex items-center gap-2">\n
   │                                 <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-message-circle-icon lucide-message-circle"><path d="M7.9 20A9 9 0 1 0 4 16.1L2 22Z"/></svg>\n
   │                                 <span>Tham gia cộng đồng</span>\n
   │                             </div>\n
   │                                                     </a>\n
   │ \n
   │                                             </li>\n
   │                                                                 <li>\n
   │                         <a class="flex items-center justify-between px-4 py-3 hover:bg-slate-700 rounded transition "\n
   │                            href="http://localhost/incident-report">\n
   │                             <div class="flex items-center gap-2">\n
   │                                 <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-message-square-warning-icon lucide-message-square-warning"><path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"/><path d="M12 7v2"/><path d="M12 13h.01"/></svg>\n
   │                                 <span>Báo cáo sự cố</span>\n
   │                             </div>\n
   │                                                     </a>\n
   │ \n
   │                                             </li>\n
   │                                         </ul>\n
   │ </div>\n
   │ \n
   │ <div class="flex h-[10px] items-center px-3 sm:px-8 md:hidden" >\n
   │     <a class="mr-auto flex" href="http://localhost">\n
   │         <img class="w-6" src="http://[::1]:5173/resources/images/logo.svg" alt="Logo" />\n
   │     </a>\n
   │     <a class="mobile-menu-toggler text-white" href="#" onclick="document.querySelector('.mobile-menu')?.classList.remove('hidden')">\n
   │         <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-square-menu-icon lucide-square-menu"><rect width="18" height="18" x="3" y="3" rx="2"/><path d="M7 8h10"/><path d="M7 12h10"/><path d="M7 16h10"/></svg>\n
   │     </a>\n
   │ </div>\n
   │ \n
   │ \n
   │ \n
   │         <div class="mt-7 flex md:mt-0">\n
   │             <nav class=" hidden w-[80px] overflow-x-hidden pb-16 pr-5 md:block xl:w-[230px]">\n
   │                 <a class="intro-x flex items-center pl-5 pt-4" href="/">\n
   │                     <span class=" lg:text-2xl xl:text-3xl  font-bold uppercase text-transparent bg-clip-text bg-gradient-to-r from-sky-400 to-emerald-600">Quản lý thiên tai</span>\n
   │                 </a>\n
   │                 <div class=" my-3"></div>\n
   │                 <ul >\n
   │                                                                                             <li>\n
   │                                 <a class="flex items-center justify-between px-4 py-3 hover:bg-white hover:text-black text-white transition rounded cursor-pointer "\n
   │                                     href="http://localhost">\n
   │                                     \n
   │                                     <div class="flex items-center gap-2" title="Tổng Quan">\n
   │                                         <div title="Tổng Quan"><svg class="lucide w-5 h-5 mr-2" xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24"><path d="M12 22a10 10 0 1 0-10-10a10.011 10.011 0 0 0 10 10z"/><path d="M12.5 7h-1a1.5 1.5 0 0 0-1.5 1.5v6A1.5 1.5 0 0 0 11.5 16h1a1.5 1.5 0 0 0 .5-2.9V9.9A1.5 1.5 0 0 0 12.5 7z"/><circle cx="12" cy="19" r=".5"/></svg></div>\n
   │                                         <span class="hidden xl:inline" >Tổng Quan</span>\n
   │                                     </div>\n
   │ \n
   │                                                                     </a>\n
   │                                                             </li>\n
   │                                                                                                 <li>\n
   │                                 <a class="flex items-center justify-between px-4 py-3 hover:bg-white hover:text-black text-white transition rounded cursor-pointer toggle-submenu"\n
   │                                     href="javascript:;">\n
   │                                     \n
   │                                     <div class="flex items-center gap-2" title="Địa Điểm">\n
   │                                         <div title="Địa Điểm"><svg class="lucide w-5 h-5 mr-2" xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24"><path d="M3 9l9-7l9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V9z"/><polyline points="9 22 9 12 15 12 15 22"/></svg></div>\n
   │                                         <span class="hidden xl:inline" >Địa Điểm</span>\n
   │                                     </div>\n
   │ \n
   │                                                                             <span class="hidden xl:inline"><svg class="lucide w-5 h-5 mr-2" xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24"><path d="M6 9l6 6l6-6"/></svg></span>\n
   │                                                                     </a>\n
   │                                                                     <ul class="submenu ml-6 mt-1 hidden">\n
   │                                                                                     <li  class="group relative">\n
   │                                                 <a class="flex items-center justify-between px-4 py-2 text-sm text-slate-300 hover:text-white hover:bg-slate-700 rounded transition "\n
   │                                                     href="http://localhost/list-city">\n
   │                                                    <div class="flex items-center gap-2">\n
   │                                                         <svg class="lucide w-5 h-5 mr-2" xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24"><path d="M12 22a10 10 0 1 0-10-10a10.011 10.011 0 0 0 10 10z"/><path d="M12.5 7h-1a1.5 1.5 0 0 0-1.5 1.5v6A1.5 1.5 0 0 0 11.5 16h1a1.5 1.5 0 0 0 .5-2.9V9.9A1.5 1.5 0 0 0 12.5 7z"/><circle cx="12" cy="19" r=".5"/></svg>\n
   │                                                         <span class="hidden xl:inline">Tỉnh-Thành</span>\n
   │                                                     </div>\n
   │                                                                                                     </a>\n
   │                                                                                             </li>\n
   │                                                                                     <li  class="group relative">\n
   │                                                 <a class="flex items-center justify-between px-4 py-2 text-sm text-slate-300 hover:text-white hover:bg-slate-700 rounded transition "\n
   │                                                     href="http://localhost/list-district">\n
   │                                                    <div class="flex items-center gap-2">\n
   │                                                         <svg class="lucide w-5 h-5 mr-2" xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24"><path d="M12 22a10 10 0 1 0-10-10a10.011 10.011 0 0 0 10 10z"/><path d="M12.5 7h-1a1.5 1.5 0 0 0-1.5 1.5v6A1.5 1.5 0 0 0 11.5 16h1a1.5 1.5 0 0 0 .5-2.9V9.9A1.5 1.5 0 0 0 12.5 7z"/><circle cx="12" cy="19" r=".5"/></svg>\n
   │                                                         <span class="hidden xl:inline">Quận-Huyện</span>\n
   │                                                     </div>\n
   │                                                                                                     </a>\n
   │                                                                                             </li>\n
   │                                                                                     <li  class="group relative">\n
   │                                                 <a class="flex items-center justify-between px-4 py-2 text-sm text-slate-300 hover:text-white hover:bg-slate-700 rounded transition "\n
   │                                                     href="http://localhost/list-commune">\n
   │                                                    <div class="flex items-center gap-2">\n
   │                                                         <svg class="lucide w-5 h-5 mr-2" xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24"><path d="M12 22a10 10 0 1 0-10-10a10.011 10.011 0 0 0 10 10z"/><path d="M12.5 7h-1a1.5 1.5 0 0 0-1.5 1.5v6A1.5 1.5 0 0 0 11.5 16h1a1.5 1.5 0 0 0 .5-2.9V9.9A1.5 1.5 0 0 0 12.5 7z"/><circle cx="12" cy="19" r=".5"/></svg>\n
   │                                                         <span class="hidden xl:inline">Phường-Xã</span>\n
   │                                                     </div>\n
   │                                                                                                     </a>\n
   │                                                                                             </li>\n
   │                                                                             </ul>\n
   │                                                             </li>\n
   │                                                                                                 <li>\n
   │                                 <a class="flex items-center justify-between px-4 py-3 hover:bg-white hover:text-black text-white transition rounded cursor-pointer toggle-submenu"\n
   │                                     href="javascript:;">\n
   │                                     \n
   │                                     <div class="flex items-center gap-2" title="Loại Thiên Tai">\n
   │                                         <div title="Loại Thiên Tai"><svg class="lucide w-5 h-5 mr-2" xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24"><path d="M16 21v-2a4 4 0 0 0-8 0v2"/><circle cx="12" cy="7" r="4"/><path d="M20.88 18.5A3.5 3.5 0 0 1 17.5 22H6.5a3.5 3.5 0 0 1-3.38-2.5"/></svg></div>\n
   │                                         <span class="hidden xl:inline" >Loại Thiên Tai</span>\n
   │                                     </div>\n
   │ \n
   │                                                                             <span class="hidden xl:inline"><svg class="lucide w-5 h-5 mr-2" xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24"><path d="M6 9l6 6l6-6"/></svg></span>\n
   │                                                                     </a>\n
   │                                                                     <ul class="submenu ml-6 mt-1 hidden">\n
   │                                                                                     <li  class="group relative">\n
   │                                                 <a class="flex items-center justify-between px-4 py-2 text-sm text-slate-300 hover:text-white hover:bg-slate-700 rounded transition "\n
   │                                                     href="http://localhost/list-type-of-calamity">\n
   │                                                    <div class="flex items-center gap-2">\n
   │                                                         <svg class="lucide w-5 h-5 mr-2" xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24"><path d="M12 22a10 10 0 1 0-10-10a10.011 10.011 0 0 0 10 10z"/><path d="M12.5 7h-1a1.5 1.5 0 0 0-1.5 1.5v6A1.5 1.5 0 0 0 11.5 16h1a1.5 1.5 0 0 0 .5-2.9V9.9A1.5 1.5 0 0 0 12.5 7z"/><circle cx="12" cy="19" r=".5"/></svg>\n
   │                                                         <span class="hidden xl:inline">Loại Thiên Tai</span>\n
   │                                                     </div>\n
   │                                                                                                     </a>\n
   │                                                                                             </li>\n
   │                                                                                     <li  class="group relative">\n
   │                                                 <a class="flex items-center justify-between px-4 py-2 text-sm text-slate-300 hover:text-white hover:bg-slate-700 rounded transition "\n
   │                                                     href="http://localhost/list-sub-type-of-calamity">\n
   │                                                    <div class="flex items-center gap-2">\n
   │                                                         <svg class="lucide w-5 h-5 mr-2" xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24"><path d="M12 22a10 10 0 1 0-10-10a10.011 10.011 0 0 0 10 10z"/><path d="M12.5 7h-1a1.5 1.5 0 0 0-1.5 1.5v6A1.5 1.5 0 0 0 11.5 16h1a1.5 1.5 0 0 0 .5-2.9V9.9A1.5 1.5 0 0 0 12.5 7z"/><circle cx="12" cy="19" r=".5"/></svg>\n
   │                                                         <span class="hidden xl:inline">Loại Thiên Tai Phụ</span>\n
   │                                                     </div>\n
   │                                                                                                     </a>\n
   │                                                                                             </li>\n
   │                                                                                     <li  class="group relative">\n
   │                                                 <a class="flex items-center justify-between px-4 py-2 text-sm text-slate-300 hover:text-white hover:bg-slate-700 rounded transition "\n
   │                                                     href="http://localhost/list-risk-level">\n
   │                                                    <div class="flex items-center gap-2">\n
   │                                                         <svg class="lucide w-5 h-5 mr-2" xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24"><path d="M12 22a10 10 0 1 0-10-10a10.011 10.011 0 0 0 10 10z"/><path d="M12.5 7h-1a1.5 1.5 0 0 0-1.5 1.5v6A1.5 1.5 0 0 0 11.5 16h1a1.5 1.5 0 0 0 .5-2.9V9.9A1.5 1.5 0 0 0 12.5 7z"/><circle cx="12" cy="19" r=".5"/></svg>\n
   │                                                         <span class="hidden xl:inline">Cấp Độ Thiên Tai</span>\n
   │                                                     </div>\n
   │                                                                                                     </a>\n
   │                                                                                             </li>\n
   │                                                                                     <li  class="group relative">\n
   │                                                 <a class="flex items-center justify-between px-4 py-2 text-sm text-slate-300 hover:text-white hover:bg-slate-700 rounded transition "\n
   │                                                     href="http://localhost/list-type-of-construction">\n
   │                                                    <div class="flex items-center gap-2">\n
   │                                                         <svg class="lucide w-5 h-5 mr-2" xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24"><path d="M12 22a10 10 0 1 0-10-10a10.011 10.011 0 0 0 10 10z"/><path d="M12.5 7h-1a1.5 1.5 0 0 0-1.5 1.5v6A1.5 1.5 0 0 0 11.5 16h1a1.5 1.5 0 0 0 .5-2.9V9.9A1.5 1.5 0 0 0 12.5 7z"/><circle cx="12" cy="19" r=".5"/></svg>\n
   │                                                         <span class="hidden xl:inline">Loại Công Trình</span>\n
   │                                                     </div>\n
   │                                                                                                     </a>\n
   │                                                                                             </li>\n
   │                                                                                     <li  class="group relative">\n
   │                                                 <a class="flex items-center justify-between px-4 py-2 text-sm text-slate-300 hover:text-white hover:bg-slate-700 rounded transition "\n
   │                                                     href="http://localhost/list-scenarios">\n
   │                                                    <div class="flex items-center gap-2">\n
   │                                                         <svg class="lucide w-5 h-5 mr-2" xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24"><path d="M12 22a10 10 0 1 0-10-10a10.011 10.011 0 0 0 10 10z"/><path d="M12.5 7h-1a1.5 1.5 0 0 0-1.5 1.5v6A1.5 1.5 0 0 0 11.5 16h1a1.5 1.5 0 0 0 .5-2.9V9.9A1.5 1.5 0 0 0 12.5 7z"/><circle cx="12" cy="19" r=".5"/></svg>\n
   │                                                         <span class="hidden xl:inline">Phương Án Ứng Phó</span>\n
   │                                                     </div>\n
   │                                                                                                     </a>\n
   │                                                                                             </li>\n
   │                                                                             </ul>\n
   │                                                             </li>\n
   │                                                                                                 <li>\n
   │                                 <a class="flex items-center justify-between px-4 py-3 hover:bg-white hover:text-black text-white transition rounded cursor-pointer toggle-submenu"\n
   │                                     href="javascript:;">\n
   │                                     \n
   │                                     <div class="flex items-center gap-2" title="Dữ Liệu Thiên Tai">\n
   │                                         <div title="Dữ Liệu Thiên Tai"><svg class="lucide w-5 h-5 mr-2" xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24"><path d="M16 21v-2a4 4 0 0 0-8 0v2"/><circle cx="12" cy="7" r="4"/><path d="M20.88 18.5A3.5 3.5 0 0 1 17.5 22H6.5a3.5 3.5 0 0 1-3.38-2.5"/></svg></div>\n
   │                                         <span class="hidden xl:inline" >Dữ Liệu Thiên Tai</span>\n
   │                                     </div>\n
   │ \n
   │                                                                             <span class="hidden xl:inline"><svg class="lucide w-5 h-5 mr-2" xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24"><path d="M6 9l6 6l6-6"/></svg></span>\n
   │                                                                     </a>\n
   │                                                                     <ul class="submenu ml-6 mt-1 hidden">\n
   │                                                                                     <li  class="group relative">\n
   │                                                 <a class="flex items-center justify-between px-4 py-2 text-sm text-slate-300 hover:text-white hover:bg-slate-700 rounded transition "\n
   │                                                     href="http://localhost/calamity/list-river-bank">\n
   │                                                    <div class="flex items-center gap-2">\n
   │                                                         <svg class="lucide w-5 h-5 mr-2" xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24"><path d="M12 22a10 10 0 1 0-10-10a10.011 10.011 0 0 0 10 10z"/><path d="M12.5 7h-1a1.5 1.5 0 0 0-1.5 1.5v6A1.5 1.5 0 0 0 11.5 16h1a1.5 1.5 0 0 0 .5-2.9V9.9A1.5 1.5 0 0 0 12.5 7z"/><circle cx="12" cy="19" r=".5"/></svg>\n
   │                                                         <span class="hidden xl:inline">Sạt Lở</span>\n
   │                                                     </div>\n
   │                                                                                                     </a>\n
   │                                                                                             </li>\n
   │                                                                                     <li  class="group relative">\n
   │                                                 <a class="flex items-center justify-between px-4 py-2 text-sm text-slate-300 hover:text-white hover:bg-slate-700 rounded transition "\n
   │                                                     href="http://localhost/calamity/list-flooding">\n
   │                                                    <div class="flex items-center gap-2">\n
   │                                                         <svg class="lucide w-5 h-5 mr-2" xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24"><path d="M12 22a10 10 0 1 0-10-10a10.011 10.011 0 0 0 10 10z"/><path d="M12.5 7h-1a1.5 1.5 0 0 0-1.5 1.5v6A1.5 1.5 0 0 0 11.5 16h1a1.5 1.5 0 0 0 .5-2.9V9.9A1.5 1.5 0 0 0 12.5 7z"/><circle cx="12" cy="19" r=".5"/></svg>\n
   │                                                         <span class="hidden xl:inline">Ngập Lụt</span>\n
   │                                                     </div>\n
   │                                                                                                     </a>\n
   │                                                                                             </li>\n
   │                                                                                     <li  class="group relative">\n
   │                                                 <a class="flex items-center justify-between px-4 py-2 text-sm text-slate-300 hover:text-white hover:bg-slate-700 rounded transition "\n
   │                                                     href="http://localhost/calamity/list-storm">\n
   │                                                    <div class="flex items-center gap-2">\n
   │                                                         <svg class="lucide w-5 h-5 mr-2" xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24"><path d="M12 22a10 10 0 1 0-10-10a10.011 10.011 0 0 0 10 10z"/><path d="M12.5 7h-1a1.5 1.5 0 0 0-1.5 1.5v6A1.5 1.5 0 0 0 11.5 16h1a1.5 1.5 0 0 0 .5-2.9V9.9A1.5 1.5 0 0 0 12.5 7z"/><circle cx="12" cy="19" r=".5"/></svg>\n
   │                                                         <span class="hidden xl:inline">Bão và ATNĐ</span>\n
   │                                                     </div>\n
   │                                                                                                     </a>\n
   │                                                                                             </li>\n
   │                                                                             </ul>\n
   │                                                             </li>\n
   │                                                                                                 <li>\n
   │                                 <a class="flex items-center justify-between px-4 py-3 hover:bg-white hover:text-black text-white transition rounded cursor-pointer toggle-submenu"\n
   │                                     href="javascript:;">\n
   │                                     \n
   │                                     <div class="flex items-center gap-2" title="Công Trình PCTT">\n
   │                                         <div title="Công Trình PCTT"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-construction-icon lucide-construction"><rect x="2" y="6" width="20" height="8" rx="1"/><path d="M17 14v7"/><path d="M7 14v7"/><path d="M17 3v3"/><path d="M7 3v3"/><path d="M10 14 2.3 6.3"/><path d="m14 6 7.7 7.7"/><path d="m8 6 8 8"/></svg></div>\n
   │                                         <span class="hidden xl:inline" >Công Trình PCTT</span>\n
   │                                     </div>\n
   │ \n
   │                                                                             <span class="hidden xl:inline"><svg class="lucide w-5 h-5 mr-2" xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24"><path d="M6 9l6 6l6-6"/></svg></span>\n
   │                                                                     </a>\n
   │                                                                     <ul class="submenu ml-6 mt-1 hidden">\n
   │                                                                                     <li  class="group relative">\n
   │                                                 <a class="flex items-center justify-between px-4 py-2 text-sm text-slate-300 hover:text-white hover:bg-slate-700 rounded transition "\n
   │                                                     href="http://localhost/construction/list-river-bank">\n
   │                                                    <div class="flex items-center gap-2">\n
   │                                                         <svg class="lucide w-5 h-5 mr-2" xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24"><path d="M12 22a10 10 0 1 0-10-10a10.011 10.011 0 0 0 10 10z"/><path d="M12.5 7h-1a1.5 1.5 0 0 0-1.5 1.5v6A1.5 1.5 0 0 0 11.5 16h1a1.5 1.5 0 0 0 .5-2.9V9.9A1.5 1.5 0 0 0 12.5 7z"/><circle cx="12" cy="19" r=".5"/></svg>\n
   │                                                         <span class="hidden xl:inline">Sạt Lở</span>\n
   │                                                     </div>\n
   │                                                                                                     </a>\n
   │                                                                                             </li>\n
   │                                                                                     <li  class="group relative">\n
   │                                                 <a class="flex items-center justify-between px-4 py-2 text-sm text-slate-300 hover:text-white hover:bg-slate-700 rounded transition "\n
   │                                                     href="http://localhost/construction/list-flooding">\n
   │                                                    <div class="flex items-center gap-2">\n
   │                                                         <svg class="lucide w-5 h-5 mr-2" xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24"><path d="M12 22a10 10 0 1 0-10-10a10.011 10.011 0 0 0 10 10z"/><path d="M12.5 7h-1a1.5 1.5 0 0 0-1.5 1.5v6A1.5 1.5 0 0 0 11.5 16h1a1.5 1.5 0 0 0 .5-2.9V9.9A1.5 1.5 0 0 0 12.5 7z"/><circle cx="12" cy="19" r=".5"/></svg>\n
   │                                                         <span class="hidden xl:inline">Ngập Lụt</span>\n
   │                                                     </div>\n
   │                                                                                                     </a>\n
   │                                                                                             </li>\n
   │                                                                                     <li  class="group relative">\n
   │                                                 <a class="flex items-center justify-between px-4 py-2 text-sm text-slate-300 hover:text-white hover:bg-slate-700 rounded transition "\n
   │                                                     href="http://localhost/construction/list-storm">\n
   │                                                    <div class="flex items-center gap-2">\n
   │                                                         <svg class="lucide w-5 h-5 mr-2" xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24"><path d="M12 22a10 10 0 1 0-10-10a10.011 10.011 0 0 0 10 10z"/><path d="M12.5 7h-1a1.5 1.5 0 0 0-1.5 1.5v6A1.5 1.5 0 0 0 11.5 16h1a1.5 1.5 0 0 0 .5-2.9V9.9A1.5 1.5 0 0 0 12.5 7z"/><circle cx="12" cy="19" r=".5"/></svg>\n
   │                                                         <span class="hidden xl:inline">Bão và ATNĐ</span>\n
   │                                                     </div>\n
   │                                                                                                     </a>\n
   │                                                                                             </li>\n
   │                                                                             </ul>\n
   │                                                             </li>\n
   │                                                                                                 <li>\n
   │                                 <a class="flex items-center justify-between px-4 py-3 hover:bg-white hover:text-black text-white transition rounded cursor-pointer toggle-submenu"\n
   │                                     href="javascript:;">\n
   │                                     \n
   │                                     <div class="flex items-center gap-2" title="Địa danh hành chính">\n
   │                                         <div title="Địa danh hành chính"><svg class="lucide w-5 h-5 mr-2" xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24"><path d="M16 21v-2a4 4 0 0 0-8 0v2"/><circle cx="12" cy="7" r="4"/><path d="M20.88 18.5A3.5 3.5 0 0 1 17.5 22H6.5a3.5 3.5 0 0 1-3.38-2.5"/></svg></div>\n
   │                                         <span class="hidden xl:inline" >Địa danh hành chính</span>\n
   │                                     </div>\n
   │ \n
   │                                                                             <span class="hidden xl:inline"><svg class="lucide w-5 h-5 mr-2" xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24"><path d="M6 9l6 6l6-6"/></svg></span>\n
   │                                                                     </a>\n
   │                                                                     <ul class="submenu ml-6 mt-1 hidden">\n
   │                                                                                     <li  class="group relative">\n
   │                                                 <a class="flex items-center justify-between px-4 py-2 text-sm text-slate-300 hover:text-white hover:bg-slate-700 rounded transition "\n
   │                                                     href="http://localhost/administrative/list-school">\n
   │                                                    <div class="flex items-center gap-2">\n
   │                                                         <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-school-icon lucide-school"><path d="M14 22v-4a2 2 0 1 0-4 0v4"/><path d="m18 10 3.447 1.724a1 1 0 0 1 .553.894V20a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2v-7.382a1 1 0 0 1 .553-.894L6 10"/><path d="M18 5v17"/><path d="m4 6 7.106-3.553a2 2 0 0 1 1.788 0L20 6"/><path d="M6 5v17"/><circle cx="12" cy="9" r="2"/></svg>\n
   │                                                         <span class="hidden xl:inline">Trường Học</span>\n
   │                                                     </div>\n
   │                                                                                                     </a>\n
   │                                                                                             </li>\n
   │                                                                                     <li  class="group relative">\n
   │                                                 <a class="flex items-center justify-between px-4 py-2 text-sm text-slate-300 hover:text-white hover:bg-slate-700 rounded transition "\n
   │                                                     href="http://localhost/administrative/list-medical">\n
   │                                                    <div class="flex items-center gap-2">\n
   │                                                         <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-hospital-icon lucide-hospital"><path d="M12 6v4"/><path d="M14 14h-4"/><path d="M14 18h-4"/><path d="M14 8h-4"/><path d="M18 12h2a2 2 0 0 1 2 2v6a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2v-9a2 2 0 0 1 2-2h2"/><path d="M18 22V4a2 2 0 0 0-2-2H8a2 2 0 0 0-2 2v18"/></svg>\n
   │                                                         <span class="hidden xl:inline">Địa Điểm Y Tế</span>\n
   │                                                     </div>\n
   │                                                                                                     </a>\n
   │                                                                                             </li>\n
   │                                                                                     <li  class="group relative">\n
   │                                                 <a class="flex items-center justify-between px-4 py-2 text-sm text-slate-300 hover:text-white hover:bg-slate-700 rounded transition "\n
   │                                                     href="http://localhost/administrative/list-center">\n
   │                                                    <div class="flex items-center gap-2">\n
   │                                                         <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-university-icon lucide-university"><path d="M14 21v-3a2 2 0 0 0-4 0v3"/><path d="M18 12h.01"/><path d="M18 16h.01"/><path d="M22 7a1 1 0 0 0-1-1h-2a2 2 0 0 1-1.143-.359L13.143 2.36a2 2 0 0 0-2.286-.001L6.143 5.64A2 2 0 0 1 5 6H3a1 1 0 0 0-1 1v12a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2z"/><path d="M6 12h.01"/><path d="M6 16h.01"/><circle cx="12" cy="10" r="2"/></svg>\n
   │                                                         <span class="hidden xl:inline">TTHC và Khác</span>\n
   │                                                     </div>\n
   │                                                                                                     </a>\n
   │                                                                                             </li>\n
   │                                                                             </ul>\n
   │                                                             </li>\n
   │                                                                                                 <li>\n
   │                                 <a class="flex items-center justify-between px-4 py-3 hover:bg-white hover:text-black text-white transition rounded cursor-pointer toggle-submenu"\n
   │                                     href="javascript:;">\n
   │                                     \n
   │                                     <div class="flex items-center gap-2" title="Dữ Liệu Khác">\n
   │                                         <div title="Dữ Liệu Khác"><svg class="lucide w-5 h-5 mr-2" xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24"><path d="M16 21v-2a4 4 0 0 0-8 0v2"/><circle cx="12" cy="7" r="4"/><path d="M20.88 18.5A3.5 3.5 0 0 1 17.5 22H6.5a3.5 3.5 0 0 1-3.38-2.5"/></svg></div>\n
   │                                         <span class="hidden xl:inline" >Dữ Liệu Khác</span>\n
   │                                     </div>\n
   │ \n
   │                                                                             <span class="hidden xl:inline"><svg class="lucide w-5 h-5 mr-2" xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24"><path d="M6 9l6 6l6-6"/></svg></span>\n
   │                                                                     </a>\n
   │                                                                     <ul class="submenu ml-6 mt-1 hidden">\n
   │                                                                                     <li  class="group relative">\n
   │                                                 <a class="flex items-center justify-between px-4 py-2 text-sm text-slate-300 hover:text-white hover:bg-slate-700 rounded transition "\n
   │                                                     href="http://localhost/geographical/list-erosion">\n
   │                                                    <div class="flex items-center gap-2">\n
   │                                                         <svg class="lucide w-5 h-5 mr-2" xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24"><path d="M12 22a10 10 0 1 0-10-10a10.011 10.011 0 0 0 10 10z"/><path d="M12.5 7h-1a1.5 1.5 0 0 0-1.5 1.5v6A1.5 1.5 0 0 0 11.5 16h1a1.5 1.5 0 0 0 .5-2.9V9.9A1.5 1.5 0 0 0 12.5 7z"/><circle cx="12" cy="19" r=".5"/></svg>\n
   │                                                         <span class="hidden xl:inline">Khu vực xói, bồi</span>\n
   │                                                     </div>\n
   │                                                                                                     </a>\n
   │                                                                                             </li>\n
   │                                                                                     <li  class="group relative">\n
   │                                                 <a class="flex items-center justify-between px-4 py-2 text-sm text-slate-300 hover:text-white hover:bg-slate-700 rounded transition "\n
   │                                                     href="http://localhost/geographical/list-shoreline">\n
   │                                                    <div class="flex items-center gap-2">\n
   │                                                         <svg class="lucide w-5 h-5 mr-2" xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24"><path d="M12 22a10 10 0 1 0-10-10a10.011 10.011 0 0 0 10 10z"/><path d="M12.5 7h-1a1.5 1.5 0 0 0-1.5 1.5v6A1.5 1.5 0 0 0 11.5 16h1a1.5 1.5 0 0 0 .5-2.9V9.9A1.5 1.5 0 0 0 12.5 7z"/><circle cx="12" cy="19" r=".5"/></svg>\n
   │                                                         <span class="hidden xl:inline">Lịch sử đường bờ</span>\n
   │                                                     </div>\n
   │                                                                                                     </a>\n
   │                                                                                             </li>\n
   │                                                                                     <li  class="group relative">\n
   │                                                 <a class="flex items-center justify-between px-4 py-2 text-sm text-slate-300 hover:text-white hover:bg-slate-700 rounded transition "\n
   │                                                     href="http://localhost/geographical/list-cross-section">\n
   │                                                    <div class="flex items-center gap-2">\n
   │                                                         <svg class="lucide w-5 h-5 mr-2" xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24"><path d="M12 22a10 10 0 1 0-10-10a10.011 10.011 0 0 0 10 10z"/><path d="M12.5 7h-1a1.5 1.5 0 0 0-1.5 1.5v6A1.5 1.5 0 0 0 11.5 16h1a1.5 1.5 0 0 0 .5-2.9V9.9A1.5 1.5 0 0 0 12.5 7z"/><circle cx="12" cy="19" r=".5"/></svg>\n
   │                                                         <span class="hidden xl:inline">Mặt cắt ngang</span>\n
   │                                                     </div>\n
   │                                                                                                     </a>\n
   │                                                                                             </li>\n
   │                                                                                     <li  class="group relative">\n
   │                                                 <a class="flex items-center justify-between px-4 py-2 text-sm text-slate-300 hover:text-white hover:bg-slate-700 rounded transition "\n
   │                                                     href="http://localhost/geographical/list-monitoring">\n
   │                                                    <div class="flex items-center gap-2">\n
   │                                                         <svg class="lucide w-5 h-5 mr-2" xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24"><path d="M12 22a10 10 0 1 0-10-10a10.011 10.011 0 0 0 10 10z"/><path d="M12.5 7h-1a1.5 1.5 0 0 0-1.5 1.5v6A1.5 1.5 0 0 0 11.5 16h1a1.5 1.5 0 0 0 .5-2.9V9.9A1.5 1.5 0 0 0 12.5 7z"/><circle cx="12" cy="19" r=".5"/></svg>\n
   │                                                         <span class="hidden xl:inline">Mốc quan trắc</span>\n
   │                                                     </div>\n
   │                                                                                                     </a>\n
   │                                                                                             </li>\n
   │                                                                             </ul>\n
   │                                                             </li>\n
   │                                                                                                 <li>\n
   │                                 <a class="flex items-center justify-between px-4 py-3 hover:bg-white hover:text-black text-white transition rounded cursor-pointer "\n
   │                                     href="http://localhost/map">\n
   │                                     \n
   │                                     <div class="flex items-center gap-2" title="Bản Đồ">\n
   │                                         <div title="Bản Đồ"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-map-icon lucide-map"><path d="M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z"/><path d="M15 5.764v15"/><path d="M9 3.236v15"/></svg></div>\n
   │                                         <span class="hidden xl:inline" >Bản Đồ</span>\n
   │                                     </div>\n
   │ \n
   │                                                                     </a>\n
   │                                                             </li>\n
   │                                                                                                 <li>\n
   │                                 <a class="flex items-center justify-between px-4 py-3 hover:bg-white hover:text-black text-white transition rounded cursor-pointer "\n
   │                                     href="http://localhost/chat">\n
   │                                     \n
   │                                     <div class="flex items-center gap-2" title="Tham gia cộng đồng">\n
   │                                         <div title="Tham gia cộng đồng"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-message-circle-icon lucide-message-circle"><path d="M7.9 20A9 9 0 1 0 4 16.1L2 22Z"/></svg></div>\n
   │                                         <span class="hidden xl:inline" >Tham gia cộng đồng</span>\n
   │                                     </div>\n
   │ \n
   │                                                                     </a>\n
   │                                                             </li>\n
   │                                                                                                 <li>\n
   │                                 <a class="flex items-center justify-between px-4 py-3 hover:bg-white hover:text-black text-white transition rounded cursor-pointer "\n
   │                                     href="http://localhost/incident-report">\n
   │                                     \n
   │                                     <div class="flex items-center gap-2" title="Báo cáo sự cố">\n
   │                                         <div title="Báo cáo sự cố"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-message-square-warning-icon lucide-message-square-warning"><path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"/><path d="M12 7v2"/><path d="M12 13h.01"/></svg></div>\n
   │                                         <span class="hidden xl:inline" >Báo cáo sự cố</span>\n
   │                                     </div>\n
   │ \n
   │                                                                     </a>\n
   │                                                             </li>\n
   │                                                                 \n
   │                                 </ul>\n
   │             </nav>\n
   │             <div class="md:max-w-auto overflow-x-hidden overflow-y-auto max-h-[100vh] min-w-0 max-w-full flex-1 rounded-[30px] bg-slate-100 px-4 pb-10 before:block before:h-px before:w-full before:content-[''] md:px-[22px]">\n
   │                 <div class="relative sticky top-0 z-2 flex items-center h-[68px] px-4 border-b border-slate-100 bg-slate-100">\n
   │   \n
   │                     <div class="mr-auto"> \n
   │                        <div class="rounded-[8px] overflow-hidden w-[200px] md:w-[325px] h-[40px] bg-[#1E3A8A] border-[2px] border-[#133086] shadow-[0_2px_6px_rgba(0,0,0,0.1)] flex items-center justify-center">\n
   │                   \n
   │                     <iframe src="https://thoitiet247.vn/widget/embed/ca-mau?style=6&day=7&td=%232e0000&ntd=%231e3a8a&mvb=%23000205&mv=%231e3a8a&mdk=%23000000&htd=true" \n
   │                         id="widgeturl" class = "w-[200px] md:w-[325px]" height="55px" scrolling="no" frameborder="0" allowtransparency="true" style="border:none;overflow:hidden;"></iframe><!-- End thoitiet.app widget -->\n
   │                     </div>\n
   │ \n
   │                     </div>\n
   │                     \n
   │                     <div class="relative flex items-center gap-2">\n
   │                                                 \n
   │                             <div class="relative mr-4">\n
   │                                 <a href="javascript:void(0)" onclick="openNotification()" class="relative">\n
   │                                     <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="#dfc207" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-bell-icon lucide-bell"><path d="M10.268 21a2 2 0 0 0 3.464 0"/><path d="M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326"/></svg>\n
   │ \n
   │                                     <!-- Badge đỏ số lượng -->\n
   │                                                                     </a>\n
   │                                 \n
   │ \n
   │                                 <!-- Dropdown thông báo -->\n
   │                                 <div class="absolute right-0 mt-2 w-80 bg-white border rounded shadow z-50 hidden" id="notification-dropdown">\n
   │                                     <ul class="divide-y divide-gray-100 max-h-80 overflow-y-auto">\n
   │                                                                                     <li class="p-3 text-sm text-gray-500">Không có thông báo nào</li>\n
   │                                                                             </ul>\n
   │                                 </div>\n
   │                             </div>\n
   │ \n
   │                             <button type="button" style="all: unset" id="user-menu-button" aria-expanded="false">\n
   │                                 <svg class="lucide w-5 h-5 mr-2" xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24"><circle cx="12" cy="12" r="10"/><path d="M16 16a4 4 0 0 0-8 0v2a4 4 0 0 0 8 0z"/><circle cx="12" cy="9" r="3"/></svg>\n
   │                             </button>\n
   │ \n
   │                             <div class="hidden absolute right-0 mt-2 w-48 z-1 text-base bg-white divide-y divide-gray-100 rounded-lg shadow-lg" id="user-dropdown">\n
   │                                 <div class="px-4 py-3">\n
   │                                     <span class="block text-sm text-gray-900">Tên: Derrick Stokes I</span>\n
   │                                     <span class="block text-sm text-gray-500 truncate">Tên đăng nhập: admin</span>\n
   │                                 </div>\n
   │                                 <ul class="py-2" aria-labelledby="user-menu-button">\n
   │                                     <li>\n
   │                                         <a href="http://localhost/edit-profile" class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100">Hồ sơ</a>\n
   │                                     </li>\n
   │                                    \n
   │                                     <li>\n
   │                                         <a href="http://localhost/logout" class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100">Đăng xuất</a>\n
   │                                     </li>\n
   │                                 </ul>\n
   │                             </div>\n
   │                         \n
   │                                             </div>\n
   │                 </div>\n
   │                 \n
   │                 \n
   │     <div class="grid grid-cols-12 gap-6">\n
   │         <div class="col-span-12 2xl:col-span-12">\n
   │             <div class="grid grid-cols-12 gap-6">\n
   │                 \n
   │                 <div class="col-span-12 mt-5">\n
   │                     <div class="intro-y flex h-10 items-center">\n
   │                         <h2 class="flex items-center mr-5 uppercase text-lg font-medium">\n
   │                             <svg class="lucide w-5 h-5 mr-2" xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24"><rect width="8" height="4" x="8" y="2" rx="1" ry="1"/><path d="M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2"/><path d="M9 14h6"/></svg>\n
   │                             Báo Cáo Tổng Hợp <a href="/list-district">...</a>\n
   │ \n
   │                         </h2>\n
   │                         <a class="ml-auto flex items-center text-primary" href="/">\n
   │                             <svg class="lucide w-5 h-5 mr-2" xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24"><path d="M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8"/><path d="M3 3v5h5"/><path d="M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16"/><path d="M16 16h5v5"/></svg>\n
   │                             Tải lại dữ liệu\n
   │                         </a>\n
   │                     </div>\n
   │                     <div class="mt-5 grid grid-cols-12 gap-6">\n
   │                         <div class="intro-y col-span-12 sm:col-span-6 xl:col-span-4 ">\n
   │                             <div>\n
   │                                 <div\n
   │                                     class="box p-5 bg-gradient-to-r from-rose-500 to-purple-500 text-white rounded-lg shadow-lg">\n
   │                                     \n
   │                                     <div class="flex items-center gap-6">\n
   │                                         <svg class="lucide w-5 h-5 mr-2" xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24"><path d="M16.5 6.5a4.5 4.5 0 0 1 4.5 4.5a4.5 4.5 0 0 1-4.5 4.5H12l3-6H9a3 3 0 0 1-3-3a3 3 0 0 1 .88-2.12A4.49 4.49 0 0 1 12.5 6h1"/></svg>   \n
   │                                         <span class="text-2xl font-bold tracking-wide">BÃO, ÁP THẤP</span>\n
   │                                     </div>\n
   │                                     \n
   │                                     <div class="mt-6 grid grid-cols-2 gap-4">\n
   │                                         <div class="flex items-center gap-2">\n
   │                                             <svg class="lucide w-5 h-5 mr-2" xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24"><polyline points="9 18 15 12 9 6"/></svg>\n
   │                                             <a href="http://localhost/construction/list-storm"\n
   │                                                 class="text-xl hover:text-gray-500 transition-all">\n
   │                                                 Tổng số công trình\n
   │                                             </a>\n
   │                                         </div>\n
   │                                                                                     <div class="text-center text-xl font-semibold text-red-500">\n
   │                                                 Không có dữ liệu\n
   │                                             </div>\n
   │                                         \n
   │                                         <div class="flex items-center gap-2">\n
   │                                             <svg class="lucide w-5 h-5 mr-2" xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24"><polyline points="9 18 15 12 9 6"/></svg>\n
   │                                             <a href="http://localhost/calamity/list-storm"\n
   │                                                 class="text-xl hover:text-gray-500 transition-all">\n
   │                                                 Số lượng thiên tai\n
   │                                             </a>\n
   │                                         </div>\n
   │                                                                                     <div class="text-center text-xl font-semibold text-red-500">\n
   │                                                 Không có dữ liệu\n
   │                                             </div>\n
   │                                                                             </div>\n
   │                                 </div>\n
   │ \n
   │                             </div>\n
   │                         </div>\n
   │                         <div class="intro-y col-span-12 sm:col-span-6 xl:col-span-4">\n
   │                                 <div\n
   │                                     class="box p-5 bg-gradient-to-r from-purple-500 to-blue-500 text-white rounded-lg shadow-lg">\n
   │                                     \n
   │                                     <div class="flex items-center gap-6">\n
   │                                         <svg class="lucide w-5 h-5 mr-2" xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24"><path d="M10.29 3.86a1.5 1.5 0 0 1 3.42 0l6.36 14.28A1.5 1.5 0 0 1 18.21 21H5.79a1.5 1.5 0 0 1-1.36-2.14z"/></svg>\n
   │                                         <span class="text-2xl font-bold tracking-wide">NGẬP LỤT</span>\n
   │                                     </div>\n
   │                                     \n
   │                                     <div class="mt-6 grid grid-cols-2 gap-4">\n
   │                                         <div class="flex items-center gap-2">\n
   │                                             <svg class="lucide w-5 h-5 mr-2" xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24"><polyline points="9 18 15 12 9 6"/></svg>\n
   │                                             <a href="http://localhost/construction/list-flooding"\n
   │                                                 class="text-xl hover:text-gray-500 transition-all">\n
   │                                                 Tổng số công trình\n
   │                                             </a>\n
   │                                         </div>\n
   │                                                                                     <div class="text-center text-xl font-semibold">\n
   │                                                 0\n
   │                                             </div>\n
   │                                         \n
   │                                         <div class="flex items-center gap-2">\n
   │                                             <svg class="lucide w-5 h-5 mr-2" xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24"><polyline points="9 18 15 12 9 6"/></svg>\n
   │                                             <a href="http://localhost/calamity/list-flooding"\n
   │                                                 class="text-xl hover:text-gray-500 transition-all">\n
   │                                                 Số lượng thiên tai\n
   │                                             </a>\n
   │                                         </div>\n
   │                                                                                     <div class="text-center text-white text-xl font-semibold">\n
   │                                                 0\n
   │                                             </div>\n
   │                                                                             </div>\n
   │                                 </div>\n
   │                         </div>\n
   │                         <div class="intro-y col-span-12 sm:col-span-6 xl:col-span-4">\n
   │                             \n
   │                                 <div\n
   │                                     class="box p-5 bg-gradient-to-r from-blue-500 to-indigo-500 text-white rounded-lg shadow-lg">\n
   │                                \n
   │                                     <div class="flex items-center gap-6">\n
   │                                         <svg class="lucide w-5 h-5 mr-2" xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24"><path d="M16.5 6.5a4.5 4.5 0 0 1 4.5 4.5a4.5 4.5 0 0 1-4.5 4.5H12l3-6H9a3 3 0 0 1-3-3a3 3 0 0 1 .88-2.12A4.49 4.49 0 0 1 12.5 6h1"/><path d="M16.5 16v2m-3-2v2m-3-2v2m6-6v2m-3-2v2m-3-2v2"/></svg>\n
   │                                         <span class="text-2xl font-bold tracking-wide">SẠT LỞ</span>\n
   │                                     </div>\n
   │                                    \n
   │                                     <div class="mt-6 grid grid-cols-2 gap-4">\n
   │                                         <div class="flex items-center gap-2">\n
   │                                             <svg class="lucide w-5 h-5 mr-2" xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24"><polyline points="9 18 15 12 9 6"/></svg>\n
   │                                             <a href="http://localhost/construction/list-river-bank"\n
   │                                                 class=" text-xl hover:text-gray-500 transition-all">\n
   │                                                 Tổng số công trình\n
   │                                             </a>\n
   │                                         </div>\n
   │                                                                                     <div class="text-center text-xl font-semibold">\n
   │                                                 0\n
   │                                             </div>\n
   │                                         \n
   │                                         <div class="flex items-center gap-2">\n
   │                                             <svg class="lucide w-5 h-5 mr-2" xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24"><polyline points="9 18 15 12 9 6"/></svg>\n
   │                                             <a href="http://localhost/calamity/list-river-bank"\n
   │                                                 class="text-xl hover:text-gray-500 transition-all">\n
   │                                                 Số lượng thiên tai\n
   │                                             </a>\n
   │                                         </div>\n
   │                                                                                     <div class="text-center text-xl font-semibold">\n
   │                                                 1\n
   │                                             </div>\n
   │                                                                             </div>\n
   │                                 </div>\n
   │                         </div>\n
   │                     </div>\n
   │                 </div>\n
   │                 \n
   │                 <div class="col-span-12 xl:col-span-5 flex flex-col mt-5">\n
   │                     <div class="intro-y flex h-10 items-center">\n
   │                         \n
   │                         <h2 class="flex items-center mr-5 uppercase text-lg font-medium">\n
   │                             <svg class="lucide w-5 h-5 mr-2" xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24"><path d="M4 6h16"/><path d="M4 12h16"/><path d="M4 18h16"/><circle cx="10" cy="6" r="2"/><circle cx="10" cy="12" r="2"/><circle cx="10" cy="18" r="2"/></svg>\n
   │                             Dữ Liệu Mới Nhất\n
   │                         </h2>\n
   │                     </div>\n
   │                     <div class="mt-3 flex-1 space-y-3">\n
   │                                                     <div class="intro-y bg-white shadow-sm hover:shadow-md transition-shadow duration-200 border border-gray-100 rounded-xl">\n
   │ \n
   │                                 <a href="/" class="block">\n
   │                                     <div class="box zoom-in mb-3 flex items-center px-5 py-5">\n
   │                                      \n
   │                                         <div class="h-10 w-10 flex items-center justify-center rounded-md bg-primary/20">\n
   │                                             <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-shield-alert-icon lucide-shield-alert"><path d="M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z"/><path d="M12 8v4"/><path d="M12 16h.01"/></svg>\n
   │                                         </div>\n
   │                                       \n
   │                                         <div class="ml-4 flex-1 min-w-0">\n
   │                                                                                                                                     </div>\n
   │ \n
   │                                         <div\n
   │                                             class="rounded-full bg-success px-3 py-1 text-xs font-medium text-white whitespace-nowrap">\n
   │                                             2025-07-14 06:36:52\n
   │                                         </div>\n
   │                                     </div>\n
   │                                 </a>\n
   │                             </div>\n
   │                                             </div>\n
   │                 </div>\n
   │                \n
   │                                <div class="col-span-12 p-4 xl:col-span-7 flex flex-col ">\n
   │ \n
   │                     <div class="intro-y flex h-10 items-center">\n
   │                         <h2 class="flex items-center mr-5 gap-x-2 uppercase text-lg font-medium">\n
   │                             <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-chart-pie-icon lucide-chart-pie"><path d="M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z"/><path d="M21.21 15.89A10 10 0 1 1 8 2.83"/></svg>\n
   │                             Biểu Đồ Thiên Tai\n
   │                         </h2>\n
   │                     </div>\n
   │                     <div class="intro-y box mt-3 p-5 flex flex-1 items-center bg-white border border-gray-100 rounded-2xl justify-center">\n
   │                        \n
   │                         <div class="w-2/3 flex flex-col items-center justify-center h-full">\n
   │                             <div id="disaster-chart" class="h-[370px] w-full"></div>\n
   │                             <p class="mt-2 text-center text-sm text-gray-600">Biểu đồ thể hiện số lượng thiên tai theo loại\n
   │                                 hình thiên tai</p>\n
   │                         </div>\n
   │                        \n
   │                         <div class="w-1/3 pl-3 flex flex-col justify-center gap-2">\n
   │                                                                                                                                     <div class="flex items-center">\n
   │                                         <div class="mr-2 h-2 w-2 rounded-full"\n
   │                                             style="background-color: #2563eb;"></div>\n
   │                                         <span class="truncate text-lg font-medium">Sạt Lở</span>\n
   │                                         <span class="ml-auto font-semibold text-lg">0%</span>\n
   │                                     </div>\n
   │                                                                                                         <div class="flex items-center">\n
   │                                         <div class="mr-2 h-2 w-2 rounded-full"\n
   │                                             style="background-color: #f59e0b;"></div>\n
   │                                         <span class="truncate text-lg font-medium">Ngập Lụt</span>\n
   │                                         <span class="ml-auto font-semibold text-lg">0%</span>\n
   │                                     </div>\n
   │                                                                                                         <div class="flex items-center">\n
   │                                         <div class="mr-2 h-2 w-2 rounded-full"\n
   │                                             style="background-color: #ef4444;"></div>\n
   │                                         <span class="truncate text-lg font-medium">Bão</span>\n
   │                                         <span class="ml-auto font-semibold text-lg">0%</span>\n
   │                                     </div>\n
   │                                                                                     </div>\n
   │                     </div>\n
   │                 </div>\n
   │                 \n
   │                 <div class="col-span-12 xl:col-span-12 flex flex-col mt-4">\n
   │                     <div class="intro-y flex h-10 items-center">\n
   │                         <h2 class="flex items-center mr-5 uppercase text-lg font-medium">\n
   │                             <svg class="lucide w-5 h-5 mr-2" xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24"><path d="M21 10a9 9 0 1 1-18 0a9 9 0 0 1 18 0z"/><circle cx="12" cy="10" r="3"/></svg>\n
   │                             Bản Đồ Cảnh Báo Thiên Tai 7 Ngày Gần Nhất\n
   │                         </h2>\n
   │                     </div>\n
   │                     <div class="intro-y flex items-center flex-wrap gap-x-4 mt-4">\n
   │                         \n
   │                                                \n
   │                         <div class="flex flex-wrap gap-x-4">\n
   │                                                             <label class="flex items-center space-x-2">\n
   │                                     <input type="checkbox" id="toggle-sat-lo"\n
   │                                         class="form-checkbox h-5 w-5 text-blue-600" checked>\n
   │                                     <span>Sạt Lở</span>\n
   │                                 </label>\n
   │                                                             <label class="flex items-center space-x-2">\n
   │                                     <input type="checkbox" id="toggle-ngap-lut"\n
   │                                         class="form-checkbox h-5 w-5 text-blue-600" checked>\n
   │                                     <span>Ngập Lụt</span>\n
   │                                 </label>\n
   │                                                             <label class="flex items-center space-x-2">\n
   │                                     <input type="checkbox" id="toggle-bao"\n
   │                                         class="form-checkbox h-5 w-5 text-blue-600" checked>\n
   │                                     <span>Bão</span>\n
   │                                 </label>\n
   │                                                     </div>\n
   │                     </div>\n
   │                    \n
   │                     <div class="intro-y box mt-4 p-5 flex flex-col items-center justify-center space-y-4">\n
   │                         <div id="map" class="w-full h-[500px] md:h-[700px] rounded-lg border shadow-lg"></div>\n
   │                     </div>\n
   │                 </div>\n
   │                 \n
   │                 <div class="col-span-12 xl:col-span-12 flex flex-col mt-5">\n
   │                     <div class="intro-y flex h-10 items-center">\n
   │                         <h2 class="flex items-center mr-5 uppercase text-lg font-medium">\n
   │                             <svg class="lucide w-5 h-5 mr-2" xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24"><path d="M21 10a9 9 0 1 1-18 0a9 9 0 0 1 18 0z"/><circle cx="12" cy="10" r="3"/></svg>\n
   │                             Bản Đồ Thời Tiết\n
   │                         </h2>\n
   │                     </div>\n
   │                     <div class="intro-y box mt-4 p-5 flex flex-1 items-center justify-center">\n
   │                         <iframe src="https://vrain.vn/52/overview?public_map=windy" width="100%" height="700px"\n
   │                             class="rounded-lg shadow-lg border" allowfullscreen>\n
   │                         </iframe>\n
   │                     </div>\n
   │                    \n
   │                 </div>\n
   │                 <div class="col-span-12 xl:col-span-12 mt-5">\n
   │                 \n
   │                 <div class="flex flex-col xl:flex-row gap-5">\n
   │                     \n
   │                     <div class="bg-white shadow rounded-lg p-4 sm:p-6 xl:p-8 w-full xl:w-1/2">\n
   │                         <div class="flex items-center">\n
   │                             <div class="flex-shrink-0">\n
   │                             <span class="text-2xl sm:text-3xl leading-none font-bold text-gray-900">0</span>\n
   │                             <h3 class="text-base font-normal text-gray-500">Người dân quan tâm thiên tai</h3>\n
   │                             </div>\n
   │                             \n
   │                             </div>\n
   │                         </div>\n
   │                     </div>\n
   │                 </div>\n
   │             </div>\n
   │             </div>\n
   │ \n
   │             </div>\n
   │         </div>\n
   │         <div\n
   │     data-tw-backdrop=""\n
   │     aria-hidden="true"\n
   │     tabindex="-1"\n
   │     id="large-modal-size-preview" class="modal group bg-black/60 transition-[visibility,opacity] w-screen h-screen fixed left-0 top-0 [&amp;:not(.show)]:duration-[0s,0.2s] [&amp;:not(.show)]:delay-[0.2s,0s] [&amp;:not(.show)]:invisible [&amp;:not(.show)]:opacity-0 [&amp;.show]:visible [&amp;.show]:opacity-100 [&amp;.show]:duration-[0s,0.4s]"\n
   │ ><div\n
   │     data-tw-merge\n
   │     class="w-[90%] mx-auto bg-white relative rounded-md shadow-md transition-[margin-top,transform] duration-[0.4s,0.3s] -mt-16 group-[.show]:mt-16 group-[.modal-static]:scale-[1.05]    sm:w-[600px] lg:w-[900px] p-5"\n
   │ ><form action="http://localhost/guest-disaster-subscribe" method="POST">\n
   │ \n
   │                     <input type="hidden" name="_token" value="MMFf9W5ZacSQEjDuZFJQXqRqU3Cb3QM9WkxaF9tB" autocomplete="off">                    <div class="mb-4">\n
   │                         <label for="name" class="block text-sm font-medium text-gray-700 mb-1">Tên của bạn</label>\n
   │                         <input type="text" name="name" id="name" required\n
   │                             class="w-full border border-gray-300 rounded-md px-3 py-2 text-sm">\n
   │                     </div>\n
   │ \n
   │                     <div class="mb-4">\n
   │                         <label for="email" class="block text-sm font-medium text-gray-700 mb-1">Email nhận thông tin</label>\n
   │                         <input type="email" name="email" id="email"\n
   │                             class="w-full border border-gray-300 rounded-md px-3 py-2 text-sm">\n
   │                             \n
   │                     </div>\n
   │                     <div class="text-right">\n
   │                         <button type="submit"\n
   │                             class="bg-blue-600 hover:bg-blue-700 text-white text-sm font-medium px-4 py-2 rounded-md">\n
   │                             Đăng ký\n
   │                         </button>\n
   │                     </div>\n
   │             </form></div></div>\n
   │ \n
   │     </div>\n
   │             </div>\n
   │         </div>\n
   │     </div>\n
   │ \n
   │ </body>\n
   │ \n
   │ </html>\n
   │ \n
   │ <script>\n
   │     function openNotification() {\n
   │         console.log('openNotification');\n
   │         const dropdown = document.getElementById('notification-dropdown');\n
   │         if (dropdown) {\n
   │             dropdown.classList.toggle('hidden');\n
   │             \n
   │             // Nếu dropdown đang hiển thị, đánh dấu tất cả thông báo đã đọc\n
   │             if (!dropdown.classList.contains('hidden')) {\n
   │                 markNotificationsAsRead();\n
   │             }\n
   │         }\n
   │     }\n
   │ \n
   │     function markNotificationsAsRead() {\n
   │         // Gửi request để đánh dấu thông báo đã đọc\n
   │         fetch('/mark-notifications-as-read', {\n
   │             method: 'POST',\n
   │             headers: {\n
   │                 'X-CSRF-TOKEN': document.querySelector('meta[name="csrf-token"]').getAttribute('content'),\n
   │                 'Content-Type': 'application/json',\n
   │             },\n
   │         })\n
   │         .then(response => response.json())\n
   │         .then(data => {\n
   │             if (data.success) {\n
   │                 // Ẩn badge số lượng thông báo\n
   │                 const badge = document.getElementById('notification-badge');\n
   │                 if (badge) {\n
   │                     badge.style.display = 'none';\n
   │                 }\n
   │             }\n
   │         })\n
   │         .catch(error => {\n
   │             console.error('Error marking notifications as read:', error);\n
   │         });\n
   │     }\n
   │ \n
   │     function markNotificationAsRead(notificationId, element) {\n
   │         // Gửi request để đánh dấu một thông báo cụ thể đã đọc\n
   │         fetch('/mark-notification-as-read', {\n
   │             method: 'POST',\n
   │             headers: {\n
   │                 'X-CSRF-TOKEN': document.querySelector('meta[name="csrf-token"]').getAttribute('content'),\n
   │                 'Content-Type': 'application/json',\n
   │             },\n
   │             body: JSON.stringify({\n
   │                 notification_id: notificationId\n
   │             })\n
   │         })\n
   │         .then(response => response.json())\n
   │         .then(data => {\n
   │             if (data.success) {\n
   │                 // Cập nhật giao diện\n
   │                 element.classList.remove('bg-blue-50', 'border-l-4', 'border-blue-500');\n
   │                 element.classList.add('bg-white');\n
   │                 \n
   │                 // Cập nhật màu text\n
   │                 const titleElement = element.querySelector('.font-semibold');\n
   │                 const messageElement = element.querySelector('.text-blue-700');\n
   │                 if (titleElement) titleElement.classList.remove('text-blue-900');\n
   │                 if (messageElement) messageElement.classList.remove('text-blue-700');\n
   │                 \n
   │                 // Ẩn dot xanh\n
   │                 const dotElement = element.querySelector('.bg-blue-500');\n
   │                 if (dotElement) dotElement.style.display = 'none';\n
   │                 \n
   │                 // Cập nhật badge số lượng\n
   │                 updateNotificationBadge();\n
   │             }\n
   │         })\n
   │         .catch(error => {\n
   │             console.error('Error marking notification as read:', error);\n
   │         });\n
   │     }\n
   │ \n
   │     function updateNotificationBadge() {\n
   │         // Đếm số thông báo chưa đọc còn lại\n
   │         const unreadItems = document.querySelectorAll('.bg-blue-50');\n
   │         const badge = document.getElementById('notification-badge');\n
   │         \n
   │         if (badge) {\n
   │             if (unreadItems.length === 0) {\n
   │                 badge.style.display = 'none';\n
   │             } else {\n
   │                 badge.textContent = unreadItems.length;\n
   │                 badge.style.display = 'inline-block';\n
   │             }\n
   │         }\n
   │     }\n
   │ \n
   │     document.addEventListener("DOMContentLoaded", function () {\n
   │         const toggles = document.querySelectorAll('.toggle-submenu');\n
   │ \n
   │         toggles.forEach(toggle => {\n
   │             toggle.addEventListener('click', function (e) {\n
   │                 e.preventDefault();\n
   │                 const submenu = this.nextElementSibling;\n
   │ \n
   │                 document.querySelectorAll('.submenu').forEach(sm => {\n
   │                     if (sm !== submenu) sm.classList.add('hidden');\n
   │                 });\n
   │ \n
   │                 if (submenu && submenu.classList.contains('submenu')) {\n
   │                     submenu.classList.toggle('hidden');\n
   │                 }\n
   │             });\n
   │         });\n
   │         \n
   │         const btn = document.getElementById('user-menu-button');\n
   │         const dropdown = document.getElementById('user-dropdown');\n
   │ \n
   │         if (btn && dropdown) {\n
   │             btn.addEventListener('click', function (e) {\n
   │                 e.stopPropagation();\n
   │                 dropdown.classList.toggle('hidden');\n
   │             });\n
   │ \n
   │             document.addEventListener('click', function (e) {\n
   │                 if (!dropdown.classList.contains('hidden') &&\n
   │                     !dropdown.contains(e.target) &&\n
   │                     !btn.contains(e.target)) {\n
   │                     dropdown.classList.add('hidden');\n
   │                 }\n
   │             });\n
   │         }\n
   │ \n
   │         // Thêm event listener để đóng dropdown thông báo khi click ra ngoài\n
   │         document.addEventListener('click', function (e) {\n
   │             const notificationDropdown = document.getElementById('notification-dropdown');\n
   │             const notificationButton = document.querySelector('[onclick="openNotification()"]');\n
   │             \n
   │             if (notificationDropdown && !notificationDropdown.classList.contains('hidden') &&\n
   │                 !notificationDropdown.contains(e.target) &&\n
   │                 !notificationButton.contains(e.target)) {\n
   │                 notificationDropdown.classList.add('hidden');\n
   │             }\n
   │         });\n
   │     });\n
   │ </script>\n
   │ ' [UTF-8](length: 128419) contains "Test Calamity" [ASCII](length: 13).
   │
   │ D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Testing\TestResponseAssert.php:45
   │ D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Testing\TestResponse.php:686
   │ D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\tests\Feature\IntegrationTest.php:67
   │
 ✔ Guest can access public features
 ✔ Authentication flow
 ✔ Data relationships work correctly
 ✔ Search functionality
 ✔ Bulk operations

Simple (Tests\Feature\Simple)
 ✔ Basic authentication
 ✔ User can logout
 ✔ Guest can access public pages

Type Of Calamity Management (Tests\Feature\TypeOfCalamityManagement)
 ✔ Guest can view type of calamity list
 ✔ Authenticated user can view create type of calamity form
 ✔ Authenticated user can create new type of calamity
 ↩ Cannot create type of calamity with duplicate name
 ✔ Authenticated user can view edit type of calamity form
 ↩ Authenticated user can update type of calamity
 ✔ Authenticated user can delete type of calamity
 ✔ Authenticated user can delete multiple type of calamities
 ✔ Type of calamity list can be searched
 ✔ Guest cannot access create type of calamity form

User Management (Tests\Feature\UserManagement)
 ✔ Authenticated user can view user list
 ✔ Authenticated user can view create user form
 ✘ Authenticated user can create new user
   │
   │ Failed asserting that two strings are equal.
   │
   │ The following errors occurred during the last request:
   │
   │ Trường tên là bắt buộc.
   │
   │ --- Expected
   │ +++ Actual
   │ @@ @@
   │ -'http://localhost/list-user'
   │ +'http://localhost'
   │
   │ D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Testing\TestResponseAssert.php:45
   │ D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Testing\TestResponse.php:408
   │ D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Testing\TestResponse.php:205
   │ D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\tests\Feature\UserManagementTest.php:47
   │
 ✔ Cannot create user with duplicate user name
 ✔ Cannot create user with duplicate email
 ✔ Authenticated user can view edit user form
 ✘ Authenticated user can update user
   │
   │ Expected response status code [201, 301, 302, 303, 307, 308] but received 422.
   │ Failed asserting that false is true.
   │
   │ The following errors occurred during the last request:
   │
   │ {
   │     "errors": {
   │         "name": [
   │             "Trường tên là bắt buộc."
   │         ]
   │     }
   │ }
   │
   │ D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Testing\TestResponseAssert.php:45
   │ D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Testing\TestResponse.php:199
   │ D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\tests\Feature\UserManagementTest.php:118
   │
 ✔ Authenticated user can delete user
 ✔ Authenticated user can delete multiple users
 ✘ User list can be searched
   │
   │ Failed asserting that '<!DOCTYPE html>\n
   │ <html class="opacity-0" lang="vi">\n
   │ \n
   │ <head>\n
   │     <meta charset="utf-8">\n
   │     <meta name="csrf-token" content="K2ZIQyPaSnIJDGpHCDgNs5CXym9EXutcaBlBWCJN">\n
   │     <meta name="viewport" content="width=device-width, initial-scale=1">\n
   │     <meta name="author" content="LEFT4CODE">\n
   │     \n
   │     \n
   │     <script type="module" src="http://[::1]:5173/@vite/client"></script><script type="module" src="http://[::1]:5173/resources/js/vendors/dom.js"></script>    \n
   │     \n
   │     <script type="module" src="http://[::1]:5173/@vite/client"></script><script type="module" src="http://[::1]:5173/resources/js/components/base/theme-color.js"></script>    <script type="module" src="http://[::1]:5173/@vite/client"></script><link rel="stylesheet" href="http://[::1]:5173/resources/css/app.css" /><script type="module" src="http://[::1]:5173/resources/js/app.js"></script>\n
   │     </head>\n
   │ \n
   │ <body style="background-color: #1E3A8A;">\n
   │ \n
   │     <div class=" px-5 sm:px-8 py-5 ">\n
   │         <div class="mobile-menu hidden lg:hidden fixed inset-0 bg-slate-900 text-white z-50 overflow-y-auto" style="background-color: #1E3A8A;">\n
   │     \n
   │     <div class="flex h-[70px] items-center px-4 sm:px-8 justify-between border-b border-slate-700 lg:hidden">\n
   │         <a href="http://localhost" class="flex items-center gap-2">\n
   │             <span class="font-semibold text-lg">Quản lý thiên tai</span>\n
   │         </a>\n
   │         <span role="button" class="mobile-menu-close cursor-pointer"\n
   │       onclick="document.querySelector('.mobile-menu')?.classList.add('hidden')">\n
   │     <svg class="lucide w-5 h-5 mr-2" xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24"><circle cx="12" cy="12" r="10"/><path d="M15 9l-6 6m0-6l6 6"/></svg>\n
   │     </span>\n
   │ \n
   │     </div>\n
   │ \n
   │     <ul class="py-4 px-4 space-y-2">\n
   │                                                         <li>\n
   │                         <a class="flex items-center justify-between px-4 py-3 hover:bg-slate-700 rounded transition "\n
   │                            href="http://localhost">\n
   │                             <div class="flex items-center gap-2">\n
   │                                 <svg class="lucide w-5 h-5 mr-2" xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24"><path d="M12 22a10 10 0 1 0-10-10a10.011 10.011 0 0 0 10 10z"/><path d="M12.5 7h-1a1.5 1.5 0 0 0-1.5 1.5v6A1.5 1.5 0 0 0 11.5 16h1a1.5 1.5 0 0 0 .5-2.9V9.9A1.5 1.5 0 0 0 12.5 7z"/><circle cx="12" cy="19" r=".5"/></svg>\n
   │                                 <span>Tổng Quan</span>\n
   │                             </div>\n
   │                                                     </a>\n
   │ \n
   │                                             </li>\n
   │                                                                 <li>\n
   │                         <a class="flex items-center justify-between px-4 py-3 hover:bg-slate-700 rounded transition toggle-submenu"\n
   │                            href="javascript:;">\n
   │                             <div class="flex items-center gap-2">\n
   │                                 <svg class="lucide w-5 h-5 mr-2" xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24"><path d="M3 9l9-7l9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V9z"/><polyline points="9 22 9 12 15 12 15 22"/></svg>\n
   │                                 <span>Địa Điểm</span>\n
   │                             </div>\n
   │                                                             <svg class="lucide w-5 h-5 mr-2" xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24"><path d="M6 9l6 6l6-6"/></svg>\n
   │                                                     </a>\n
   │ \n
   │                                                     <ul class="submenu ml-4 mt-1 hidden space-y-1">\n
   │                                                                     <li>\n
   │                                         <a class="flex items-center justify-between px-4 py-2 text-sm hover:bg-slate-700 rounded transition "\n
   │                                            href="http://localhost/list-city">\n
   │                                             <div class="flex items-center gap-2">\n
   │                                                 <svg class="lucide w-5 h-5 mr-2" xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24"><path d="M12 22a10 10 0 1 0-10-10a10.011 10.011 0 0 0 10 10z"/><path d="M12.5 7h-1a1.5 1.5 0 0 0-1.5 1.5v6A1.5 1.5 0 0 0 11.5 16h1a1.5 1.5 0 0 0 .5-2.9V9.9A1.5 1.5 0 0 0 12.5 7z"/><circle cx="12" cy="19" r=".5"/></svg>\n
   │                                                 <span>Tỉnh-Thành</span>\n
   │                                             </div>\n
   │                                                                                     </a>\n
   │ \n
   │                                                                             </li>\n
   │                                                                     <li>\n
   │                                         <a class="flex items-center justify-between px-4 py-2 text-sm hover:bg-slate-700 rounded transition "\n
   │                                            href="http://localhost/list-district">\n
   │                                             <div class="flex items-center gap-2">\n
   │                                                 <svg class="lucide w-5 h-5 mr-2" xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24"><path d="M12 22a10 10 0 1 0-10-10a10.011 10.011 0 0 0 10 10z"/><path d="M12.5 7h-1a1.5 1.5 0 0 0-1.5 1.5v6A1.5 1.5 0 0 0 11.5 16h1a1.5 1.5 0 0 0 .5-2.9V9.9A1.5 1.5 0 0 0 12.5 7z"/><circle cx="12" cy="19" r=".5"/></svg>\n
   │                                                 <span>Quận-Huyện</span>\n
   │                                             </div>\n
   │                                                                                     </a>\n
   │ \n
   │                                                                             </li>\n
   │                                                                     <li>\n
   │                                         <a class="flex items-center justify-between px-4 py-2 text-sm hover:bg-slate-700 rounded transition "\n
   │                                            href="http://localhost/list-commune">\n
   │                                             <div class="flex items-center gap-2">\n
   │                                                 <svg class="lucide w-5 h-5 mr-2" xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24"><path d="M12 22a10 10 0 1 0-10-10a10.011 10.011 0 0 0 10 10z"/><path d="M12.5 7h-1a1.5 1.5 0 0 0-1.5 1.5v6A1.5 1.5 0 0 0 11.5 16h1a1.5 1.5 0 0 0 .5-2.9V9.9A1.5 1.5 0 0 0 12.5 7z"/><circle cx="12" cy="19" r=".5"/></svg>\n
   │                                                 <span>Phường-Xã</span>\n
   │                                             </div>\n
   │                                                                                     </a>\n
   │ \n
   │                                                                             </li>\n
   │                                                             </ul>\n
   │                                             </li>\n
   │                                                                 <li>\n
   │                         <a class="flex items-center justify-between px-4 py-3 hover:bg-slate-700 rounded transition toggle-submenu"\n
   │                            href="javascript:;">\n
   │                             <div class="flex items-center gap-2">\n
   │                                 <svg class="lucide w-5 h-5 mr-2" xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24"><path d="M16 21v-2a4 4 0 0 0-8 0v2"/><circle cx="12" cy="7" r="4"/><path d="M20.88 18.5A3.5 3.5 0 0 1 17.5 22H6.5a3.5 3.5 0 0 1-3.38-2.5"/></svg>\n
   │                                 <span>Loại Thiên Tai</span>\n
   │                             </div>\n
   │                                                             <svg class="lucide w-5 h-5 mr-2" xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24"><path d="M6 9l6 6l6-6"/></svg>\n
   │                                                     </a>\n
   │ \n
   │                                                     <ul class="submenu ml-4 mt-1 hidden space-y-1">\n
   │                                                                     <li>\n
   │                                         <a class="flex items-center justify-between px-4 py-2 text-sm hover:bg-slate-700 rounded transition "\n
   │                                            href="http://localhost/list-type-of-calamity">\n
   │                                             <div class="flex items-center gap-2">\n
   │                                                 <svg class="lucide w-5 h-5 mr-2" xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24"><path d="M12 22a10 10 0 1 0-10-10a10.011 10.011 0 0 0 10 10z"/><path d="M12.5 7h-1a1.5 1.5 0 0 0-1.5 1.5v6A1.5 1.5 0 0 0 11.5 16h1a1.5 1.5 0 0 0 .5-2.9V9.9A1.5 1.5 0 0 0 12.5 7z"/><circle cx="12" cy="19" r=".5"/></svg>\n
   │                                                 <span>Loại Thiên Tai</span>\n
   │                                             </div>\n
   │                                                                                     </a>\n
   │ \n
   │                                                                             </li>\n
   │                                                                     <li>\n
   │                                         <a class="flex items-center justify-between px-4 py-2 text-sm hover:bg-slate-700 rounded transition "\n
   │                                            href="http://localhost/list-sub-type-of-calamity">\n
   │                                             <div class="flex items-center gap-2">\n
   │                                                 <svg class="lucide w-5 h-5 mr-2" xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24"><path d="M12 22a10 10 0 1 0-10-10a10.011 10.011 0 0 0 10 10z"/><path d="M12.5 7h-1a1.5 1.5 0 0 0-1.5 1.5v6A1.5 1.5 0 0 0 11.5 16h1a1.5 1.5 0 0 0 .5-2.9V9.9A1.5 1.5 0 0 0 12.5 7z"/><circle cx="12" cy="19" r=".5"/></svg>\n
   │                                                 <span>Loại Thiên Tai Phụ</span>\n
   │                                             </div>\n
   │                                                                                     </a>\n
   │ \n
   │                                                                             </li>\n
   │                                                                     <li>\n
   │                                         <a class="flex items-center justify-between px-4 py-2 text-sm hover:bg-slate-700 rounded transition "\n
   │                                            href="http://localhost/list-risk-level">\n
   │                                             <div class="flex items-center gap-2">\n
   │                                                 <svg class="lucide w-5 h-5 mr-2" xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24"><path d="M12 22a10 10 0 1 0-10-10a10.011 10.011 0 0 0 10 10z"/><path d="M12.5 7h-1a1.5 1.5 0 0 0-1.5 1.5v6A1.5 1.5 0 0 0 11.5 16h1a1.5 1.5 0 0 0 .5-2.9V9.9A1.5 1.5 0 0 0 12.5 7z"/><circle cx="12" cy="19" r=".5"/></svg>\n
   │                                                 <span>Cấp Độ Thiên Tai</span>\n
   │                                             </div>\n
   │                                                                                     </a>\n
   │ \n
   │                                                                             </li>\n
   │                                                                     <li>\n
   │                                         <a class="flex items-center justify-between px-4 py-2 text-sm hover:bg-slate-700 rounded transition "\n
   │                                            href="http://localhost/list-type-of-construction">\n
   │                                             <div class="flex items-center gap-2">\n
   │                                                 <svg class="lucide w-5 h-5 mr-2" xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24"><path d="M12 22a10 10 0 1 0-10-10a10.011 10.011 0 0 0 10 10z"/><path d="M12.5 7h-1a1.5 1.5 0 0 0-1.5 1.5v6A1.5 1.5 0 0 0 11.5 16h1a1.5 1.5 0 0 0 .5-2.9V9.9A1.5 1.5 0 0 0 12.5 7z"/><circle cx="12" cy="19" r=".5"/></svg>\n
   │                                                 <span>Loại Công Trình</span>\n
   │                                             </div>\n
   │                                                                                     </a>\n
   │ \n
   │                                                                             </li>\n
   │                                                                     <li>\n
   │                                         <a class="flex items-center justify-between px-4 py-2 text-sm hover:bg-slate-700 rounded transition "\n
   │                                            href="http://localhost/list-scenarios">\n
   │                                             <div class="flex items-center gap-2">\n
   │                                                 <svg class="lucide w-5 h-5 mr-2" xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24"><path d="M12 22a10 10 0 1 0-10-10a10.011 10.011 0 0 0 10 10z"/><path d="M12.5 7h-1a1.5 1.5 0 0 0-1.5 1.5v6A1.5 1.5 0 0 0 11.5 16h1a1.5 1.5 0 0 0 .5-2.9V9.9A1.5 1.5 0 0 0 12.5 7z"/><circle cx="12" cy="19" r=".5"/></svg>\n
   │                                                 <span>Phương Án Ứng Phó</span>\n
   │                                             </div>\n
   │                                                                                     </a>\n
   │ \n
   │                                                                             </li>\n
   │                                                             </ul>\n
   │                                             </li>\n
   │                                                                 <li>\n
   │                         <a class="flex items-center justify-between px-4 py-3 hover:bg-slate-700 rounded transition toggle-submenu"\n
   │                            href="javascript:;">\n
   │                             <div class="flex items-center gap-2">\n
   │                                 <svg class="lucide w-5 h-5 mr-2" xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24"><path d="M16 21v-2a4 4 0 0 0-8 0v2"/><circle cx="12" cy="7" r="4"/><path d="M20.88 18.5A3.5 3.5 0 0 1 17.5 22H6.5a3.5 3.5 0 0 1-3.38-2.5"/></svg>\n
   │                                 <span>Dữ Liệu Thiên Tai</span>\n
   │                             </div>\n
   │                                                             <svg class="lucide w-5 h-5 mr-2" xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24"><path d="M6 9l6 6l6-6"/></svg>\n
   │                                                     </a>\n
   │ \n
   │                                                     <ul class="submenu ml-4 mt-1 hidden space-y-1">\n
   │                                                                     <li>\n
   │                                         <a class="flex items-center justify-between px-4 py-2 text-sm hover:bg-slate-700 rounded transition "\n
   │                                            href="http://localhost/calamity/list-river-bank">\n
   │                                             <div class="flex items-center gap-2">\n
   │                                                 <svg class="lucide w-5 h-5 mr-2" xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24"><path d="M12 22a10 10 0 1 0-10-10a10.011 10.011 0 0 0 10 10z"/><path d="M12.5 7h-1a1.5 1.5 0 0 0-1.5 1.5v6A1.5 1.5 0 0 0 11.5 16h1a1.5 1.5 0 0 0 .5-2.9V9.9A1.5 1.5 0 0 0 12.5 7z"/><circle cx="12" cy="19" r=".5"/></svg>\n
   │                                                 <span>Sạt Lở</span>\n
   │                                             </div>\n
   │                                                                                     </a>\n
   │ \n
   │                                                                             </li>\n
   │                                                                     <li>\n
   │                                         <a class="flex items-center justify-between px-4 py-2 text-sm hover:bg-slate-700 rounded transition "\n
   │                                            href="http://localhost/calamity/list-flooding">\n
   │                                             <div class="flex items-center gap-2">\n
   │                                                 <svg class="lucide w-5 h-5 mr-2" xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24"><path d="M12 22a10 10 0 1 0-10-10a10.011 10.011 0 0 0 10 10z"/><path d="M12.5 7h-1a1.5 1.5 0 0 0-1.5 1.5v6A1.5 1.5 0 0 0 11.5 16h1a1.5 1.5 0 0 0 .5-2.9V9.9A1.5 1.5 0 0 0 12.5 7z"/><circle cx="12" cy="19" r=".5"/></svg>\n
   │                                                 <span>Ngập Lụt</span>\n
   │                                             </div>\n
   │                                                                                     </a>\n
   │ \n
   │                                                                             </li>\n
   │                                                                     <li>\n
   │                                         <a class="flex items-center justify-between px-4 py-2 text-sm hover:bg-slate-700 rounded transition "\n
   │                                            href="http://localhost/calamity/list-storm">\n
   │                                             <div class="flex items-center gap-2">\n
   │                                                 <svg class="lucide w-5 h-5 mr-2" xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24"><path d="M12 22a10 10 0 1 0-10-10a10.011 10.011 0 0 0 10 10z"/><path d="M12.5 7h-1a1.5 1.5 0 0 0-1.5 1.5v6A1.5 1.5 0 0 0 11.5 16h1a1.5 1.5 0 0 0 .5-2.9V9.9A1.5 1.5 0 0 0 12.5 7z"/><circle cx="12" cy="19" r=".5"/></svg>\n
   │                                                 <span>Bão và ATNĐ</span>\n
   │                                             </div>\n
   │                                                                                     </a>\n
   │ \n
   │                                                                             </li>\n
   │                                                             </ul>\n
   │                                             </li>\n
   │                                                                 <li>\n
   │                         <a class="flex items-center justify-between px-4 py-3 hover:bg-slate-700 rounded transition toggle-submenu"\n
   │                            href="javascript:;">\n
   │                             <div class="flex items-center gap-2">\n
   │                                 <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-construction-icon lucide-construction"><rect x="2" y="6" width="20" height="8" rx="1"/><path d="M17 14v7"/><path d="M7 14v7"/><path d="M17 3v3"/><path d="M7 3v3"/><path d="M10 14 2.3 6.3"/><path d="m14 6 7.7 7.7"/><path d="m8 6 8 8"/></svg>\n
   │                                 <span>Công Trình PCTT</span>\n
   │                             </div>\n
   │                                                             <svg class="lucide w-5 h-5 mr-2" xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24"><path d="M6 9l6 6l6-6"/></svg>\n
   │                                                     </a>\n
   │ \n
   │                                                     <ul class="submenu ml-4 mt-1 hidden space-y-1">\n
   │                                                                     <li>\n
   │                                         <a class="flex items-center justify-between px-4 py-2 text-sm hover:bg-slate-700 rounded transition "\n
   │                                            href="http://localhost/construction/list-river-bank">\n
   │                                             <div class="flex items-center gap-2">\n
   │                                                 <svg class="lucide w-5 h-5 mr-2" xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24"><path d="M12 22a10 10 0 1 0-10-10a10.011 10.011 0 0 0 10 10z"/><path d="M12.5 7h-1a1.5 1.5 0 0 0-1.5 1.5v6A1.5 1.5 0 0 0 11.5 16h1a1.5 1.5 0 0 0 .5-2.9V9.9A1.5 1.5 0 0 0 12.5 7z"/><circle cx="12" cy="19" r=".5"/></svg>\n
   │                                                 <span>Sạt Lở</span>\n
   │                                             </div>\n
   │                                                                                     </a>\n
   │ \n
   │                                                                             </li>\n
   │                                                                     <li>\n
   │                                         <a class="flex items-center justify-between px-4 py-2 text-sm hover:bg-slate-700 rounded transition "\n
   │                                            href="http://localhost/construction/list-flooding">\n
   │                                             <div class="flex items-center gap-2">\n
   │                                                 <svg class="lucide w-5 h-5 mr-2" xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24"><path d="M12 22a10 10 0 1 0-10-10a10.011 10.011 0 0 0 10 10z"/><path d="M12.5 7h-1a1.5 1.5 0 0 0-1.5 1.5v6A1.5 1.5 0 0 0 11.5 16h1a1.5 1.5 0 0 0 .5-2.9V9.9A1.5 1.5 0 0 0 12.5 7z"/><circle cx="12" cy="19" r=".5"/></svg>\n
   │                                                 <span>Ngập Lụt</span>\n
   │                                             </div>\n
   │                                                                                     </a>\n
   │ \n
   │                                                                             </li>\n
   │                                                                     <li>\n
   │                                         <a class="flex items-center justify-between px-4 py-2 text-sm hover:bg-slate-700 rounded transition "\n
   │                                            href="http://localhost/construction/list-storm">\n
   │                                             <div class="flex items-center gap-2">\n
   │                                                 <svg class="lucide w-5 h-5 mr-2" xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24"><path d="M12 22a10 10 0 1 0-10-10a10.011 10.011 0 0 0 10 10z"/><path d="M12.5 7h-1a1.5 1.5 0 0 0-1.5 1.5v6A1.5 1.5 0 0 0 11.5 16h1a1.5 1.5 0 0 0 .5-2.9V9.9A1.5 1.5 0 0 0 12.5 7z"/><circle cx="12" cy="19" r=".5"/></svg>\n
   │                                                 <span>Bão và ATNĐ</span>\n
   │                                             </div>\n
   │                                                                                     </a>\n
   │ \n
   │                                                                             </li>\n
   │                                                             </ul>\n
   │                                             </li>\n
   │                                                                 <li>\n
   │                         <a class="flex items-center justify-between px-4 py-3 hover:bg-slate-700 rounded transition toggle-submenu"\n
   │                            href="javascript:;">\n
   │                             <div class="flex items-center gap-2">\n
   │                                 <svg class="lucide w-5 h-5 mr-2" xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24"><path d="M16 21v-2a4 4 0 0 0-8 0v2"/><circle cx="12" cy="7" r="4"/><path d="M20.88 18.5A3.5 3.5 0 0 1 17.5 22H6.5a3.5 3.5 0 0 1-3.38-2.5"/></svg>\n
   │                                 <span>Địa danh hành chính</span>\n
   │                             </div>\n
   │                                                             <svg class="lucide w-5 h-5 mr-2" xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24"><path d="M6 9l6 6l6-6"/></svg>\n
   │                                                     </a>\n
   │ \n
   │                                                     <ul class="submenu ml-4 mt-1 hidden space-y-1">\n
   │                                                                     <li>\n
   │                                         <a class="flex items-center justify-between px-4 py-2 text-sm hover:bg-slate-700 rounded transition "\n
   │                                            href="http://localhost/administrative/list-school">\n
   │                                             <div class="flex items-center gap-2">\n
   │                                                 <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-school-icon lucide-school"><path d="M14 22v-4a2 2 0 1 0-4 0v4"/><path d="m18 10 3.447 1.724a1 1 0 0 1 .553.894V20a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2v-7.382a1 1 0 0 1 .553-.894L6 10"/><path d="M18 5v17"/><path d="m4 6 7.106-3.553a2 2 0 0 1 1.788 0L20 6"/><path d="M6 5v17"/><circle cx="12" cy="9" r="2"/></svg>\n
   │                                                 <span>Trường Học</span>\n
   │                                             </div>\n
   │                                                                                     </a>\n
   │ \n
   │                                                                             </li>\n
   │                                                                     <li>\n
   │                                         <a class="flex items-center justify-between px-4 py-2 text-sm hover:bg-slate-700 rounded transition "\n
   │                                            href="http://localhost/administrative/list-medical">\n
   │                                             <div class="flex items-center gap-2">\n
   │                                                 <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-hospital-icon lucide-hospital"><path d="M12 6v4"/><path d="M14 14h-4"/><path d="M14 18h-4"/><path d="M14 8h-4"/><path d="M18 12h2a2 2 0 0 1 2 2v6a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2v-9a2 2 0 0 1 2-2h2"/><path d="M18 22V4a2 2 0 0 0-2-2H8a2 2 0 0 0-2 2v18"/></svg>\n
   │                                                 <span>Địa Điểm Y Tế</span>\n
   │                                             </div>\n
   │                                                                                     </a>\n
   │ \n
   │                                                                             </li>\n
   │                                                                     <li>\n
   │                                         <a class="flex items-center justify-between px-4 py-2 text-sm hover:bg-slate-700 rounded transition "\n
   │                                            href="http://localhost/administrative/list-center">\n
   │                                             <div class="flex items-center gap-2">\n
   │                                                 <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-university-icon lucide-university"><path d="M14 21v-3a2 2 0 0 0-4 0v3"/><path d="M18 12h.01"/><path d="M18 16h.01"/><path d="M22 7a1 1 0 0 0-1-1h-2a2 2 0 0 1-1.143-.359L13.143 2.36a2 2 0 0 0-2.286-.001L6.143 5.64A2 2 0 0 1 5 6H3a1 1 0 0 0-1 1v12a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2z"/><path d="M6 12h.01"/><path d="M6 16h.01"/><circle cx="12" cy="10" r="2"/></svg>\n
   │                                                 <span>TTHC và Khác</span>\n
   │                                             </div>\n
   │                                                                                     </a>\n
   │ \n
   │                                                                             </li>\n
   │                                                             </ul>\n
   │                                             </li>\n
   │                                                                 <li>\n
   │                         <a class="flex items-center justify-between px-4 py-3 hover:bg-slate-700 rounded transition toggle-submenu"\n
   │                            href="javascript:;">\n
   │                             <div class="flex items-center gap-2">\n
   │                                 <svg class="lucide w-5 h-5 mr-2" xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24"><path d="M16 21v-2a4 4 0 0 0-8 0v2"/><circle cx="12" cy="7" r="4"/><path d="M20.88 18.5A3.5 3.5 0 0 1 17.5 22H6.5a3.5 3.5 0 0 1-3.38-2.5"/></svg>\n
   │                                 <span>Dữ Liệu Khác</span>\n
   │                             </div>\n
   │                                                             <svg class="lucide w-5 h-5 mr-2" xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24"><path d="M6 9l6 6l6-6"/></svg>\n
   │                                                     </a>\n
   │ \n
   │                                                     <ul class="submenu ml-4 mt-1 hidden space-y-1">\n
   │                                                                     <li>\n
   │                                         <a class="flex items-center justify-between px-4 py-2 text-sm hover:bg-slate-700 rounded transition "\n
   │                                            href="http://localhost/geographical/list-erosion">\n
   │                                             <div class="flex items-center gap-2">\n
   │                                                 <svg class="lucide w-5 h-5 mr-2" xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24"><path d="M12 22a10 10 0 1 0-10-10a10.011 10.011 0 0 0 10 10z"/><path d="M12.5 7h-1a1.5 1.5 0 0 0-1.5 1.5v6A1.5 1.5 0 0 0 11.5 16h1a1.5 1.5 0 0 0 .5-2.9V9.9A1.5 1.5 0 0 0 12.5 7z"/><circle cx="12" cy="19" r=".5"/></svg>\n
   │                                                 <span>Khu vực xói, bồi</span>\n
   │                                             </div>\n
   │                                                                                     </a>\n
   │ \n
   │                                                                             </li>\n
   │                                                                     <li>\n
   │                                         <a class="flex items-center justify-between px-4 py-2 text-sm hover:bg-slate-700 rounded transition "\n
   │                                            href="http://localhost/geographical/list-shoreline">\n
   │                                             <div class="flex items-center gap-2">\n
   │                                                 <svg class="lucide w-5 h-5 mr-2" xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24"><path d="M12 22a10 10 0 1 0-10-10a10.011 10.011 0 0 0 10 10z"/><path d="M12.5 7h-1a1.5 1.5 0 0 0-1.5 1.5v6A1.5 1.5 0 0 0 11.5 16h1a1.5 1.5 0 0 0 .5-2.9V9.9A1.5 1.5 0 0 0 12.5 7z"/><circle cx="12" cy="19" r=".5"/></svg>\n
   │                                                 <span>Lịch sử đường bờ</span>\n
   │                                             </div>\n
   │                                                                                     </a>\n
   │ \n
   │                                                                             </li>\n
   │                                                                     <li>\n
   │                                         <a class="flex items-center justify-between px-4 py-2 text-sm hover:bg-slate-700 rounded transition "\n
   │                                            href="http://localhost/geographical/list-cross-section">\n
   │                                             <div class="flex items-center gap-2">\n
   │                                                 <svg class="lucide w-5 h-5 mr-2" xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24"><path d="M12 22a10 10 0 1 0-10-10a10.011 10.011 0 0 0 10 10z"/><path d="M12.5 7h-1a1.5 1.5 0 0 0-1.5 1.5v6A1.5 1.5 0 0 0 11.5 16h1a1.5 1.5 0 0 0 .5-2.9V9.9A1.5 1.5 0 0 0 12.5 7z"/><circle cx="12" cy="19" r=".5"/></svg>\n
   │                                                 <span>Mặt cắt ngang</span>\n
   │                                             </div>\n
   │                                                                                     </a>\n
   │ \n
   │                                                                             </li>\n
   │                                                                     <li>\n
   │                                         <a class="flex items-center justify-between px-4 py-2 text-sm hover:bg-slate-700 rounded transition "\n
   │                                            href="http://localhost/geographical/list-monitoring">\n
   │                                             <div class="flex items-center gap-2">\n
   │                                                 <svg class="lucide w-5 h-5 mr-2" xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24"><path d="M12 22a10 10 0 1 0-10-10a10.011 10.011 0 0 0 10 10z"/><path d="M12.5 7h-1a1.5 1.5 0 0 0-1.5 1.5v6A1.5 1.5 0 0 0 11.5 16h1a1.5 1.5 0 0 0 .5-2.9V9.9A1.5 1.5 0 0 0 12.5 7z"/><circle cx="12" cy="19" r=".5"/></svg>\n
   │                                                 <span>Mốc quan trắc</span>\n
   │                                             </div>\n
   │                                                                                     </a>\n
   │ \n
   │                                                                             </li>\n
   │                                                             </ul>\n
   │                                             </li>\n
   │                                                                 <li>\n
   │                         <a class="flex items-center justify-between px-4 py-3 hover:bg-slate-700 rounded transition "\n
   │                            href="http://localhost/map">\n
   │                             <div class="flex items-center gap-2">\n
   │                                 <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-map-icon lucide-map"><path d="M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z"/><path d="M15 5.764v15"/><path d="M9 3.236v15"/></svg>\n
   │                                 <span>Bản Đồ</span>\n
   │                             </div>\n
   │                                                     </a>\n
   │ \n
   │                                             </li>\n
   │                                                                 <li>\n
   │                         <a class="flex items-center justify-between px-4 py-3 hover:bg-slate-700 rounded transition "\n
   │                            href="http://localhost/chat">\n
   │                             <div class="flex items-center gap-2">\n
   │                                 <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-message-circle-icon lucide-message-circle"><path d="M7.9 20A9 9 0 1 0 4 16.1L2 22Z"/></svg>\n
   │                                 <span>Tham gia cộng đồng</span>\n
   │                             </div>\n
   │                                                     </a>\n
   │ \n
   │                                             </li>\n
   │                                                                 <li>\n
   │                         <a class="flex items-center justify-between px-4 py-3 hover:bg-slate-700 rounded transition "\n
   │                            href="http://localhost/incident-report">\n
   │                             <div class="flex items-center gap-2">\n
   │                                 <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-message-square-warning-icon lucide-message-square-warning"><path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"/><path d="M12 7v2"/><path d="M12 13h.01"/></svg>\n
   │                                 <span>Báo cáo sự cố</span>\n
   │                             </div>\n
   │                                                     </a>\n
   │ \n
   │                                             </li>\n
   │                                         </ul>\n
   │ </div>\n
   │ \n
   │ <div class="flex h-[10px] items-center px-3 sm:px-8 md:hidden" >\n
   │     <a class="mr-auto flex" href="http://localhost">\n
   │         <img class="w-6" src="http://[::1]:5173/resources/images/logo.svg" alt="Logo" />\n
   │     </a>\n
   │     <a class="mobile-menu-toggler text-white" href="#" onclick="document.querySelector('.mobile-menu')?.classList.remove('hidden')">\n
   │         <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-square-menu-icon lucide-square-menu"><rect width="18" height="18" x="3" y="3" rx="2"/><path d="M7 8h10"/><path d="M7 12h10"/><path d="M7 16h10"/></svg>\n
   │     </a>\n
   │ </div>\n
   │ \n
   │ \n
   │ \n
   │         <div class="mt-7 flex md:mt-0">\n
   │             <nav class=" hidden w-[80px] overflow-x-hidden pb-16 pr-5 md:block xl:w-[230px]">\n
   │                 <a class="intro-x flex items-center pl-5 pt-4" href="/">\n
   │                     <span class=" lg:text-2xl xl:text-3xl  font-bold uppercase text-transparent bg-clip-text bg-gradient-to-r from-sky-400 to-emerald-600">Quản lý thiên tai</span>\n
   │                 </a>\n
   │                 <div class=" my-3"></div>\n
   │                 <ul >\n
   │                                                                                             <li>\n
   │                                 <a class="flex items-center justify-between px-4 py-3 hover:bg-white hover:text-black text-white transition rounded cursor-pointer "\n
   │                                     href="http://localhost">\n
   │                                     \n
   │                                     <div class="flex items-center gap-2" title="Tổng Quan">\n
   │                                         <div title="Tổng Quan"><svg class="lucide w-5 h-5 mr-2" xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24"><path d="M12 22a10 10 0 1 0-10-10a10.011 10.011 0 0 0 10 10z"/><path d="M12.5 7h-1a1.5 1.5 0 0 0-1.5 1.5v6A1.5 1.5 0 0 0 11.5 16h1a1.5 1.5 0 0 0 .5-2.9V9.9A1.5 1.5 0 0 0 12.5 7z"/><circle cx="12" cy="19" r=".5"/></svg></div>\n
   │                                         <span class="hidden xl:inline" >Tổng Quan</span>\n
   │                                     </div>\n
   │ \n
   │                                                                     </a>\n
   │                                                             </li>\n
   │                                                                                                 <li>\n
   │                                 <a class="flex items-center justify-between px-4 py-3 hover:bg-white hover:text-black text-white transition rounded cursor-pointer toggle-submenu"\n
   │                                     href="javascript:;">\n
   │                                     \n
   │                                     <div class="flex items-center gap-2" title="Địa Điểm">\n
   │                                         <div title="Địa Điểm"><svg class="lucide w-5 h-5 mr-2" xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24"><path d="M3 9l9-7l9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V9z"/><polyline points="9 22 9 12 15 12 15 22"/></svg></div>\n
   │                                         <span class="hidden xl:inline" >Địa Điểm</span>\n
   │                                     </div>\n
   │ \n
   │                                                                             <span class="hidden xl:inline"><svg class="lucide w-5 h-5 mr-2" xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24"><path d="M6 9l6 6l6-6"/></svg></span>\n
   │                                                                     </a>\n
   │                                                                     <ul class="submenu ml-6 mt-1 hidden">\n
   │                                                                                     <li  class="group relative">\n
   │                                                 <a class="flex items-center justify-between px-4 py-2 text-sm text-slate-300 hover:text-white hover:bg-slate-700 rounded transition "\n
   │                                                     href="http://localhost/list-city">\n
   │                                                    <div class="flex items-center gap-2">\n
   │                                                         <svg class="lucide w-5 h-5 mr-2" xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24"><path d="M12 22a10 10 0 1 0-10-10a10.011 10.011 0 0 0 10 10z"/><path d="M12.5 7h-1a1.5 1.5 0 0 0-1.5 1.5v6A1.5 1.5 0 0 0 11.5 16h1a1.5 1.5 0 0 0 .5-2.9V9.9A1.5 1.5 0 0 0 12.5 7z"/><circle cx="12" cy="19" r=".5"/></svg>\n
   │                                                         <span class="hidden xl:inline">Tỉnh-Thành</span>\n
   │                                                     </div>\n
   │                                                                                                     </a>\n
   │                                                                                             </li>\n
   │                                                                                     <li  class="group relative">\n
   │                                                 <a class="flex items-center justify-between px-4 py-2 text-sm text-slate-300 hover:text-white hover:bg-slate-700 rounded transition "\n
   │                                                     href="http://localhost/list-district">\n
   │                                                    <div class="flex items-center gap-2">\n
   │                                                         <svg class="lucide w-5 h-5 mr-2" xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24"><path d="M12 22a10 10 0 1 0-10-10a10.011 10.011 0 0 0 10 10z"/><path d="M12.5 7h-1a1.5 1.5 0 0 0-1.5 1.5v6A1.5 1.5 0 0 0 11.5 16h1a1.5 1.5 0 0 0 .5-2.9V9.9A1.5 1.5 0 0 0 12.5 7z"/><circle cx="12" cy="19" r=".5"/></svg>\n
   │                                                         <span class="hidden xl:inline">Quận-Huyện</span>\n
   │                                                     </div>\n
   │                                                                                                     </a>\n
   │                                                                                             </li>\n
   │                                                                                     <li  class="group relative">\n
   │                                                 <a class="flex items-center justify-between px-4 py-2 text-sm text-slate-300 hover:text-white hover:bg-slate-700 rounded transition "\n
   │                                                     href="http://localhost/list-commune">\n
   │                                                    <div class="flex items-center gap-2">\n
   │                                                         <svg class="lucide w-5 h-5 mr-2" xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24"><path d="M12 22a10 10 0 1 0-10-10a10.011 10.011 0 0 0 10 10z"/><path d="M12.5 7h-1a1.5 1.5 0 0 0-1.5 1.5v6A1.5 1.5 0 0 0 11.5 16h1a1.5 1.5 0 0 0 .5-2.9V9.9A1.5 1.5 0 0 0 12.5 7z"/><circle cx="12" cy="19" r=".5"/></svg>\n
   │                                                         <span class="hidden xl:inline">Phường-Xã</span>\n
   │                                                     </div>\n
   │                                                                                                     </a>\n
   │                                                                                             </li>\n
   │                                                                             </ul>\n
   │                                                             </li>\n
   │                                                                                                 <li>\n
   │                                 <a class="flex items-center justify-between px-4 py-3 hover:bg-white hover:text-black text-white transition rounded cursor-pointer toggle-submenu"\n
   │                                     href="javascript:;">\n
   │                                     \n
   │                                     <div class="flex items-center gap-2" title="Loại Thiên Tai">\n
   │                                         <div title="Loại Thiên Tai"><svg class="lucide w-5 h-5 mr-2" xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24"><path d="M16 21v-2a4 4 0 0 0-8 0v2"/><circle cx="12" cy="7" r="4"/><path d="M20.88 18.5A3.5 3.5 0 0 1 17.5 22H6.5a3.5 3.5 0 0 1-3.38-2.5"/></svg></div>\n
   │                                         <span class="hidden xl:inline" >Loại Thiên Tai</span>\n
   │                                     </div>\n
   │ \n
   │                                                                             <span class="hidden xl:inline"><svg class="lucide w-5 h-5 mr-2" xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24"><path d="M6 9l6 6l6-6"/></svg></span>\n
   │                                                                     </a>\n
   │                                                                     <ul class="submenu ml-6 mt-1 hidden">\n
   │                                                                                     <li  class="group relative">\n
   │                                                 <a class="flex items-center justify-between px-4 py-2 text-sm text-slate-300 hover:text-white hover:bg-slate-700 rounded transition "\n
   │                                                     href="http://localhost/list-type-of-calamity">\n
   │                                                    <div class="flex items-center gap-2">\n
   │                                                         <svg class="lucide w-5 h-5 mr-2" xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24"><path d="M12 22a10 10 0 1 0-10-10a10.011 10.011 0 0 0 10 10z"/><path d="M12.5 7h-1a1.5 1.5 0 0 0-1.5 1.5v6A1.5 1.5 0 0 0 11.5 16h1a1.5 1.5 0 0 0 .5-2.9V9.9A1.5 1.5 0 0 0 12.5 7z"/><circle cx="12" cy="19" r=".5"/></svg>\n
   │                                                         <span class="hidden xl:inline">Loại Thiên Tai</span>\n
   │                                                     </div>\n
   │                                                                                                     </a>\n
   │                                                                                             </li>\n
   │                                                                                     <li  class="group relative">\n
   │                                                 <a class="flex items-center justify-between px-4 py-2 text-sm text-slate-300 hover:text-white hover:bg-slate-700 rounded transition "\n
   │                                                     href="http://localhost/list-sub-type-of-calamity">\n
   │                                                    <div class="flex items-center gap-2">\n
   │                                                         <svg class="lucide w-5 h-5 mr-2" xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24"><path d="M12 22a10 10 0 1 0-10-10a10.011 10.011 0 0 0 10 10z"/><path d="M12.5 7h-1a1.5 1.5 0 0 0-1.5 1.5v6A1.5 1.5 0 0 0 11.5 16h1a1.5 1.5 0 0 0 .5-2.9V9.9A1.5 1.5 0 0 0 12.5 7z"/><circle cx="12" cy="19" r=".5"/></svg>\n
   │                                                         <span class="hidden xl:inline">Loại Thiên Tai Phụ</span>\n
   │                                                     </div>\n
   │                                                                                                     </a>\n
   │                                                                                             </li>\n
   │                                                                                     <li  class="group relative">\n
   │                                                 <a class="flex items-center justify-between px-4 py-2 text-sm text-slate-300 hover:text-white hover:bg-slate-700 rounded transition "\n
   │                                                     href="http://localhost/list-risk-level">\n
   │                                                    <div class="flex items-center gap-2">\n
   │                                                         <svg class="lucide w-5 h-5 mr-2" xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24"><path d="M12 22a10 10 0 1 0-10-10a10.011 10.011 0 0 0 10 10z"/><path d="M12.5 7h-1a1.5 1.5 0 0 0-1.5 1.5v6A1.5 1.5 0 0 0 11.5 16h1a1.5 1.5 0 0 0 .5-2.9V9.9A1.5 1.5 0 0 0 12.5 7z"/><circle cx="12" cy="19" r=".5"/></svg>\n
   │                                                         <span class="hidden xl:inline">Cấp Độ Thiên Tai</span>\n
   │                                                     </div>\n
   │                                                                                                     </a>\n
   │                                                                                             </li>\n
   │                                                                                     <li  class="group relative">\n
   │                                                 <a class="flex items-center justify-between px-4 py-2 text-sm text-slate-300 hover:text-white hover:bg-slate-700 rounded transition "\n
   │                                                     href="http://localhost/list-type-of-construction">\n
   │                                                    <div class="flex items-center gap-2">\n
   │                                                         <svg class="lucide w-5 h-5 mr-2" xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24"><path d="M12 22a10 10 0 1 0-10-10a10.011 10.011 0 0 0 10 10z"/><path d="M12.5 7h-1a1.5 1.5 0 0 0-1.5 1.5v6A1.5 1.5 0 0 0 11.5 16h1a1.5 1.5 0 0 0 .5-2.9V9.9A1.5 1.5 0 0 0 12.5 7z"/><circle cx="12" cy="19" r=".5"/></svg>\n
   │                                                         <span class="hidden xl:inline">Loại Công Trình</span>\n
   │                                                     </div>\n
   │                                                                                                     </a>\n
   │                                                                                             </li>\n
   │                                                                                     <li  class="group relative">\n
   │                                                 <a class="flex items-center justify-between px-4 py-2 text-sm text-slate-300 hover:text-white hover:bg-slate-700 rounded transition "\n
   │                                                     href="http://localhost/list-scenarios">\n
   │                                                    <div class="flex items-center gap-2">\n
   │                                                         <svg class="lucide w-5 h-5 mr-2" xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24"><path d="M12 22a10 10 0 1 0-10-10a10.011 10.011 0 0 0 10 10z"/><path d="M12.5 7h-1a1.5 1.5 0 0 0-1.5 1.5v6A1.5 1.5 0 0 0 11.5 16h1a1.5 1.5 0 0 0 .5-2.9V9.9A1.5 1.5 0 0 0 12.5 7z"/><circle cx="12" cy="19" r=".5"/></svg>\n
   │                                                         <span class="hidden xl:inline">Phương Án Ứng Phó</span>\n
   │                                                     </div>\n
   │                                                                                                     </a>\n
   │                                                                                             </li>\n
   │                                                                             </ul>\n
   │                                                             </li>\n
   │                                                                                                 <li>\n
   │                                 <a class="flex items-center justify-between px-4 py-3 hover:bg-white hover:text-black text-white transition rounded cursor-pointer toggle-submenu"\n
   │                                     href="javascript:;">\n
   │                                     \n
   │                                     <div class="flex items-center gap-2" title="Dữ Liệu Thiên Tai">\n
   │                                         <div title="Dữ Liệu Thiên Tai"><svg class="lucide w-5 h-5 mr-2" xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24"><path d="M16 21v-2a4 4 0 0 0-8 0v2"/><circle cx="12" cy="7" r="4"/><path d="M20.88 18.5A3.5 3.5 0 0 1 17.5 22H6.5a3.5 3.5 0 0 1-3.38-2.5"/></svg></div>\n
   │                                         <span class="hidden xl:inline" >Dữ Liệu Thiên Tai</span>\n
   │                                     </div>\n
   │ \n
   │                                                                             <span class="hidden xl:inline"><svg class="lucide w-5 h-5 mr-2" xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24"><path d="M6 9l6 6l6-6"/></svg></span>\n
   │                                                                     </a>\n
   │                                                                     <ul class="submenu ml-6 mt-1 hidden">\n
   │                                                                                     <li  class="group relative">\n
   │                                                 <a class="flex items-center justify-between px-4 py-2 text-sm text-slate-300 hover:text-white hover:bg-slate-700 rounded transition "\n
   │                                                     href="http://localhost/calamity/list-river-bank">\n
   │                                                    <div class="flex items-center gap-2">\n
   │                                                         <svg class="lucide w-5 h-5 mr-2" xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24"><path d="M12 22a10 10 0 1 0-10-10a10.011 10.011 0 0 0 10 10z"/><path d="M12.5 7h-1a1.5 1.5 0 0 0-1.5 1.5v6A1.5 1.5 0 0 0 11.5 16h1a1.5 1.5 0 0 0 .5-2.9V9.9A1.5 1.5 0 0 0 12.5 7z"/><circle cx="12" cy="19" r=".5"/></svg>\n
   │                                                         <span class="hidden xl:inline">Sạt Lở</span>\n
   │                                                     </div>\n
   │                                                                                                     </a>\n
   │                                                                                             </li>\n
   │                                                                                     <li  class="group relative">\n
   │                                                 <a class="flex items-center justify-between px-4 py-2 text-sm text-slate-300 hover:text-white hover:bg-slate-700 rounded transition "\n
   │                                                     href="http://localhost/calamity/list-flooding">\n
   │                                                    <div class="flex items-center gap-2">\n
   │                                                         <svg class="lucide w-5 h-5 mr-2" xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24"><path d="M12 22a10 10 0 1 0-10-10a10.011 10.011 0 0 0 10 10z"/><path d="M12.5 7h-1a1.5 1.5 0 0 0-1.5 1.5v6A1.5 1.5 0 0 0 11.5 16h1a1.5 1.5 0 0 0 .5-2.9V9.9A1.5 1.5 0 0 0 12.5 7z"/><circle cx="12" cy="19" r=".5"/></svg>\n
   │                                                         <span class="hidden xl:inline">Ngập Lụt</span>\n
   │                                                     </div>\n
   │                                                                                                     </a>\n
   │                                                                                             </li>\n
   │                                                                                     <li  class="group relative">\n
   │                                                 <a class="flex items-center justify-between px-4 py-2 text-sm text-slate-300 hover:text-white hover:bg-slate-700 rounded transition "\n
   │                                                     href="http://localhost/calamity/list-storm">\n
   │                                                    <div class="flex items-center gap-2">\n
   │                                                         <svg class="lucide w-5 h-5 mr-2" xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24"><path d="M12 22a10 10 0 1 0-10-10a10.011 10.011 0 0 0 10 10z"/><path d="M12.5 7h-1a1.5 1.5 0 0 0-1.5 1.5v6A1.5 1.5 0 0 0 11.5 16h1a1.5 1.5 0 0 0 .5-2.9V9.9A1.5 1.5 0 0 0 12.5 7z"/><circle cx="12" cy="19" r=".5"/></svg>\n
   │                                                         <span class="hidden xl:inline">Bão và ATNĐ</span>\n
   │                                                     </div>\n
   │                                                                                                     </a>\n
   │                                                                                             </li>\n
   │                                                                             </ul>\n
   │                                                             </li>\n
   │                                                                                                 <li>\n
   │                                 <a class="flex items-center justify-between px-4 py-3 hover:bg-white hover:text-black text-white transition rounded cursor-pointer toggle-submenu"\n
   │                                     href="javascript:;">\n
   │                                     \n
   │                                     <div class="flex items-center gap-2" title="Công Trình PCTT">\n
   │                                         <div title="Công Trình PCTT"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-construction-icon lucide-construction"><rect x="2" y="6" width="20" height="8" rx="1"/><path d="M17 14v7"/><path d="M7 14v7"/><path d="M17 3v3"/><path d="M7 3v3"/><path d="M10 14 2.3 6.3"/><path d="m14 6 7.7 7.7"/><path d="m8 6 8 8"/></svg></div>\n
   │                                         <span class="hidden xl:inline" >Công Trình PCTT</span>\n
   │                                     </div>\n
   │ \n
   │                                                                             <span class="hidden xl:inline"><svg class="lucide w-5 h-5 mr-2" xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24"><path d="M6 9l6 6l6-6"/></svg></span>\n
   │                                                                     </a>\n
   │                                                                     <ul class="submenu ml-6 mt-1 hidden">\n
   │                                                                                     <li  class="group relative">\n
   │                                                 <a class="flex items-center justify-between px-4 py-2 text-sm text-slate-300 hover:text-white hover:bg-slate-700 rounded transition "\n
   │                                                     href="http://localhost/construction/list-river-bank">\n
   │                                                    <div class="flex items-center gap-2">\n
   │                                                         <svg class="lucide w-5 h-5 mr-2" xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24"><path d="M12 22a10 10 0 1 0-10-10a10.011 10.011 0 0 0 10 10z"/><path d="M12.5 7h-1a1.5 1.5 0 0 0-1.5 1.5v6A1.5 1.5 0 0 0 11.5 16h1a1.5 1.5 0 0 0 .5-2.9V9.9A1.5 1.5 0 0 0 12.5 7z"/><circle cx="12" cy="19" r=".5"/></svg>\n
   │                                                         <span class="hidden xl:inline">Sạt Lở</span>\n
   │                                                     </div>\n
   │                                                                                                     </a>\n
   │                                                                                             </li>\n
   │                                                                                     <li  class="group relative">\n
   │                                                 <a class="flex items-center justify-between px-4 py-2 text-sm text-slate-300 hover:text-white hover:bg-slate-700 rounded transition "\n
   │                                                     href="http://localhost/construction/list-flooding">\n
   │                                                    <div class="flex items-center gap-2">\n
   │                                                         <svg class="lucide w-5 h-5 mr-2" xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24"><path d="M12 22a10 10 0 1 0-10-10a10.011 10.011 0 0 0 10 10z"/><path d="M12.5 7h-1a1.5 1.5 0 0 0-1.5 1.5v6A1.5 1.5 0 0 0 11.5 16h1a1.5 1.5 0 0 0 .5-2.9V9.9A1.5 1.5 0 0 0 12.5 7z"/><circle cx="12" cy="19" r=".5"/></svg>\n
   │                                                         <span class="hidden xl:inline">Ngập Lụt</span>\n
   │                                                     </div>\n
   │                                                                                                     </a>\n
   │                                                                                             </li>\n
   │                                                                                     <li  class="group relative">\n
   │                                                 <a class="flex items-center justify-between px-4 py-2 text-sm text-slate-300 hover:text-white hover:bg-slate-700 rounded transition "\n
   │                                                     href="http://localhost/construction/list-storm">\n
   │                                                    <div class="flex items-center gap-2">\n
   │                                                         <svg class="lucide w-5 h-5 mr-2" xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24"><path d="M12 22a10 10 0 1 0-10-10a10.011 10.011 0 0 0 10 10z"/><path d="M12.5 7h-1a1.5 1.5 0 0 0-1.5 1.5v6A1.5 1.5 0 0 0 11.5 16h1a1.5 1.5 0 0 0 .5-2.9V9.9A1.5 1.5 0 0 0 12.5 7z"/><circle cx="12" cy="19" r=".5"/></svg>\n
   │                                                         <span class="hidden xl:inline">Bão và ATNĐ</span>\n
   │                                                     </div>\n
   │                                                                                                     </a>\n
   │                                                                                             </li>\n
   │                                                                             </ul>\n
   │                                                             </li>\n
   │                                                                                                 <li>\n
   │                                 <a class="flex items-center justify-between px-4 py-3 hover:bg-white hover:text-black text-white transition rounded cursor-pointer toggle-submenu"\n
   │                                     href="javascript:;">\n
   │                                     \n
   │                                     <div class="flex items-center gap-2" title="Địa danh hành chính">\n
   │                                         <div title="Địa danh hành chính"><svg class="lucide w-5 h-5 mr-2" xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24"><path d="M16 21v-2a4 4 0 0 0-8 0v2"/><circle cx="12" cy="7" r="4"/><path d="M20.88 18.5A3.5 3.5 0 0 1 17.5 22H6.5a3.5 3.5 0 0 1-3.38-2.5"/></svg></div>\n
   │                                         <span class="hidden xl:inline" >Địa danh hành chính</span>\n
   │                                     </div>\n
   │ \n
   │                                                                             <span class="hidden xl:inline"><svg class="lucide w-5 h-5 mr-2" xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24"><path d="M6 9l6 6l6-6"/></svg></span>\n
   │                                                                     </a>\n
   │                                                                     <ul class="submenu ml-6 mt-1 hidden">\n
   │                                                                                     <li  class="group relative">\n
   │                                                 <a class="flex items-center justify-between px-4 py-2 text-sm text-slate-300 hover:text-white hover:bg-slate-700 rounded transition "\n
   │                                                     href="http://localhost/administrative/list-school">\n
   │                                                    <div class="flex items-center gap-2">\n
   │                                                         <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-school-icon lucide-school"><path d="M14 22v-4a2 2 0 1 0-4 0v4"/><path d="m18 10 3.447 1.724a1 1 0 0 1 .553.894V20a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2v-7.382a1 1 0 0 1 .553-.894L6 10"/><path d="M18 5v17"/><path d="m4 6 7.106-3.553a2 2 0 0 1 1.788 0L20 6"/><path d="M6 5v17"/><circle cx="12" cy="9" r="2"/></svg>\n
   │                                                         <span class="hidden xl:inline">Trường Học</span>\n
   │                                                     </div>\n
   │                                                                                                     </a>\n
   │                                                                                             </li>\n
   │                                                                                     <li  class="group relative">\n
   │                                                 <a class="flex items-center justify-between px-4 py-2 text-sm text-slate-300 hover:text-white hover:bg-slate-700 rounded transition "\n
   │                                                     href="http://localhost/administrative/list-medical">\n
   │                                                    <div class="flex items-center gap-2">\n
   │                                                         <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-hospital-icon lucide-hospital"><path d="M12 6v4"/><path d="M14 14h-4"/><path d="M14 18h-4"/><path d="M14 8h-4"/><path d="M18 12h2a2 2 0 0 1 2 2v6a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2v-9a2 2 0 0 1 2-2h2"/><path d="M18 22V4a2 2 0 0 0-2-2H8a2 2 0 0 0-2 2v18"/></svg>\n
   │                                                         <span class="hidden xl:inline">Địa Điểm Y Tế</span>\n
   │                                                     </div>\n
   │                                                                                                     </a>\n
   │                                                                                             </li>\n
   │                                                                                     <li  class="group relative">\n
   │                                                 <a class="flex items-center justify-between px-4 py-2 text-sm text-slate-300 hover:text-white hover:bg-slate-700 rounded transition "\n
   │                                                     href="http://localhost/administrative/list-center">\n
   │                                                    <div class="flex items-center gap-2">\n
   │                                                         <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-university-icon lucide-university"><path d="M14 21v-3a2 2 0 0 0-4 0v3"/><path d="M18 12h.01"/><path d="M18 16h.01"/><path d="M22 7a1 1 0 0 0-1-1h-2a2 2 0 0 1-1.143-.359L13.143 2.36a2 2 0 0 0-2.286-.001L6.143 5.64A2 2 0 0 1 5 6H3a1 1 0 0 0-1 1v12a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2z"/><path d="M6 12h.01"/><path d="M6 16h.01"/><circle cx="12" cy="10" r="2"/></svg>\n
   │                                                         <span class="hidden xl:inline">TTHC và Khác</span>\n
   │                                                     </div>\n
   │                                                                                                     </a>\n
   │                                                                                             </li>\n
   │                                                                             </ul>\n
   │                                                             </li>\n
   │                                                                                                 <li>\n
   │                                 <a class="flex items-center justify-between px-4 py-3 hover:bg-white hover:text-black text-white transition rounded cursor-pointer toggle-submenu"\n
   │                                     href="javascript:;">\n
   │                                     \n
   │                                     <div class="flex items-center gap-2" title="Dữ Liệu Khác">\n
   │                                         <div title="Dữ Liệu Khác"><svg class="lucide w-5 h-5 mr-2" xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24"><path d="M16 21v-2a4 4 0 0 0-8 0v2"/><circle cx="12" cy="7" r="4"/><path d="M20.88 18.5A3.5 3.5 0 0 1 17.5 22H6.5a3.5 3.5 0 0 1-3.38-2.5"/></svg></div>\n
   │                                         <span class="hidden xl:inline" >Dữ Liệu Khác</span>\n
   │                                     </div>\n
   │ \n
   │                                                                             <span class="hidden xl:inline"><svg class="lucide w-5 h-5 mr-2" xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24"><path d="M6 9l6 6l6-6"/></svg></span>\n
   │                                                                     </a>\n
   │                                                                     <ul class="submenu ml-6 mt-1 hidden">\n
   │                                                                                     <li  class="group relative">\n
   │                                                 <a class="flex items-center justify-between px-4 py-2 text-sm text-slate-300 hover:text-white hover:bg-slate-700 rounded transition "\n
   │                                                     href="http://localhost/geographical/list-erosion">\n
   │                                                    <div class="flex items-center gap-2">\n
   │                                                         <svg class="lucide w-5 h-5 mr-2" xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24"><path d="M12 22a10 10 0 1 0-10-10a10.011 10.011 0 0 0 10 10z"/><path d="M12.5 7h-1a1.5 1.5 0 0 0-1.5 1.5v6A1.5 1.5 0 0 0 11.5 16h1a1.5 1.5 0 0 0 .5-2.9V9.9A1.5 1.5 0 0 0 12.5 7z"/><circle cx="12" cy="19" r=".5"/></svg>\n
   │                                                         <span class="hidden xl:inline">Khu vực xói, bồi</span>\n
   │                                                     </div>\n
   │                                                                                                     </a>\n
   │                                                                                             </li>\n
   │                                                                                     <li  class="group relative">\n
   │                                                 <a class="flex items-center justify-between px-4 py-2 text-sm text-slate-300 hover:text-white hover:bg-slate-700 rounded transition "\n
   │                                                     href="http://localhost/geographical/list-shoreline">\n
   │                                                    <div class="flex items-center gap-2">\n
   │                                                         <svg class="lucide w-5 h-5 mr-2" xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24"><path d="M12 22a10 10 0 1 0-10-10a10.011 10.011 0 0 0 10 10z"/><path d="M12.5 7h-1a1.5 1.5 0 0 0-1.5 1.5v6A1.5 1.5 0 0 0 11.5 16h1a1.5 1.5 0 0 0 .5-2.9V9.9A1.5 1.5 0 0 0 12.5 7z"/><circle cx="12" cy="19" r=".5"/></svg>\n
   │                                                         <span class="hidden xl:inline">Lịch sử đường bờ</span>\n
   │                                                     </div>\n
   │                                                                                                     </a>\n
   │                                                                                             </li>\n
   │                                                                                     <li  class="group relative">\n
   │                                                 <a class="flex items-center justify-between px-4 py-2 text-sm text-slate-300 hover:text-white hover:bg-slate-700 rounded transition "\n
   │                                                     href="http://localhost/geographical/list-cross-section">\n
   │                                                    <div class="flex items-center gap-2">\n
   │                                                         <svg class="lucide w-5 h-5 mr-2" xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24"><path d="M12 22a10 10 0 1 0-10-10a10.011 10.011 0 0 0 10 10z"/><path d="M12.5 7h-1a1.5 1.5 0 0 0-1.5 1.5v6A1.5 1.5 0 0 0 11.5 16h1a1.5 1.5 0 0 0 .5-2.9V9.9A1.5 1.5 0 0 0 12.5 7z"/><circle cx="12" cy="19" r=".5"/></svg>\n
   │                                                         <span class="hidden xl:inline">Mặt cắt ngang</span>\n
   │                                                     </div>\n
   │                                                                                                     </a>\n
   │                                                                                             </li>\n
   │                                                                                     <li  class="group relative">\n
   │                                                 <a class="flex items-center justify-between px-4 py-2 text-sm text-slate-300 hover:text-white hover:bg-slate-700 rounded transition "\n
   │                                                     href="http://localhost/geographical/list-monitoring">\n
   │                                                    <div class="flex items-center gap-2">\n
   │                                                         <svg class="lucide w-5 h-5 mr-2" xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24"><path d="M12 22a10 10 0 1 0-10-10a10.011 10.011 0 0 0 10 10z"/><path d="M12.5 7h-1a1.5 1.5 0 0 0-1.5 1.5v6A1.5 1.5 0 0 0 11.5 16h1a1.5 1.5 0 0 0 .5-2.9V9.9A1.5 1.5 0 0 0 12.5 7z"/><circle cx="12" cy="19" r=".5"/></svg>\n
   │                                                         <span class="hidden xl:inline">Mốc quan trắc</span>\n
   │                                                     </div>\n
   │                                                                                                     </a>\n
   │                                                                                             </li>\n
   │                                                                             </ul>\n
   │                                                             </li>\n
   │                                                                                                 <li>\n
   │                                 <a class="flex items-center justify-between px-4 py-3 hover:bg-white hover:text-black text-white transition rounded cursor-pointer "\n
   │                                     href="http://localhost/map">\n
   │                                     \n
   │                                     <div class="flex items-center gap-2" title="Bản Đồ">\n
   │                                         <div title="Bản Đồ"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-map-icon lucide-map"><path d="M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z"/><path d="M15 5.764v15"/><path d="M9 3.236v15"/></svg></div>\n
   │                                         <span class="hidden xl:inline" >Bản Đồ</span>\n
   │                                     </div>\n
   │ \n
   │                                                                     </a>\n
   │                                                             </li>\n
   │                                                                                                 <li>\n
   │                                 <a class="flex items-center justify-between px-4 py-3 hover:bg-white hover:text-black text-white transition rounded cursor-pointer "\n
   │                                     href="http://localhost/chat">\n
   │                                     \n
   │                                     <div class="flex items-center gap-2" title="Tham gia cộng đồng">\n
   │                                         <div title="Tham gia cộng đồng"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-message-circle-icon lucide-message-circle"><path d="M7.9 20A9 9 0 1 0 4 16.1L2 22Z"/></svg></div>\n
   │                                         <span class="hidden xl:inline" >Tham gia cộng đồng</span>\n
   │                                     </div>\n
   │ \n
   │                                                                     </a>\n
   │                                                             </li>\n
   │                                                                                                 <li>\n
   │                                 <a class="flex items-center justify-between px-4 py-3 hover:bg-white hover:text-black text-white transition rounded cursor-pointer "\n
   │                                     href="http://localhost/incident-report">\n
   │                                     \n
   │                                     <div class="flex items-center gap-2" title="Báo cáo sự cố">\n
   │                                         <div title="Báo cáo sự cố"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-message-square-warning-icon lucide-message-square-warning"><path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"/><path d="M12 7v2"/><path d="M12 13h.01"/></svg></div>\n
   │                                         <span class="hidden xl:inline" >Báo cáo sự cố</span>\n
   │                                     </div>\n
   │ \n
   │                                                                     </a>\n
   │                                                             </li>\n
   │                                                                 \n
   │                                 </ul>\n
   │             </nav>\n
   │             <div class="md:max-w-auto overflow-x-hidden overflow-y-auto max-h-[100vh] min-w-0 max-w-full flex-1 rounded-[30px] bg-slate-100 px-4 pb-10 before:block before:h-px before:w-full before:content-[''] md:px-[22px]">\n
   │                 <div class="relative sticky top-0 z-2 flex items-center h-[68px] px-4 border-b border-slate-100 bg-slate-100">\n
   │   \n
   │                     <div class="mr-auto"> \n
   │                        <div class="rounded-[8px] overflow-hidden w-[200px] md:w-[325px] h-[40px] bg-[#1E3A8A] border-[2px] border-[#133086] shadow-[0_2px_6px_rgba(0,0,0,0.1)] flex items-center justify-center">\n
   │                   \n
   │                     <iframe src="https://thoitiet247.vn/widget/embed/ca-mau?style=6&day=7&td=%232e0000&ntd=%231e3a8a&mvb=%23000205&mv=%231e3a8a&mdk=%23000000&htd=true" \n
   │                         id="widgeturl" class = "w-[200px] md:w-[325px]" height="55px" scrolling="no" frameborder="0" allowtransparency="true" style="border:none;overflow:hidden;"></iframe><!-- End thoitiet.app widget -->\n
   │                     </div>\n
   │ \n
   │                     </div>\n
   │                     \n
   │                     <div class="relative flex items-center gap-2">\n
   │                                                 \n
   │                             <div class="relative mr-4">\n
   │                                 <a href="javascript:void(0)" onclick="openNotification()" class="relative">\n
   │                                     <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="#dfc207" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-bell-icon lucide-bell"><path d="M10.268 21a2 2 0 0 0 3.464 0"/><path d="M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326"/></svg>\n
   │ \n
   │                                     <!-- Badge đỏ số lượng -->\n
   │                                                                     </a>\n
   │                                 \n
   │ \n
   │                                 <!-- Dropdown thông báo -->\n
   │                                 <div class="absolute right-0 mt-2 w-80 bg-white border rounded shadow z-50 hidden" id="notification-dropdown">\n
   │                                     <ul class="divide-y divide-gray-100 max-h-80 overflow-y-auto">\n
   │                                                                                     <li class="p-3 text-sm text-gray-500">Không có thông báo nào</li>\n
   │                                                                             </ul>\n
   │                                 </div>\n
   │                             </div>\n
   │ \n
   │                             <button type="button" style="all: unset" id="user-menu-button" aria-expanded="false">\n
   │                                 <svg class="lucide w-5 h-5 mr-2" xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24"><circle cx="12" cy="12" r="10"/><path d="M16 16a4 4 0 0 0-8 0v2a4 4 0 0 0 8 0z"/><circle cx="12" cy="9" r="3"/></svg>\n
   │                             </button>\n
   │ \n
   │                             <div class="hidden absolute right-0 mt-2 w-48 z-1 text-base bg-white divide-y divide-gray-100 rounded-lg shadow-lg" id="user-dropdown">\n
   │                                 <div class="px-4 py-3">\n
   │                                     <span class="block text-sm text-gray-900">Tên: Cathrine Murray</span>\n
   │                                     <span class="block text-sm text-gray-500 truncate">Tên đăng nhập: edubuque</span>\n
   │                                 </div>\n
   │                                 <ul class="py-2" aria-labelledby="user-menu-button">\n
   │                                     <li>\n
   │                                         <a href="http://localhost/edit-profile" class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100">Hồ sơ</a>\n
   │                                     </li>\n
   │                                    \n
   │                                     <li>\n
   │                                         <a href="http://localhost/logout" class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100">Đăng xuất</a>\n
   │                                     </li>\n
   │                                 </ul>\n
   │                             </div>\n
   │                         \n
   │                                             </div>\n
   │                 </div>\n
   │                 \n
   │                     <div class="intro-y mt-5  flex items-center justify-between">\n
   │         <div class="flex items-center text-lg font-medium uppercase">\n
   │             <svg class="lucide w-5 h-5 mr-2" xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24"><path d="M16 21v-2a4 4 0 0 0-8 0v2"/><circle cx="12" cy="7" r="4"/></svg>\n
   │             Danh Sách CÁN BỘ\n
   │         </div>\n
   │         <a class="flex items-center text-primary" href="http://localhost/list-user">\n
   │             <svg class="lucide w-5 h-5 mr-2" xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24"><path d="M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8"/><path d="M3 3v5h5"/><path d="M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16"/><path d="M16 16h5v5"/></svg> Tải lại dữ liệu\n
   │         </a>\n
   │     </div>\n
   │         <div class="mt-5 grid grid-cols-12 gap-6">\n
   │         <div class="intro-y col-span-12 flex flex-wrap items-start gap-3">\n
   │             \n
   │             <form action="http://localhost/list-user" method="GET" class="flex flex-wrap items-center gap-3 grow">\n
   │                 \n
   │                 <div class="relative">\n
   │                     <div class="absolute inset-y-0 start-0 flex items-center ps-3 pointer-events-none">\n
   │                         <svg class="lucide w-5 h-5 mr-2" xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24"><circle cx="11" cy="11" r="8"/><path d="M21 21l-4.35-4.35"/></svg>\n
   │                     </div>\n
   │                     <input type="text" name="name" placeholder="Tên người dùng..." value="Test"\n
   │                             class="block w-full p-4 ps-10 text-sm text-gray-900 border border-gray-300 rounded-lg bg-gray-50 focus:ring-blue-500 focus:border-blue-500" />\n
   │                 </div>\n
   │ \n
   │                 <button type="submit"\n
   │                     class="h-10 bg-blue-600 hover:bg-blue-700 text-white font-medium px-4 py-2 rounded-lg shadow-md transition-all">\n
   │                     Tìm kiếm\n
   │                 </button>\n
   │             </form>\n
   │             <a href="http://localhost/create-user">\n
   │                 <button type="button" class="text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center inline-flex items-center me-2">\n
   │                     <svg class="lucide w-5 h-5 mr-2" xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24"><circle cx="12" cy="12" r="10"/><path d="M12 8v8"/><path d="M8 12h8"/></svg> Thêm mới người dùng\n
   │                 </button>\n
   │             </a>\n
   │             <form action="http://localhost/import-users" method="POST" enctype="multipart/form-data" formInline>\n
   │                 <input type="hidden" name="_token" value="K2ZIQyPaSnIJDGpHCDgNs5CXym9EXutcaBlBWCJN" autocomplete="off">\n
   │                <div class="flex items-center gap-2">\n
   │                     <input type="file" id="fileImport" name="fileImport" accept=".xls,.xlsx"\n
   │                         class="block w-[200px] text-sm text-gray-900\n
   │                         file:mr-2 file:py-1 file:px-3\n
   │                         file:rounded file:border-0\n
   │                         file:text-sm file:font-medium\n
   │                         file:bg-blue-100 file:text-blue-700 file:w-[60px]\n
   │                         hover:file:bg-blue-200 border border-gray-300 rounded-md">\n
   │ \n
   │                 <button type="submit"\n
   │                     class="text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 focus:outline-none">\n
   │                     Thêm nhiều người dùng\n
   │                 </button>\n
   │             </div>\n
   │             </form> \n
   │ \n
   │         </div>\n
   │         \n
   │         <div\n
   │             class="intro-y col-span-3 overflow-auto lg:overflow-visible text-base text-gray-800  bg-gray-300 rounded-md px-4 py-2 shadow-sm text-center">\n
   │             Tổng số người dùng: <span class="font-semibold">0</span>\n
   │         </div>\n
   │ \n
   │         <div class="intro-y col-span-12 overflow-auto lg:overflow-x-auto">\n
   │             <form action="http://localhost/delete-multiple-user" method="POST">\n
   │             <input type="hidden" name="_token" value="K2ZIQyPaSnIJDGpHCDgNs5CXym9EXutcaBlBWCJN" autocomplete="off">            <input type="hidden" name="_method" value="DELETE">             \n
   │             <button type="button" onclick="openDeleteMultipleModal()" class="bg-red-700 z-1 sticky left-0" id="delete-multiple-btn" disabled>\n
   │                 <svg class="lucide w-5 h-5 mr-2" xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24"><polyline points="3 6 5 6 21 6"/><path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6"/><path d="M10 11v6"/><path d="M14 11v6"/><path d="M16.5 6l-1.5-4h-4l-1.5 4"/></svg> Xoá (<span id="selected-count">0</span>)\n
   │             </button>\n
   │          \n
   │             <table class="mt-2 border-separate border-spacing-y-[10px]">\n
   │                 <thead class="text-gray-700 uppercase bg-blue-100">\n
   │                     <tr>\n
   │                         <th class="sticky left-0 z-1 bg-blue-100 w-[40px] min-w-[40px] max-w-[40px] px-1 text-center"><input type="checkbox" id="selectAll" class="block mx-auto"></th>\n
   │                         <th class="sticky left-[10px] z-1 bg-blue-100 whitespace-nowrap px-4 py-4 ">Tên người dùng</th>\n
   │                         <th scope="col"class="px-6 py-4 whitespace-nowrap min-w-[160px]">Tên đăng nhập</th>\n
   │                         <th scope="col"class="px-6 py-4 whitespace-nowrap min-w-[160px]">Email</th>\n
   │                         <th scope="col"class="px-6 py-4 whitespace-nowrap min-w-[160px]">Hành động</th>\n
   │                     </tr>\n
   │                 </thead>\n
   │                 <tbody>\n
   │                                         <tr>\n
   │                         <td colspan="11" class="text-center py-6">\n
   │                             <div class="flex flex-col items-center justify-center text-slate-500">\n
   │                                 <svg class="lucide w-5 h-5 mr-2" xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24"><circle cx="12" cy="12" r="10"/><path d="M16 16a4 4 0 0 0-8 0"/><path d="M9 9h.01"/><path d="M15 9h.01"/></svg>\n
   │                                 <div class="mt-2 text-lg">Hiện tại không có dữ liệu</div>\n
   │                             </div>\n
   │                         </td>\n
   │                     </tr>\n
   │                                 </tbody>\n
   │             </table>\n
   │ \n
   │             </form>\n
   │         </div>\n
   │ \n
   │     </div>\n
   │ \n
   │     <div class="intro-y col-span-12 overflow-auto lg:overflow-visible">\n
   │         \n
   │     </div>\n
   │     </div>\n
   │     <div class="fixed inset-0 z-50 hidden" id="delete-confirmation-modal" aria-modal="true">\r\n
   │     <div class="fixed inset-0 bg-black/50"></div>\r\n
   │     <div class="flex min-h-screen items-center justify-center">\r\n
   │         <div class="bg-white rounded-lg shadow-xl w-full max-w-md z-50 p-6">\r\n
   │             <div class="flex items-start space-x-3">\r\n
   │                 <div class="text-red-500">\r\n
   │                     <svg class="lucide w-5 h-5 mr-2" xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24"><circle cx="12" cy="12" r="10"/><path d="M12 8v4"/><path d="M12 16h.01"/></svg>\r\n
   │                 </div>\r\n
   │                 <div>\r\n
   │                     <h3 class="text-lg font-semibold text-gray-900">Xác nhận xoá</h3>\r\n
   │                     <p class="mt-1 text-sm text-gray-600">Xác nhận xóa dữ liệu này?</p>\r\n
   │                 </div>\r\n
   │             </div>\r\n
   │ \r\n
   │             <div class="mt-6 flex justify-end space-x-2">\r\n
   │                 <button type="button" onclick="closeDeleteModal()" class="bg-white px-4 py-2 rounded border text-gray-700 hover:bg-gray-100">\r\n
   │                     Hủy\r\n
   │                 </button>\r\n
   │                 <a href="#" id="confirm-delete"\r\n
   │                     class="px-4 py-2 rounded bg-red-600 text-white hover:bg-red-700">\r\n
   │                     Xoá\r\n
   │                 </a>\r\n
   │             </div>\r\n
   │         </div>\r\n
   │     </div>\r\n
   │ </div>    <div class="fixed inset-0 z-50 hidden" id="delete-multiple-confirmation-modal" aria-modal="true">\r\n
   │     <div class="fixed inset-0 bg-black/50"></div>\r\n
   │     <div class="flex min-h-screen items-center justify-center">\r\n
   │         <div class="bg-white rounded-lg shadow-xl w-full max-w-md z-50 p-6">\r\n
   │             <div class="flex items-start space-x-3">\r\n
   │                 <div class="text-red-500">\r\n
   │                     <svg class="lucide w-5 h-5 mr-2" xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24"><circle cx="12" cy="12" r="10"/><path d="M12 8v4"/><path d="M12 16h.01"/></svg>\r\n
   │                 </div>\r\n
   │                 <div>\r\n
   │                     <h3 class="text-lg font-semibold text-gray-900">Xác nhận xoá nhiều </h3>\r\n
   │                     <p class="mt-1 text-sm text-gray-600">Xác nhận xóa dữ liệu này?</p>\r\n
   │                 </div>\r\n
   │             </div>\r\n
   │ \r\n
   │             <div class="mt-6 flex justify-end space-x-2">\r\n
   │                 <button type="button" onclick="closeDeleteMultipleModal()"\r\n
   │                         class="bg-white px-4 py-2 rounded border text-gray-700 hover:bg-gray-100">\r\n
   │                     Hủy\r\n
   │                 </button>\r\n
   │                 <a href="#" id="confirm-delete-multiple"\r\n
   │                     class="px-4 py-2 rounded bg-red-600 text-white hover:bg-red-700">\r\n
   │                     Xoá\r\n
   │                 </a>\r\n
   │             </div>\r\n
   │         </div>\r\n
   │     </div>\r\n
   │ </div>\r\n
   │ \r\n
   │     <script type="module" src="http://[::1]:5173/@vite/client"></script><script type="module" src="http://[::1]:5173/resources/js/confirm-delete.js"></script>   \n
   │ \n
   │ \n
   │             </div>\n
   │         </div>\n
   │     </div>\n
   │ \n
   │ </body>\n
   │ \n
   │ </html>\n
   │ \n
   │ <script>\n
   │     function openNotification() {\n
   │         console.log('openNotification');\n
   │         const dropdown = document.getElementById('notification-dropdown');\n
   │         if (dropdown) {\n
   │             dropdown.classList.toggle('hidden');\n
   │             \n
   │             // Nếu dropdown đang hiển thị, đánh dấu tất cả thông báo đã đọc\n
   │             if (!dropdown.classList.contains('hidden')) {\n
   │                 markNotificationsAsRead();\n
   │             }\n
   │         }\n
   │     }\n
   │ \n
   │     function markNotificationsAsRead() {\n
   │         // Gửi request để đánh dấu thông báo đã đọc\n
   │         fetch('/mark-notifications-as-read', {\n
   │             method: 'POST',\n
   │             headers: {\n
   │                 'X-CSRF-TOKEN': document.querySelector('meta[name="csrf-token"]').getAttribute('content'),\n
   │                 'Content-Type': 'application/json',\n
   │             },\n
   │         })\n
   │         .then(response => response.json())\n
   │         .then(data => {\n
   │             if (data.success) {\n
   │                 // Ẩn badge số lượng thông báo\n
   │                 const badge = document.getElementById('notification-badge');\n
   │                 if (badge) {\n
   │                     badge.style.display = 'none';\n
   │                 }\n
   │             }\n
   │         })\n
   │         .catch(error => {\n
   │             console.error('Error marking notifications as read:', error);\n
   │         });\n
   │     }\n
   │ \n
   │     function markNotificationAsRead(notificationId, element) {\n
   │         // Gửi request để đánh dấu một thông báo cụ thể đã đọc\n
   │         fetch('/mark-notification-as-read', {\n
   │             method: 'POST',\n
   │             headers: {\n
   │                 'X-CSRF-TOKEN': document.querySelector('meta[name="csrf-token"]').getAttribute('content'),\n
   │                 'Content-Type': 'application/json',\n
   │             },\n
   │             body: JSON.stringify({\n
   │                 notification_id: notificationId\n
   │             })\n
   │         })\n
   │         .then(response => response.json())\n
   │         .then(data => {\n
   │             if (data.success) {\n
   │                 // Cập nhật giao diện\n
   │                 element.classList.remove('bg-blue-50', 'border-l-4', 'border-blue-500');\n
   │                 element.classList.add('bg-white');\n
   │                 \n
   │                 // Cập nhật màu text\n
   │                 const titleElement = element.querySelector('.font-semibold');\n
   │                 const messageElement = element.querySelector('.text-blue-700');\n
   │                 if (titleElement) titleElement.classList.remove('text-blue-900');\n
   │                 if (messageElement) messageElement.classList.remove('text-blue-700');\n
   │                 \n
   │                 // Ẩn dot xanh\n
   │                 const dotElement = element.querySelector('.bg-blue-500');\n
   │                 if (dotElement) dotElement.style.display = 'none';\n
   │                 \n
   │                 // Cập nhật badge số lượng\n
   │                 updateNotificationBadge();\n
   │             }\n
   │         })\n
   │         .catch(error => {\n
   │             console.error('Error marking notification as read:', error);\n
   │         });\n
   │     }\n
   │ \n
   │     function updateNotificationBadge() {\n
   │         // Đếm số thông báo chưa đọc còn lại\n
   │         const unreadItems = document.querySelectorAll('.bg-blue-50');\n
   │         const badge = document.getElementById('notification-badge');\n
   │         \n
   │         if (badge) {\n
   │             if (unreadItems.length === 0) {\n
   │                 badge.style.display = 'none';\n
   │             } else {\n
   │                 badge.textContent = unreadItems.length;\n
   │                 badge.style.display = 'inline-block';\n
   │             }\n
   │         }\n
   │     }\n
   │ \n
   │     document.addEventListener("DOMContentLoaded", function () {\n
   │         const toggles = document.querySelectorAll('.toggle-submenu');\n
   │ \n
   │         toggles.forEach(toggle => {\n
   │             toggle.addEventListener('click', function (e) {\n
   │                 e.preventDefault();\n
   │                 const submenu = this.nextElementSibling;\n
   │ \n
   │                 document.querySelectorAll('.submenu').forEach(sm => {\n
   │                     if (sm !== submenu) sm.classList.add('hidden');\n
   │                 });\n
   │ \n
   │                 if (submenu && submenu.classList.contains('submenu')) {\n
   │                     submenu.classList.toggle('hidden');\n
   │                 }\n
   │             });\n
   │         });\n
   │         \n
   │         const btn = document.getElementById('user-menu-button');\n
   │         const dropdown = document.getElementById('user-dropdown');\n
   │ \n
   │         if (btn && dropdown) {\n
   │             btn.addEventListener('click', function (e) {\n
   │                 e.stopPropagation();\n
   │                 dropdown.classList.toggle('hidden');\n
   │             });\n
   │ \n
   │             document.addEventListener('click', function (e) {\n
   │                 if (!dropdown.classList.contains('hidden') &&\n
   │                     !dropdown.contains(e.target) &&\n
   │                     !btn.contains(e.target)) {\n
   │                     dropdown.classList.add('hidden');\n
   │                 }\n
   │             });\n
   │         }\n
   │ \n
   │         // Thêm event listener để đóng dropdown thông báo khi click ra ngoài\n
   │         document.addEventListener('click', function (e) {\n
   │             const notificationDropdown = document.getElementById('notification-dropdown');\n
   │             const notificationButton = document.querySelector('[onclick="openNotification()"]');\n
   │             \n
   │             if (notificationDropdown && !notificationDropdown.classList.contains('hidden') &&\n
   │                 !notificationDropdown.contains(e.target) &&\n
   │                 !notificationButton.contains(e.target)) {\n
   │                 notificationDropdown.classList.add('hidden');\n
   │             }\n
   │         });\n
   │     });\n
   │ </script>\n
   │ ' [UTF-8](length: 102503) contains "Test User" [ASCII](length: 9).
   │
   │ D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Testing\TestResponseAssert.php:45
   │ D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\vendor\laravel\framework\src\Illuminate\Testing\TestResponse.php:686
   │ D:\DO_AN_TOT_NGHIEP\doan_calamity_manager\tests\Feature\UserManagementTest.php:168
   │
 ✔ Guest cannot access user management
 ✔ Guest cannot access create user form

ERRORS!
Tests: 134, Assertions: 296, Errors: 1, Failures: 14, Skipped: 2.
